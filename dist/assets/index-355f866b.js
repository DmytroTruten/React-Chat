var VD=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var uH=VD((fH,Id)=>{function zD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function iE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dl={},BD={get exports(){return Dl},set exports(t){Dl=t}},Dh={},N={},WD={get exports(){return N},set exports(t){N=t}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu=Symbol.for("react.element"),HD=Symbol.for("react.portal"),YD=Symbol.for("react.fragment"),GD=Symbol.for("react.strict_mode"),qD=Symbol.for("react.profiler"),KD=Symbol.for("react.provider"),QD=Symbol.for("react.context"),XD=Symbol.for("react.forward_ref"),JD=Symbol.for("react.suspense"),ZD=Symbol.for("react.memo"),eR=Symbol.for("react.lazy"),c_=Symbol.iterator;function tR(t){return t===null||typeof t!="object"?null:(t=c_&&t[c_]||t["@@iterator"],typeof t=="function"?t:null)}var sE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oE=Object.assign,aE={};function oa(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||sE}oa.prototype.isReactComponent={};oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lE(){}lE.prototype=oa.prototype;function wy(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||sE}var _y=wy.prototype=new lE;_y.constructor=wy;oE(_y,oa.prototype);_y.isPureReactComponent=!0;var d_=Array.isArray,uE=Object.prototype.hasOwnProperty,Sy={current:null},cE={key:!0,ref:!0,__self:!0,__source:!0};function dE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uE.call(e,r)&&!cE.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];i.children=h}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:hu,type:t,key:s,ref:o,props:i,_owner:Sy.current}}function nR(t,e){return{$$typeof:hu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ey(t){return typeof t=="object"&&t!==null&&t.$$typeof===hu}function rR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h_=/\/+/g;function Dp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rR(""+t.key):e.toString(36)}function td(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hu:case HD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Dp(o,0):r,d_(i)?(n="",t!=null&&(n=t.replace(h_,"$&/")+"/"),td(i,e,n,"",function(f){return f})):i!=null&&(Ey(i)&&(i=nR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(h_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",d_(t))for(var u=0;u<t.length;u++){s=t[u];var h=r+Dp(s,u);o+=td(s,e,n,h,i)}else if(h=tR(t),typeof h=="function")for(t=h.call(t),u=0;!(s=t.next()).done;)s=s.value,h=r+Dp(s,u++),o+=td(s,e,n,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ic(t,e,n){if(t==null)return t;var r=[],i=0;return td(t,r,"","",function(s){return e.call(n,s,i++)}),r}function iR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},nd={transition:null},sR={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:nd,ReactCurrentOwner:Sy};Ee.Children={map:Ic,forEach:function(t,e,n){Ic(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ic(t,function(){e++}),e},toArray:function(t){return Ic(t,function(e){return e})||[]},only:function(t){if(!Ey(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=oa;Ee.Fragment=YD;Ee.Profiler=qD;Ee.PureComponent=wy;Ee.StrictMode=GD;Ee.Suspense=JD;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sR;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Sy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)uE.call(e,h)&&!cE.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:hu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:QD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KD,_context:t},t.Consumer=t};Ee.createElement=dE;Ee.createFactory=function(t){var e=dE.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:XD,render:t}};Ee.isValidElement=Ey;Ee.lazy=function(t){return{$$typeof:eR,_payload:{_status:-1,_result:t},_init:iR}};Ee.memo=function(t,e){return{$$typeof:ZD,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=nd.transition;nd.transition={};try{t()}finally{nd.transition=e}};Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ee.useCallback=function(t,e){return an.current.useCallback(t,e)};Ee.useContext=function(t){return an.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return an.current.useEffect(t,e)};Ee.useId=function(){return an.current.useId()};Ee.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return an.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Ee.useRef=function(t){return an.current.useRef(t)};Ee.useState=function(t){return an.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return an.current.useTransition()};Ee.version="18.2.0";(function(t){t.exports=Ee})(WD);const hE=iE(N),Om=zD({__proto__:null,default:hE},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR=N,aR=Symbol.for("react.element"),lR=Symbol.for("react.fragment"),uR=Object.prototype.hasOwnProperty,cR=oR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dR={key:!0,ref:!0,__self:!0,__source:!0};function fE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uR.call(e,r)&&!dR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aR,type:t,key:s,ref:o,props:i,_owner:cR.current}}Dh.Fragment=lR;Dh.jsx=fE;Dh.jsxs=fE;(function(t){t.exports=Dh})(BD);const hR=Dl.Fragment,U=Dl.jsx,Pe=Dl.jsxs;var Dm={},Rm={},fR={get exports(){return Rm},set exports(t){Rm=t}},Dn={},Pm={},pR={get exports(){return Pm},set exports(t){Pm=t}},pE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,le){var he=Q.length;Q.push(le);e:for(;0<he;){var Ke=he-1>>>1,Le=Q[Ke];if(0<i(Le,le))Q[Ke]=le,Q[he]=Le,he=Ke;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var le=Q[0],he=Q.pop();if(he!==le){Q[0]=he;e:for(var Ke=0,Le=Q.length,Ir=Le>>>1;Ke<Ir;){var X=2*(Ke+1)-1,rs=Q[X],vn=X+1,is=Q[vn];if(0>i(rs,he))vn<Le&&0>i(is,rs)?(Q[Ke]=is,Q[vn]=he,Ke=vn):(Q[Ke]=rs,Q[X]=he,Ke=X);else if(vn<Le&&0>i(is,he))Q[Ke]=is,Q[vn]=he,Ke=vn;else break e}}return le}function i(Q,le){var he=Q.sortIndex-le.sortIndex;return he!==0?he:Q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],f=[],y=1,_=null,S=3,b=!1,R=!1,D=!1,$=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(Q){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=Q)r(f),le.sortIndex=le.expirationTime,e(h,le);else break;le=n(f)}}function A(Q){if(D=!1,x(Q),!R)if(n(h)!==null)R=!0,Ne(j);else{var le=n(f);le!==null&&ns(A,le.startTime-Q)}}function j(Q,le){R=!1,D&&(D=!1,I(L),L=-1),b=!0;var he=S;try{for(x(le),_=n(h);_!==null&&(!(_.expirationTime>le)||Q&&!en());){var Ke=_.callback;if(typeof Ke=="function"){_.callback=null,S=_.priorityLevel;var Le=Ke(_.expirationTime<=le);le=t.unstable_now(),typeof Le=="function"?_.callback=Le:_===n(h)&&r(h),x(le)}else r(h);_=n(h)}if(_!==null)var Ir=!0;else{var X=n(f);X!==null&&ns(A,X.startTime-le),Ir=!1}return Ir}finally{_=null,S=he,b=!1}}var Y=!1,K=null,L=-1,De=5,me=-1;function en(){return!(t.unstable_now()-me<De)}function ai(){if(K!==null){var Q=t.unstable_now();me=Q;var le=!0;try{le=K(!0,Q)}finally{le?li():(Y=!1,K=null)}}else Y=!1}var li;if(typeof T=="function")li=function(){T(ai)};else if(typeof MessageChannel<"u"){var ka=new MessageChannel,ie=ka.port2;ka.port1.onmessage=ai,li=function(){ie.postMessage(null)}}else li=function(){$(ai,0)};function Ne(Q){K=Q,Y||(Y=!0,li())}function ns(Q,le){L=$(function(){Q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){R||b||(R=!0,Ne(j))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):De=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var he=S;S=le;try{return Q()}finally{S=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=S;S=Q;try{return le()}finally{S=he}},t.unstable_scheduleCallback=function(Q,le,he){var Ke=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ke+he:Ke):he=Ke,Q){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=he+Le,Q={id:y++,callback:le,priorityLevel:Q,startTime:he,expirationTime:Le,sortIndex:-1},he>Ke?(Q.sortIndex=he,e(f,Q),n(h)===null&&Q===n(f)&&(D?(I(L),L=-1):D=!0,ns(A,he-Ke))):(Q.sortIndex=Le,e(h,Q),R||b||(R=!0,Ne(j))),Q},t.unstable_shouldYield=en,t.unstable_wrapCallback=function(Q){var le=S;return function(){var he=S;S=le;try{return Q.apply(this,arguments)}finally{S=he}}}})(pE);(function(t){t.exports=pE})(pR);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE=N,xn=Pm;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gE=new Set,Rl={};function Ys(t,e){zo(t,e),zo(t+"Capture",e)}function zo(t,e){for(Rl[t]=e,t=0;t<e.length;t++)gE.add(e[t])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nm=Object.prototype.hasOwnProperty,mR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f_={},p_={};function gR(t){return Nm.call(p_,t)?!0:Nm.call(f_,t)?!1:mR.test(t)?p_[t]=!0:(f_[t]=!0,!1)}function yR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vR(t,e,n,r){if(e===null||typeof e>"u"||yR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ty=/[\-:]([a-z])/g;function ky(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ty,ky);Lt[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ty,ky);Lt[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ty,ky);Lt[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iy(t,e,n,r){var i=Lt.hasOwnProperty(e)?Lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vR(e,n,i,r)&&(n=null),r||i===null?gR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ii=mE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bc=Symbol.for("react.element"),po=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),Am=Symbol.for("react.profiler"),yE=Symbol.for("react.provider"),vE=Symbol.for("react.context"),xy=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),Lm=Symbol.for("react.suspense_list"),Cy=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),wE=Symbol.for("react.offscreen"),m_=Symbol.iterator;function Ba(t){return t===null||typeof t!="object"?null:(t=m_&&t[m_]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Rp;function nl(t){if(Rp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rp=e&&e[1]||""}return`
`+Rp+t}var Pp=!1;function Np(t,e){if(!t||Pp)return"";Pp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var h=`
`+i[o].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=o&&0<=u);break}}}finally{Pp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nl(t):""}function wR(t){switch(t.tag){case 5:return nl(t.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return t=Np(t.type,!1),t;case 11:return t=Np(t.type.render,!1),t;case 1:return t=Np(t.type,!0),t;default:return""}}function Um(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mo:return"Fragment";case po:return"Portal";case Am:return"Profiler";case by:return"StrictMode";case Mm:return"Suspense";case Lm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vE:return(t.displayName||"Context")+".Consumer";case yE:return(t._context.displayName||"Context")+".Provider";case xy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cy:return e=t.displayName||null,e!==null?e:Um(t.type)||"Memo";case mi:e=t._payload,t=t._init;try{return Um(t(e))}catch{}}return null}function _R(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Um(e);case 8:return e===by?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _E(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SR(t){var e=_E(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xc(t){t._valueTracker||(t._valueTracker=SR(t))}function SE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_E(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $m(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function g_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EE(t,e){e=e.checked,e!=null&&Iy(t,"checked",e,!1)}function Fm(t,e){EE(t,e);var n=Bi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jm(t,e.type,n):e.hasOwnProperty("defaultValue")&&jm(t,e.type,Bi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jm(t,e,n){(e!=="number"||bd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rl=Array.isArray;function Oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(rl(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bi(n)}}function TE(t,e){var n=Bi(e.value),r=Bi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cc,IE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cc=Cc||document.createElement("div"),Cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ER=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(t){ER.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hl[e]=hl[t]})});function bE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hl.hasOwnProperty(t)&&hl[t]?(""+e).trim():e+"px"}function xE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var TR=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bm(t,e){if(e){if(TR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Wm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=null;function Oy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ym=null,Do=null,Ro=null;function __(t){if(t=mu(t)){if(typeof Ym!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Mh(e),Ym(t.stateNode,t.type,e))}}function CE(t){Do?Ro?Ro.push(t):Ro=[t]:Do=t}function OE(){if(Do){var t=Do,e=Ro;if(Ro=Do=null,__(t),e)for(t=0;t<e.length;t++)__(e[t])}}function DE(t,e){return t(e)}function RE(){}var Ap=!1;function PE(t,e,n){if(Ap)return t(e,n);Ap=!0;try{return DE(t,e,n)}finally{Ap=!1,(Do!==null||Ro!==null)&&(RE(),OE())}}function Nl(t,e){var n=t.stateNode;if(n===null)return null;var r=Mh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Gm=!1;if(Gr)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Gm=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Gm=!1}function kR(t,e,n,r,i,s,o,u,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(y){this.onError(y)}}var fl=!1,xd=null,Cd=!1,qm=null,IR={onError:function(t){fl=!0,xd=t}};function bR(t,e,n,r,i,s,o,u,h){fl=!1,xd=null,kR.apply(IR,arguments)}function xR(t,e,n,r,i,s,o,u,h){if(bR.apply(this,arguments),fl){if(fl){var f=xd;fl=!1,xd=null}else throw Error(B(198));Cd||(Cd=!0,qm=f)}}function Gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S_(t){if(Gs(t)!==t)throw Error(B(188))}function CR(t){var e=t.alternate;if(!e){if(e=Gs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return S_(i),t;if(s===r)return S_(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function AE(t){return t=CR(t),t!==null?ME(t):null}function ME(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ME(t);if(e!==null)return e;t=t.sibling}return null}var LE=xn.unstable_scheduleCallback,E_=xn.unstable_cancelCallback,OR=xn.unstable_shouldYield,DR=xn.unstable_requestPaint,ut=xn.unstable_now,RR=xn.unstable_getCurrentPriorityLevel,Dy=xn.unstable_ImmediatePriority,UE=xn.unstable_UserBlockingPriority,Od=xn.unstable_NormalPriority,PR=xn.unstable_LowPriority,$E=xn.unstable_IdlePriority,Rh=null,fr=null;function NR(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Rh,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:LR,AR=Math.log,MR=Math.LN2;function LR(t){return t>>>=0,t===0?32:31-(AR(t)/MR|0)|0}var Oc=64,Dc=4194304;function il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=il(u):(s&=o,s!==0&&(r=il(s)))}else o=n&~i,o!==0?r=il(o):s!==0&&(r=il(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function UR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $R(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),u=1<<o,h=i[o];h===-1?(!(u&n)||u&r)&&(i[o]=UR(u,e)):h<=e&&(t.expiredLanes|=u),s&=~u}}function Km(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FE(){var t=Oc;return Oc<<=1,!(Oc&4194240)&&(Oc=64),t}function Mp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function FR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ry(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ae=0;function jE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VE,Py,zE,BE,WE,Qm=!1,Rc=[],Oi=null,Di=null,Ri=null,Al=new Map,Ml=new Map,yi=[],jR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T_(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(e.pointerId)}}function Ha(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mu(e),e!==null&&Py(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VR(t,e,n,r,i){switch(e){case"focusin":return Oi=Ha(Oi,t,e,n,r,i),!0;case"dragenter":return Di=Ha(Di,t,e,n,r,i),!0;case"mouseover":return Ri=Ha(Ri,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Al.set(s,Ha(Al.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ml.set(s,Ha(Ml.get(s)||null,t,e,n,r,i)),!0}return!1}function HE(t){var e=ws(t.target);if(e!==null){var n=Gs(e);if(n!==null){if(e=n.tag,e===13){if(e=NE(n),e!==null){t.blockedOn=e,WE(t.priority,function(){zE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hm=r,n.target.dispatchEvent(r),Hm=null}else return e=mu(n),e!==null&&Py(e),t.blockedOn=n,!1;e.shift()}return!0}function k_(t,e,n){rd(t)&&n.delete(e)}function zR(){Qm=!1,Oi!==null&&rd(Oi)&&(Oi=null),Di!==null&&rd(Di)&&(Di=null),Ri!==null&&rd(Ri)&&(Ri=null),Al.forEach(k_),Ml.forEach(k_)}function Ya(t,e){t.blockedOn===e&&(t.blockedOn=null,Qm||(Qm=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,zR)))}function Ll(t){function e(i){return Ya(i,t)}if(0<Rc.length){Ya(Rc[0],t);for(var n=1;n<Rc.length;n++){var r=Rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oi!==null&&Ya(Oi,t),Di!==null&&Ya(Di,t),Ri!==null&&Ya(Ri,t),Al.forEach(e),Ml.forEach(e),n=0;n<yi.length;n++)r=yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)HE(n),n.blockedOn===null&&yi.shift()}var Po=ii.ReactCurrentBatchConfig,Rd=!0;function BR(t,e,n,r){var i=Ae,s=Po.transition;Po.transition=null;try{Ae=1,Ny(t,e,n,r)}finally{Ae=i,Po.transition=s}}function WR(t,e,n,r){var i=Ae,s=Po.transition;Po.transition=null;try{Ae=4,Ny(t,e,n,r)}finally{Ae=i,Po.transition=s}}function Ny(t,e,n,r){if(Rd){var i=Xm(t,e,n,r);if(i===null)Hp(t,e,r,Pd,n),T_(t,r);else if(VR(i,t,e,n,r))r.stopPropagation();else if(T_(t,r),e&4&&-1<jR.indexOf(t)){for(;i!==null;){var s=mu(i);if(s!==null&&VE(s),s=Xm(t,e,n,r),s===null&&Hp(t,e,r,Pd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hp(t,e,r,null,n)}}var Pd=null;function Xm(t,e,n,r){if(Pd=null,t=Oy(r),t=ws(t),t!==null)if(e=Gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pd=t,null}function YE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RR()){case Dy:return 1;case UE:return 4;case Od:case PR:return 16;case $E:return 536870912;default:return 16}default:return 16}}var ki=null,Ay=null,id=null;function GE(){if(id)return id;var t,e=Ay,n=e.length,r,i="value"in ki?ki.value:ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return id=i.slice(t,1<r?1-r:void 0)}function sd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pc(){return!0}function I_(){return!1}function Rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pc:I_,this.isPropagationStopped=I_,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),e}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},My=Rn(aa),pu=rt({},aa,{view:0,detail:0}),HR=Rn(pu),Lp,Up,Ga,Ph=rt({},pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ly,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(Lp=t.screenX-Ga.screenX,Up=t.screenY-Ga.screenY):Up=Lp=0,Ga=t),Lp)},movementY:function(t){return"movementY"in t?t.movementY:Up}}),b_=Rn(Ph),YR=rt({},Ph,{dataTransfer:0}),GR=Rn(YR),qR=rt({},pu,{relatedTarget:0}),$p=Rn(qR),KR=rt({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),QR=Rn(KR),XR=rt({},aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JR=Rn(XR),ZR=rt({},aa,{data:0}),x_=Rn(ZR),eP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nP[t])?!!e[t]:!1}function Ly(){return rP}var iP=rt({},pu,{key:function(t){if(t.key){var e=eP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ly,charCode:function(t){return t.type==="keypress"?sd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sP=Rn(iP),oP=rt({},Ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C_=Rn(oP),aP=rt({},pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ly}),lP=Rn(aP),uP=rt({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),cP=Rn(uP),dP=rt({},Ph,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hP=Rn(dP),fP=[9,13,27,32],Uy=Gr&&"CompositionEvent"in window,pl=null;Gr&&"documentMode"in document&&(pl=document.documentMode);var pP=Gr&&"TextEvent"in window&&!pl,qE=Gr&&(!Uy||pl&&8<pl&&11>=pl),O_=String.fromCharCode(32),D_=!1;function KE(t,e){switch(t){case"keyup":return fP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function mP(t,e){switch(t){case"compositionend":return QE(e);case"keypress":return e.which!==32?null:(D_=!0,O_);case"textInput":return t=e.data,t===O_&&D_?null:t;default:return null}}function gP(t,e){if(go)return t==="compositionend"||!Uy&&KE(t,e)?(t=GE(),id=Ay=ki=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qE&&e.locale!=="ko"?null:e.data;default:return null}}var yP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yP[t.type]:e==="textarea"}function XE(t,e,n,r){CE(r),e=Nd(e,"onChange"),0<e.length&&(n=new My("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ml=null,Ul=null;function vP(t){lT(t,0)}function Nh(t){var e=wo(t);if(SE(e))return t}function wP(t,e){if(t==="change")return e}var JE=!1;if(Gr){var Fp;if(Gr){var jp="oninput"in document;if(!jp){var P_=document.createElement("div");P_.setAttribute("oninput","return;"),jp=typeof P_.oninput=="function"}Fp=jp}else Fp=!1;JE=Fp&&(!document.documentMode||9<document.documentMode)}function N_(){ml&&(ml.detachEvent("onpropertychange",ZE),Ul=ml=null)}function ZE(t){if(t.propertyName==="value"&&Nh(Ul)){var e=[];XE(e,Ul,t,Oy(t)),PE(vP,e)}}function _P(t,e,n){t==="focusin"?(N_(),ml=e,Ul=n,ml.attachEvent("onpropertychange",ZE)):t==="focusout"&&N_()}function SP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nh(Ul)}function EP(t,e){if(t==="click")return Nh(e)}function TP(t,e){if(t==="input"||t==="change")return Nh(e)}function kP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:kP;function $l(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nm.call(e,i)||!er(t[i],e[i]))return!1}return!0}function A_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function M_(t,e){var n=A_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A_(n)}}function eT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tT(){for(var t=window,e=bd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bd(t.document)}return e}function $y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IP(t){var e=tT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eT(n.ownerDocument.documentElement,n)){if(r!==null&&$y(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=M_(n,s);var o=M_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bP=Gr&&"documentMode"in document&&11>=document.documentMode,yo=null,Jm=null,gl=null,Zm=!1;function L_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zm||yo==null||yo!==bd(r)||(r=yo,"selectionStart"in r&&$y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gl&&$l(gl,r)||(gl=r,r=Nd(Jm,"onSelect"),0<r.length&&(e=new My("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yo)))}function Nc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Vp={},nT={};Gr&&(nT=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Ah(t){if(Vp[t])return Vp[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nT)return Vp[t]=e[n];return t}var rT=Ah("animationend"),iT=Ah("animationiteration"),sT=Ah("animationstart"),oT=Ah("transitionend"),aT=new Map,U_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(t,e){aT.set(t,e),Ys(e,[t])}for(var zp=0;zp<U_.length;zp++){var Bp=U_[zp],xP=Bp.toLowerCase(),CP=Bp[0].toUpperCase()+Bp.slice(1);Ki(xP,"on"+CP)}Ki(rT,"onAnimationEnd");Ki(iT,"onAnimationIteration");Ki(sT,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(oT,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OP=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function $_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xR(r,e,void 0,t),t.currentTarget=null}function lT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;$_(i,u,f),s=h}else for(o=0;o<r.length;o++){if(u=r[o],h=u.instance,f=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;$_(i,u,f),s=h}}}if(Cd)throw t=qm,Cd=!1,qm=null,t}function We(t,e){var n=e[ig];n===void 0&&(n=e[ig]=new Set);var r=t+"__bubble";n.has(r)||(uT(e,t,2,!1),n.add(r))}function Wp(t,e,n){var r=0;e&&(r|=4),uT(n,t,r,e)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Fl(t){if(!t[Ac]){t[Ac]=!0,gE.forEach(function(n){n!=="selectionchange"&&(OP.has(n)||Wp(n,!1,t),Wp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ac]||(e[Ac]=!0,Wp("selectionchange",!1,e))}}function uT(t,e,n,r){switch(YE(e)){case 1:var i=BR;break;case 4:i=WR;break;default:i=Ny}n=i.bind(null,e,n,t),i=void 0,!Gm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;o=o.return}for(;u!==null;){if(o=ws(u),o===null)return;if(h=o.tag,h===5||h===6){r=s=o;continue e}u=u.parentNode}}r=r.return}PE(function(){var f=s,y=Oy(n),_=[];e:{var S=aT.get(t);if(S!==void 0){var b=My,R=t;switch(t){case"keypress":if(sd(n)===0)break e;case"keydown":case"keyup":b=sP;break;case"focusin":R="focus",b=$p;break;case"focusout":R="blur",b=$p;break;case"beforeblur":case"afterblur":b=$p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=b_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=GR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=lP;break;case rT:case iT:case sT:b=QR;break;case oT:b=cP;break;case"scroll":b=HR;break;case"wheel":b=hP;break;case"copy":case"cut":case"paste":b=JR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=C_}var D=(e&4)!==0,$=!D&&t==="scroll",I=D?S!==null?S+"Capture":null:S;D=[];for(var T=f,x;T!==null;){x=T;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,I!==null&&(A=Nl(T,I),A!=null&&D.push(jl(T,A,x)))),$)break;T=T.return}0<D.length&&(S=new b(S,R,null,n,y),_.push({event:S,listeners:D}))}}if(!(e&7)){e:{if(S=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",S&&n!==Hm&&(R=n.relatedTarget||n.fromElement)&&(ws(R)||R[qr]))break e;if((b||S)&&(S=y.window===y?y:(S=y.ownerDocument)?S.defaultView||S.parentWindow:window,b?(R=n.relatedTarget||n.toElement,b=f,R=R?ws(R):null,R!==null&&($=Gs(R),R!==$||R.tag!==5&&R.tag!==6)&&(R=null)):(b=null,R=f),b!==R)){if(D=b_,A="onMouseLeave",I="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(D=C_,A="onPointerLeave",I="onPointerEnter",T="pointer"),$=b==null?S:wo(b),x=R==null?S:wo(R),S=new D(A,T+"leave",b,n,y),S.target=$,S.relatedTarget=x,A=null,ws(y)===f&&(D=new D(I,T+"enter",R,n,y),D.target=x,D.relatedTarget=$,A=D),$=A,b&&R)t:{for(D=b,I=R,T=0,x=D;x;x=lo(x))T++;for(x=0,A=I;A;A=lo(A))x++;for(;0<T-x;)D=lo(D),T--;for(;0<x-T;)I=lo(I),x--;for(;T--;){if(D===I||I!==null&&D===I.alternate)break t;D=lo(D),I=lo(I)}D=null}else D=null;b!==null&&F_(_,S,b,D,!1),R!==null&&$!==null&&F_(_,$,R,D,!0)}}e:{if(S=f?wo(f):window,b=S.nodeName&&S.nodeName.toLowerCase(),b==="select"||b==="input"&&S.type==="file")var j=wP;else if(R_(S))if(JE)j=TP;else{j=SP;var Y=_P}else(b=S.nodeName)&&b.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(j=EP);if(j&&(j=j(t,f))){XE(_,j,n,y);break e}Y&&Y(t,S,f),t==="focusout"&&(Y=S._wrapperState)&&Y.controlled&&S.type==="number"&&jm(S,"number",S.value)}switch(Y=f?wo(f):window,t){case"focusin":(R_(Y)||Y.contentEditable==="true")&&(yo=Y,Jm=f,gl=null);break;case"focusout":gl=Jm=yo=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,L_(_,n,y);break;case"selectionchange":if(bP)break;case"keydown":case"keyup":L_(_,n,y)}var K;if(Uy)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else go?KE(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(qE&&n.locale!=="ko"&&(go||L!=="onCompositionStart"?L==="onCompositionEnd"&&go&&(K=GE()):(ki=y,Ay="value"in ki?ki.value:ki.textContent,go=!0)),Y=Nd(f,L),0<Y.length&&(L=new x_(L,t,null,n,y),_.push({event:L,listeners:Y}),K?L.data=K:(K=QE(n),K!==null&&(L.data=K)))),(K=pP?mP(t,n):gP(t,n))&&(f=Nd(f,"onBeforeInput"),0<f.length&&(y=new x_("onBeforeInput","beforeinput",null,n,y),_.push({event:y,listeners:f}),y.data=K))}lT(_,e)})}function jl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nl(t,n),s!=null&&r.unshift(jl(t,s,i)),s=Nl(t,e),s!=null&&r.push(jl(t,s,i))),t=t.return}return r}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,h=u.alternate,f=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&f!==null&&(u=f,i?(h=Nl(n,s),h!=null&&o.unshift(jl(n,h,u))):i||(h=Nl(n,s),h!=null&&o.push(jl(n,h,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var DP=/\r\n?/g,RP=/\u0000|\uFFFD/g;function j_(t){return(typeof t=="string"?t:""+t).replace(DP,`
`).replace(RP,"")}function Mc(t,e,n){if(e=j_(e),j_(t)!==e&&n)throw Error(B(425))}function Ad(){}var eg=null,tg=null;function ng(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rg=typeof setTimeout=="function"?setTimeout:void 0,PP=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,NP=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(AP)}:rg;function AP(t){setTimeout(function(){throw t})}function Yp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ll(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ll(e)}function Pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function z_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var la=Math.random().toString(36).slice(2),ur="__reactFiber$"+la,Vl="__reactProps$"+la,qr="__reactContainer$"+la,ig="__reactEvents$"+la,MP="__reactListeners$"+la,LP="__reactHandles$"+la;function ws(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qr]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=z_(t);t!==null;){if(n=t[ur])return n;t=z_(t)}return e}t=n,n=t.parentNode}return null}function mu(t){return t=t[ur]||t[qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Mh(t){return t[Vl]||null}var sg=[],_o=-1;function Qi(t){return{current:t}}function Ye(t){0>_o||(t.current=sg[_o],sg[_o]=null,_o--)}function Ve(t,e){_o++,sg[_o]=t.current,t.current=e}var Wi={},Kt=Qi(Wi),mn=Qi(!1),Ns=Wi;function Bo(t,e){var n=t.type.contextTypes;if(!n)return Wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gn(t){return t=t.childContextTypes,t!=null}function Md(){Ye(mn),Ye(Kt)}function B_(t,e,n){if(Kt.current!==Wi)throw Error(B(168));Ve(Kt,e),Ve(mn,n)}function cT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,_R(t)||"Unknown",i));return rt({},n,r)}function Ld(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wi,Ns=Kt.current,Ve(Kt,t),Ve(mn,mn.current),!0}function W_(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=cT(t,e,Ns),r.__reactInternalMemoizedMergedChildContext=t,Ye(mn),Ye(Kt),Ve(Kt,t)):Ye(mn),Ve(mn,n)}var Lr=null,Lh=!1,Gp=!1;function dT(t){Lr===null?Lr=[t]:Lr.push(t)}function UP(t){Lh=!0,dT(t)}function Xi(){if(!Gp&&Lr!==null){Gp=!0;var t=0,e=Ae;try{var n=Lr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lr=null,Lh=!1}catch(i){throw Lr!==null&&(Lr=Lr.slice(t+1)),LE(Dy,Xi),i}finally{Ae=e,Gp=!1}}return null}var So=[],Eo=0,Ud=null,$d=0,Mn=[],Ln=0,As=null,Ur=1,$r="";function gs(t,e){So[Eo++]=$d,So[Eo++]=Ud,Ud=t,$d=e}function hT(t,e,n){Mn[Ln++]=Ur,Mn[Ln++]=$r,Mn[Ln++]=As,As=t;var r=Ur;t=$r;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ur=1<<32-Jn(e)+i|n<<i|r,$r=s+t}else Ur=1<<s|n<<i|r,$r=t}function Fy(t){t.return!==null&&(gs(t,1),hT(t,1,0))}function jy(t){for(;t===Ud;)Ud=So[--Eo],So[Eo]=null,$d=So[--Eo],So[Eo]=null;for(;t===As;)As=Mn[--Ln],Mn[Ln]=null,$r=Mn[--Ln],Mn[Ln]=null,Ur=Mn[--Ln],Mn[Ln]=null}var bn=null,Tn=null,Xe=!1,Qn=null;function fT(t,e){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function H_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,Tn=Pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:Ur,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,Tn=null,!0):!1;default:return!1}}function og(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ag(t){if(Xe){var e=Tn;if(e){var n=e;if(!H_(t,e)){if(og(t))throw Error(B(418));e=Pi(n.nextSibling);var r=bn;e&&H_(t,e)?fT(r,n):(t.flags=t.flags&-4097|2,Xe=!1,bn=t)}}else{if(og(t))throw Error(B(418));t.flags=t.flags&-4097|2,Xe=!1,bn=t}}}function Y_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Lc(t){if(t!==bn)return!1;if(!Xe)return Y_(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ng(t.type,t.memoizedProps)),e&&(e=Tn)){if(og(t))throw pT(),Error(B(418));for(;e;)fT(t,e),e=Pi(e.nextSibling)}if(Y_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=Pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=bn?Pi(t.stateNode.nextSibling):null;return!0}function pT(){for(var t=Tn;t;)t=Pi(t.nextSibling)}function Wo(){Tn=bn=null,Xe=!1}function Vy(t){Qn===null?Qn=[t]:Qn.push(t)}var $P=ii.ReactCurrentBatchConfig;function Gn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Fd=Qi(null),jd=null,To=null,zy=null;function By(){zy=To=jd=null}function Wy(t){var e=Fd.current;Ye(Fd),t._currentValue=e}function lg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function No(t,e){jd=t,zy=To=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function Vn(t){var e=t._currentValue;if(zy!==t)if(t={context:t,memoizedValue:e,next:null},To===null){if(jd===null)throw Error(B(308));To=t,jd.dependencies={lanes:0,firstContext:t}}else To=To.next=t;return e}var _s=null;function Hy(t){_s===null?_s=[t]:_s.push(t)}function mT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gi=!1;function Yy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kr(t,n)}return i=r.interleaved,i===null?(e.next=e,Hy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kr(t,n)}function od(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ry(t,n)}}function G_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vd(t,e,n,r){var i=t.updateQueue;gi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,f=h.next;h.next=null,o===null?s=f:o.next=f,o=h;var y=t.alternate;y!==null&&(y=y.updateQueue,u=y.lastBaseUpdate,u!==o&&(u===null?y.firstBaseUpdate=f:u.next=f,y.lastBaseUpdate=h))}if(s!==null){var _=i.baseState;o=0,y=f=h=null,u=s;do{var S=u.lane,b=u.eventTime;if((r&S)===S){y!==null&&(y=y.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var R=t,D=u;switch(S=e,b=n,D.tag){case 1:if(R=D.payload,typeof R=="function"){_=R.call(b,_,S);break e}_=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=D.payload,S=typeof R=="function"?R.call(b,_,S):R,S==null)break e;_=rt({},_,S);break e;case 2:gi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,S=i.effects,S===null?i.effects=[u]:S.push(u))}else b={eventTime:b,lane:S,tag:u.tag,payload:u.payload,callback:u.callback,next:null},y===null?(f=y=b,h=_):y=y.next=b,o|=S;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;S=u,u=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(1);if(y===null&&(h=_),i.baseState=h,i.firstBaseUpdate=f,i.lastBaseUpdate=y,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ls|=o,t.lanes=o,t.memoizedState=_}}function q_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var yT=new mE.Component().refs;function ug(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uh={isMounted:function(t){return(t=t._reactInternals)?Gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),i=Mi(t),s=Wr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(Zn(e,t,i,r),od(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),i=Mi(t),s=Wr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(Zn(e,t,i,r),od(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=Mi(t),i=Wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ni(t,i,r),e!==null&&(Zn(e,t,r,n),od(e,t,r))}};function K_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$l(n,r)||!$l(i,s):!0}function vT(t,e,n){var r=!1,i=Wi,s=e.contextType;return typeof s=="object"&&s!==null?s=Vn(s):(i=gn(e)?Ns:Kt.current,r=e.contextTypes,s=(r=r!=null)?Bo(t,i):Wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Q_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uh.enqueueReplaceState(e,e.state,null)}function cg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yT,Yy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vn(s):(s=gn(e)?Ns:Kt.current,i.context=Bo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ug(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uh.enqueueReplaceState(i,i.state,null),Vd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===yT&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Uc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function X_(t){var e=t._init;return e(t._payload)}function wT(t){function e(I,T){if(t){var x=I.deletions;x===null?(I.deletions=[T],I.flags|=16):x.push(T)}}function n(I,T){if(!t)return null;for(;T!==null;)e(I,T),T=T.sibling;return null}function r(I,T){for(I=new Map;T!==null;)T.key!==null?I.set(T.key,T):I.set(T.index,T),T=T.sibling;return I}function i(I,T){return I=Li(I,T),I.index=0,I.sibling=null,I}function s(I,T,x){return I.index=x,t?(x=I.alternate,x!==null?(x=x.index,x<T?(I.flags|=2,T):x):(I.flags|=2,T)):(I.flags|=1048576,T)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function u(I,T,x,A){return T===null||T.tag!==6?(T=em(x,I.mode,A),T.return=I,T):(T=i(T,x),T.return=I,T)}function h(I,T,x,A){var j=x.type;return j===mo?y(I,T,x.props.children,A,x.key):T!==null&&(T.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===mi&&X_(j)===T.type)?(A=i(T,x.props),A.ref=qa(I,T,x),A.return=I,A):(A=hd(x.type,x.key,x.props,null,I.mode,A),A.ref=qa(I,T,x),A.return=I,A)}function f(I,T,x,A){return T===null||T.tag!==4||T.stateNode.containerInfo!==x.containerInfo||T.stateNode.implementation!==x.implementation?(T=tm(x,I.mode,A),T.return=I,T):(T=i(T,x.children||[]),T.return=I,T)}function y(I,T,x,A,j){return T===null||T.tag!==7?(T=xs(x,I.mode,A,j),T.return=I,T):(T=i(T,x),T.return=I,T)}function _(I,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return T=em(""+T,I.mode,x),T.return=I,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case bc:return x=hd(T.type,T.key,T.props,null,I.mode,x),x.ref=qa(I,null,T),x.return=I,x;case po:return T=tm(T,I.mode,x),T.return=I,T;case mi:var A=T._init;return _(I,A(T._payload),x)}if(rl(T)||Ba(T))return T=xs(T,I.mode,x,null),T.return=I,T;Uc(I,T)}return null}function S(I,T,x,A){var j=T!==null?T.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:u(I,T,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bc:return x.key===j?h(I,T,x,A):null;case po:return x.key===j?f(I,T,x,A):null;case mi:return j=x._init,S(I,T,j(x._payload),A)}if(rl(x)||Ba(x))return j!==null?null:y(I,T,x,A,null);Uc(I,x)}return null}function b(I,T,x,A,j){if(typeof A=="string"&&A!==""||typeof A=="number")return I=I.get(x)||null,u(T,I,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case bc:return I=I.get(A.key===null?x:A.key)||null,h(T,I,A,j);case po:return I=I.get(A.key===null?x:A.key)||null,f(T,I,A,j);case mi:var Y=A._init;return b(I,T,x,Y(A._payload),j)}if(rl(A)||Ba(A))return I=I.get(x)||null,y(T,I,A,j,null);Uc(T,A)}return null}function R(I,T,x,A){for(var j=null,Y=null,K=T,L=T=0,De=null;K!==null&&L<x.length;L++){K.index>L?(De=K,K=null):De=K.sibling;var me=S(I,K,x[L],A);if(me===null){K===null&&(K=De);break}t&&K&&me.alternate===null&&e(I,K),T=s(me,T,L),Y===null?j=me:Y.sibling=me,Y=me,K=De}if(L===x.length)return n(I,K),Xe&&gs(I,L),j;if(K===null){for(;L<x.length;L++)K=_(I,x[L],A),K!==null&&(T=s(K,T,L),Y===null?j=K:Y.sibling=K,Y=K);return Xe&&gs(I,L),j}for(K=r(I,K);L<x.length;L++)De=b(K,I,L,x[L],A),De!==null&&(t&&De.alternate!==null&&K.delete(De.key===null?L:De.key),T=s(De,T,L),Y===null?j=De:Y.sibling=De,Y=De);return t&&K.forEach(function(en){return e(I,en)}),Xe&&gs(I,L),j}function D(I,T,x,A){var j=Ba(x);if(typeof j!="function")throw Error(B(150));if(x=j.call(x),x==null)throw Error(B(151));for(var Y=j=null,K=T,L=T=0,De=null,me=x.next();K!==null&&!me.done;L++,me=x.next()){K.index>L?(De=K,K=null):De=K.sibling;var en=S(I,K,me.value,A);if(en===null){K===null&&(K=De);break}t&&K&&en.alternate===null&&e(I,K),T=s(en,T,L),Y===null?j=en:Y.sibling=en,Y=en,K=De}if(me.done)return n(I,K),Xe&&gs(I,L),j;if(K===null){for(;!me.done;L++,me=x.next())me=_(I,me.value,A),me!==null&&(T=s(me,T,L),Y===null?j=me:Y.sibling=me,Y=me);return Xe&&gs(I,L),j}for(K=r(I,K);!me.done;L++,me=x.next())me=b(K,I,L,me.value,A),me!==null&&(t&&me.alternate!==null&&K.delete(me.key===null?L:me.key),T=s(me,T,L),Y===null?j=me:Y.sibling=me,Y=me);return t&&K.forEach(function(ai){return e(I,ai)}),Xe&&gs(I,L),j}function $(I,T,x,A){if(typeof x=="object"&&x!==null&&x.type===mo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case bc:e:{for(var j=x.key,Y=T;Y!==null;){if(Y.key===j){if(j=x.type,j===mo){if(Y.tag===7){n(I,Y.sibling),T=i(Y,x.props.children),T.return=I,I=T;break e}}else if(Y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===mi&&X_(j)===Y.type){n(I,Y.sibling),T=i(Y,x.props),T.ref=qa(I,Y,x),T.return=I,I=T;break e}n(I,Y);break}else e(I,Y);Y=Y.sibling}x.type===mo?(T=xs(x.props.children,I.mode,A,x.key),T.return=I,I=T):(A=hd(x.type,x.key,x.props,null,I.mode,A),A.ref=qa(I,T,x),A.return=I,I=A)}return o(I);case po:e:{for(Y=x.key;T!==null;){if(T.key===Y)if(T.tag===4&&T.stateNode.containerInfo===x.containerInfo&&T.stateNode.implementation===x.implementation){n(I,T.sibling),T=i(T,x.children||[]),T.return=I,I=T;break e}else{n(I,T);break}else e(I,T);T=T.sibling}T=tm(x,I.mode,A),T.return=I,I=T}return o(I);case mi:return Y=x._init,$(I,T,Y(x._payload),A)}if(rl(x))return R(I,T,x,A);if(Ba(x))return D(I,T,x,A);Uc(I,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,T!==null&&T.tag===6?(n(I,T.sibling),T=i(T,x),T.return=I,I=T):(n(I,T),T=em(x,I.mode,A),T.return=I,I=T),o(I)):n(I,T)}return $}var Ho=wT(!0),_T=wT(!1),gu={},pr=Qi(gu),zl=Qi(gu),Bl=Qi(gu);function Ss(t){if(t===gu)throw Error(B(174));return t}function Gy(t,e){switch(Ve(Bl,e),Ve(zl,t),Ve(pr,gu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zm(e,t)}Ye(pr),Ve(pr,e)}function Yo(){Ye(pr),Ye(zl),Ye(Bl)}function ST(t){Ss(Bl.current);var e=Ss(pr.current),n=zm(e,t.type);e!==n&&(Ve(zl,t),Ve(pr,n))}function qy(t){zl.current===t&&(Ye(pr),Ye(zl))}var tt=Qi(0);function zd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qp=[];function Ky(){for(var t=0;t<qp.length;t++)qp[t]._workInProgressVersionPrimary=null;qp.length=0}var ad=ii.ReactCurrentDispatcher,Kp=ii.ReactCurrentBatchConfig,Ms=0,nt=null,gt=null,Tt=null,Bd=!1,yl=!1,Wl=0,FP=0;function $t(){throw Error(B(321))}function Qy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function Xy(t,e,n,r,i,s){if(Ms=s,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ad.current=t===null||t.memoizedState===null?BP:WP,t=n(r,i),yl){s=0;do{if(yl=!1,Wl=0,25<=s)throw Error(B(301));s+=1,Tt=gt=null,e.updateQueue=null,ad.current=HP,t=n(r,i)}while(yl)}if(ad.current=Wd,e=gt!==null&&gt.next!==null,Ms=0,Tt=gt=nt=null,Bd=!1,e)throw Error(B(300));return t}function Jy(){var t=Wl!==0;return Wl=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?nt.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function zn(){if(gt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Tt===null?nt.memoizedState:Tt.next;if(e!==null)Tt=e,gt=t;else{if(t===null)throw Error(B(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?nt.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Hl(t,e){return typeof e=="function"?e(t):e}function Qp(t){var e=zn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,h=null,f=s;do{var y=f.lane;if((Ms&y)===y)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var _={lane:y,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=_,o=r):h=h.next=_,nt.lanes|=y,Ls|=y}f=f.next}while(f!==null&&f!==s);h===null?o=r:h.next=u,er(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,nt.lanes|=s,Ls|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xp(t){var e=zn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);er(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ET(){}function TT(t,e){var n=nt,r=zn(),i=e(),s=!er(r.memoizedState,i);if(s&&(r.memoizedState=i,pn=!0),r=r.queue,Zy(bT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Yl(9,IT.bind(null,n,r,i,e),void 0,null),It===null)throw Error(B(349));Ms&30||kT(n,e,i)}return i}function kT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IT(t,e,n,r){e.value=n,e.getSnapshot=r,xT(e)&&CT(t)}function bT(t,e,n){return n(function(){xT(e)&&CT(t)})}function xT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function CT(t){var e=Kr(t,1);e!==null&&Zn(e,t,1,-1)}function J_(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:t},e.queue=t,t=t.dispatch=zP.bind(null,nt,t),[e.memoizedState,t]}function Yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OT(){return zn().memoizedState}function ld(t,e,n,r){var i=lr();nt.flags|=t,i.memoizedState=Yl(1|e,n,void 0,r===void 0?null:r)}function $h(t,e,n,r){var i=zn();r=r===void 0?null:r;var s=void 0;if(gt!==null){var o=gt.memoizedState;if(s=o.destroy,r!==null&&Qy(r,o.deps)){i.memoizedState=Yl(e,n,s,r);return}}nt.flags|=t,i.memoizedState=Yl(1|e,n,s,r)}function Z_(t,e){return ld(8390656,8,t,e)}function Zy(t,e){return $h(2048,8,t,e)}function DT(t,e){return $h(4,2,t,e)}function RT(t,e){return $h(4,4,t,e)}function PT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NT(t,e,n){return n=n!=null?n.concat([t]):null,$h(4,4,PT.bind(null,e,t),n)}function ev(){}function AT(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function MT(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LT(t,e,n){return Ms&21?(er(n,e)||(n=FE(),nt.lanes|=n,Ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function jP(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Kp.transition;Kp.transition={};try{t(!1),e()}finally{Ae=n,Kp.transition=r}}function UT(){return zn().memoizedState}function VP(t,e,n){var r=Mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$T(t))FT(e,n);else if(n=mT(t,e,n,r),n!==null){var i=on();Zn(n,t,r,i),jT(n,e,r)}}function zP(t,e,n){var r=Mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($T(t))FT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,er(u,o)){var h=e.interleaved;h===null?(i.next=i,Hy(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}n=mT(t,e,i,r),n!==null&&(i=on(),Zn(n,t,r,i),jT(n,e,r))}}function $T(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function FT(t,e){yl=Bd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ry(t,n)}}var Wd={readContext:Vn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},BP={readContext:Vn,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:Z_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ld(4194308,4,PT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ld(4194308,4,t,e)},useInsertionEffect:function(t,e){return ld(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VP.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:J_,useDebugValue:ev,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=J_(!1),e=t[0];return t=jP.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=lr();if(Xe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),It===null)throw Error(B(349));Ms&30||kT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Z_(bT.bind(null,r,s,t),[t]),r.flags|=2048,Yl(9,IT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=lr(),e=It.identifierPrefix;if(Xe){var n=$r,r=Ur;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WP={readContext:Vn,useCallback:AT,useContext:Vn,useEffect:Zy,useImperativeHandle:NT,useInsertionEffect:DT,useLayoutEffect:RT,useMemo:MT,useReducer:Qp,useRef:OT,useState:function(){return Qp(Hl)},useDebugValue:ev,useDeferredValue:function(t){var e=zn();return LT(e,gt.memoizedState,t)},useTransition:function(){var t=Qp(Hl)[0],e=zn().memoizedState;return[t,e]},useMutableSource:ET,useSyncExternalStore:TT,useId:UT,unstable_isNewReconciler:!1},HP={readContext:Vn,useCallback:AT,useContext:Vn,useEffect:Zy,useImperativeHandle:NT,useInsertionEffect:DT,useLayoutEffect:RT,useMemo:MT,useReducer:Xp,useRef:OT,useState:function(){return Xp(Hl)},useDebugValue:ev,useDeferredValue:function(t){var e=zn();return gt===null?e.memoizedState=t:LT(e,gt.memoizedState,t)},useTransition:function(){var t=Xp(Hl)[0],e=zn().memoizedState;return[t,e]},useMutableSource:ET,useSyncExternalStore:TT,useId:UT,unstable_isNewReconciler:!1};function Go(t,e){try{var n="",r=e;do n+=wR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Jp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YP=typeof WeakMap=="function"?WeakMap:Map;function VT(t,e,n){n=Wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yd||(Yd=!0,Sg=r),dg(t,e)},n}function zT(t,e,n){n=Wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){dg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){dg(t,e),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function e1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oN.bind(null,t,e,n),e.then(t,t))}function t1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wr(-1,1),e.tag=2,Ni(n,e,1))),n.lanes|=1),t)}var GP=ii.ReactCurrentOwner,pn=!1;function rn(t,e,n,r){e.child=t===null?_T(e,null,n,r):Ho(e,t.child,n,r)}function r1(t,e,n,r,i){n=n.render;var s=e.ref;return No(e,i),r=Xy(t,e,n,r,s,i),n=Jy(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Xe&&n&&Fy(e),e.flags|=1,rn(t,e,r,i),e.child)}function i1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!lv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,BT(t,e,s,r,i)):(t=hd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:$l,n(o,r)&&t.ref===e.ref)return Qr(t,e,i)}return e.flags|=1,t=Li(s,r),t.ref=e.ref,t.return=e,e.child=t}function BT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($l(s,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,Qr(t,e,i)}return hg(t,e,n,r,i)}function WT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Io,_n),_n|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Io,_n),_n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(Io,_n),_n|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ve(Io,_n),_n|=r;return rn(t,e,i,n),e.child}function HT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hg(t,e,n,r,i){var s=gn(n)?Ns:Kt.current;return s=Bo(e,s),No(e,i),n=Xy(t,e,n,r,s,i),r=Jy(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Xe&&r&&Fy(e),e.flags|=1,rn(t,e,n,i),e.child)}function s1(t,e,n,r,i){if(gn(n)){var s=!0;Ld(e)}else s=!1;if(No(e,i),e.stateNode===null)ud(t,e),vT(e,n,r),cg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var h=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=Vn(f):(f=gn(n)?Ns:Kt.current,f=Bo(e,f));var y=n.getDerivedStateFromProps,_=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||h!==f)&&Q_(e,o,r,f),gi=!1;var S=e.memoizedState;o.state=S,Vd(e,r,o,i),h=e.memoizedState,u!==r||S!==h||mn.current||gi?(typeof y=="function"&&(ug(e,n,y,r),h=e.memoizedState),(u=gi||K_(e,n,u,r,S,h,f))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),o.props=r,o.state=h,o.context=f,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gT(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:Gn(e.type,u),o.props=f,_=e.pendingProps,S=o.context,h=n.contextType,typeof h=="object"&&h!==null?h=Vn(h):(h=gn(n)?Ns:Kt.current,h=Bo(e,h));var b=n.getDerivedStateFromProps;(y=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==_||S!==h)&&Q_(e,o,r,h),gi=!1,S=e.memoizedState,o.state=S,Vd(e,r,o,i);var R=e.memoizedState;u!==_||S!==R||mn.current||gi?(typeof b=="function"&&(ug(e,n,b,r),R=e.memoizedState),(f=gi||K_(e,n,f,r,S,R,h)||!1)?(y||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,h)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=h,r=f):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),r=!1)}return fg(t,e,n,r,s,i)}function fg(t,e,n,r,i,s){HT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&W_(e,n,!1),Qr(t,e,s);r=e.stateNode,GP.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ho(e,t.child,null,s),e.child=Ho(e,null,u,s)):rn(t,e,u,s),e.memoizedState=r.state,i&&W_(e,n,!0),e.child}function YT(t){var e=t.stateNode;e.pendingContext?B_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&B_(t,e.context,!1),Gy(t,e.containerInfo)}function o1(t,e,n,r,i){return Wo(),Vy(i),e.flags|=256,rn(t,e,n,r),e.child}var pg={dehydrated:null,treeContext:null,retryLane:0};function mg(t){return{baseLanes:t,cachePool:null,transitions:null}}function GT(t,e,n){var r=e.pendingProps,i=tt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(tt,i&1),t===null)return ag(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vh(o,r,0,null),t=xs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=mg(n),e.memoizedState=pg,t):tv(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return qP(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var h={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=Li(i,h),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Li(u,s):(s=xs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?mg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=pg,r}return s=t.child,t=s.sibling,r=Li(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tv(t,e){return e=Vh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $c(t,e,n,r){return r!==null&&Vy(r),Ho(e,t.child,null,n),t=tv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Jp(Error(B(422))),$c(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Vh({mode:"visible",children:r.children},i,0,null),s=xs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ho(e,t.child,null,o),e.child.memoizedState=mg(o),e.memoizedState=pg,s);if(!(e.mode&1))return $c(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(B(419)),r=Jp(s,r,void 0),$c(t,e,o,r)}if(u=(o&t.childLanes)!==0,pn||u){if(r=It,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kr(t,i),Zn(r,t,i,-1))}return av(),r=Jp(Error(B(421))),$c(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Tn=Pi(i.nextSibling),bn=e,Xe=!0,Qn=null,t!==null&&(Mn[Ln++]=Ur,Mn[Ln++]=$r,Mn[Ln++]=As,Ur=t.id,$r=t.overflow,As=e),e=tv(e,r.children),e.flags|=4096,e)}function a1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lg(t.return,e,n)}function Zp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rn(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a1(t,n,e);else if(t.tag===19)a1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zp(e,!0,n,null,s);break;case"together":Zp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ud(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KP(t,e,n){switch(e.tag){case 3:YT(e),Wo();break;case 5:ST(e);break;case 1:gn(e.type)&&Ld(e);break;case 4:Gy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(Fd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?GT(t,e,n):(Ve(tt,tt.current&1),t=Qr(t,e,n),t!==null?t.sibling:null);Ve(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,WT(t,e,n)}return Qr(t,e,n)}var KT,gg,QT,XT;KT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gg=function(){};QT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ss(pr.current);var s=null;switch(n){case"input":i=$m(t,i),r=$m(t,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=Vm(t,i),r=Vm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ad)}Bm(n,r);var o;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Rl.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var h=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(o in u)!u.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in h)h.hasOwnProperty(o)&&u[o]!==h[o]&&(n||(n={}),n[o]=h[o])}else n||(s||(s=[]),s.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Rl.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&We("scroll",t),s||u===h||(s=[])):(s=s||[]).push(f,h))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};XT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QP(t,e,n){var r=e.pendingProps;switch(jy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return gn(e.type)&&Md(),Ft(e),null;case 3:return r=e.stateNode,Yo(),Ye(mn),Ye(Kt),Ky(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(kg(Qn),Qn=null))),gg(t,e),Ft(e),null;case 5:qy(e);var i=Ss(Bl.current);if(n=e.type,t!==null&&e.stateNode!=null)QT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Ft(e),null}if(t=Ss(pr.current),Lc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ur]=e,r[Vl]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<sl.length;i++)We(sl[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":g_(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":v_(r,s),We("invalid",r)}Bm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Mc(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Mc(r.textContent,u,t),i=["children",""+u]):Rl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":xc(r),y_(r,s,!0);break;case"textarea":xc(r),w_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ad)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ur]=e,t[Vl]=r,KT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wm(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<sl.length;i++)We(sl[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":g_(t,r),i=$m(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),We("invalid",t);break;case"textarea":v_(t,r),i=Vm(t,r),We("invalid",t);break;default:i=r}Bm(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?xE(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&IE(t,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Pl(t,h):typeof h=="number"&&Pl(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Rl.hasOwnProperty(s)?h!=null&&s==="onScroll"&&We("scroll",t):h!=null&&Iy(t,s,h,o))}switch(n){case"input":xc(t),y_(t,r,!1);break;case"textarea":xc(t),w_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Oo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)XT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Ss(Bl.current),Ss(pr.current),Lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(s=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:Mc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return Ft(e),null;case 13:if(Ye(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Tn!==null&&e.mode&1&&!(e.flags&128))pT(),Wo(),e.flags|=98560,s=!1;else if(s=Lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[ur]=e}else Wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else Qn!==null&&(kg(Qn),Qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?yt===0&&(yt=3):av())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return Yo(),gg(t,e),t===null&&Fl(e.stateNode.containerInfo),Ft(e),null;case 10:return Wy(e.type._context),Ft(e),null;case 17:return gn(e.type)&&Md(),Ft(e),null;case 19:if(Ye(tt),s=e.memoizedState,s===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ka(s,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zd(t),o!==null){for(e.flags|=128,Ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(tt,tt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ut()>qo&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=zd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xe)return Ft(e),null}else 2*ut()-s.renderingStartTime>qo&&n!==1073741824&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ut(),e.sibling=null,n=tt.current,Ve(tt,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return ov(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_n&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function XP(t,e){switch(jy(e),e.tag){case 1:return gn(e.type)&&Md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yo(),Ye(mn),Ye(Kt),Ky(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qy(e),null;case 13:if(Ye(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(tt),null;case 4:return Yo(),null;case 10:return Wy(e.type._context),null;case 22:case 23:return ov(),null;case 24:return null;default:return null}}var Fc=!1,zt=!1,JP=typeof WeakSet=="function"?WeakSet:Set,Z=null;function ko(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function yg(t,e,n){try{n()}catch(r){it(t,e,r)}}var l1=!1;function ZP(t,e){if(eg=Rd,t=tT(),$y(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,h=-1,f=0,y=0,_=t,S=null;t:for(;;){for(var b;_!==n||i!==0&&_.nodeType!==3||(u=o+i),_!==s||r!==0&&_.nodeType!==3||(h=o+r),_.nodeType===3&&(o+=_.nodeValue.length),(b=_.firstChild)!==null;)S=_,_=b;for(;;){if(_===t)break t;if(S===n&&++f===i&&(u=o),S===s&&++y===r&&(h=o),(b=_.nextSibling)!==null)break;_=S,S=_.parentNode}_=b}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(tg={focusedElem:t,selectionRange:n},Rd=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var D=R.memoizedProps,$=R.memoizedState,I=e.stateNode,T=I.getSnapshotBeforeUpdate(e.elementType===e.type?D:Gn(e.type,D),$);I.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(A){it(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return R=l1,l1=!1,R}function vl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yg(e,n,s)}i=i.next}while(i!==r)}}function Fh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function JT(t){var e=t.alternate;e!==null&&(t.alternate=null,JT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[Vl],delete e[ig],delete e[MP],delete e[LP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZT(t){return t.tag===5||t.tag===3||t.tag===4}function u1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ad));else if(r!==4&&(t=t.child,t!==null))for(wg(t,e,n),t=t.sibling;t!==null;)wg(t,e,n),t=t.sibling}function _g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_g(t,e,n),t=t.sibling;t!==null;)_g(t,e,n),t=t.sibling}var Rt=null,Kn=!1;function fi(t,e,n){for(n=n.child;n!==null;)ek(t,e,n),n=n.sibling}function ek(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Rh,n)}catch{}switch(n.tag){case 5:zt||ko(n,e);case 6:var r=Rt,i=Kn;Rt=null,fi(t,e,n),Rt=r,Kn=i,Rt!==null&&(Kn?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(Kn?(t=Rt,n=n.stateNode,t.nodeType===8?Yp(t.parentNode,n):t.nodeType===1&&Yp(t,n),Ll(t)):Yp(Rt,n.stateNode));break;case 4:r=Rt,i=Kn,Rt=n.stateNode.containerInfo,Kn=!0,fi(t,e,n),Rt=r,Kn=i;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yg(n,e,o),i=i.next}while(i!==r)}fi(t,e,n);break;case 1:if(!zt&&(ko(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){it(n,e,u)}fi(t,e,n);break;case 21:fi(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,fi(t,e,n),zt=r):fi(t,e,n);break;default:fi(t,e,n)}}function c1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JP),e.forEach(function(r){var i=lN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Rt=u.stateNode,Kn=!1;break e;case 3:Rt=u.stateNode.containerInfo,Kn=!0;break e;case 4:Rt=u.stateNode.containerInfo,Kn=!0;break e}u=u.return}if(Rt===null)throw Error(B(160));ek(s,o,i),Rt=null,Kn=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(f){it(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tk(e,t),e=e.sibling}function tk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),ar(t),r&4){try{vl(3,t,t.return),Fh(3,t)}catch(D){it(t,t.return,D)}try{vl(5,t,t.return)}catch(D){it(t,t.return,D)}}break;case 1:Yn(e,t),ar(t),r&512&&n!==null&&ko(n,n.return);break;case 5:if(Yn(e,t),ar(t),r&512&&n!==null&&ko(n,n.return),t.flags&32){var i=t.stateNode;try{Pl(i,"")}catch(D){it(t,t.return,D)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&EE(i,s),Wm(u,o);var f=Wm(u,s);for(o=0;o<h.length;o+=2){var y=h[o],_=h[o+1];y==="style"?xE(i,_):y==="dangerouslySetInnerHTML"?IE(i,_):y==="children"?Pl(i,_):Iy(i,y,_,f)}switch(u){case"input":Fm(i,s);break;case"textarea":TE(i,s);break;case"select":var S=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?Oo(i,!!s.multiple,b,!1):S!==!!s.multiple&&(s.defaultValue!=null?Oo(i,!!s.multiple,s.defaultValue,!0):Oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vl]=s}catch(D){it(t,t.return,D)}}break;case 6:if(Yn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(D){it(t,t.return,D)}}break;case 3:if(Yn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ll(e.containerInfo)}catch(D){it(t,t.return,D)}break;case 4:Yn(e,t),ar(t);break;case 13:Yn(e,t),ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(iv=ut())),r&4&&c1(t);break;case 22:if(y=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(f=zt)||y,Yn(e,t),zt=f):Yn(e,t),ar(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!y&&t.mode&1)for(Z=t,y=t.child;y!==null;){for(_=Z=y;Z!==null;){switch(S=Z,b=S.child,S.tag){case 0:case 11:case 14:case 15:vl(4,S,S.return);break;case 1:ko(S,S.return);var R=S.stateNode;if(typeof R.componentWillUnmount=="function"){r=S,n=S.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(D){it(r,n,D)}}break;case 5:ko(S,S.return);break;case 22:if(S.memoizedState!==null){h1(_);continue}}b!==null?(b.return=S,Z=b):h1(_)}y=y.sibling}e:for(y=null,_=t;;){if(_.tag===5){if(y===null){y=_;try{i=_.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=_.stateNode,h=_.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=bE("display",o))}catch(D){it(t,t.return,D)}}}else if(_.tag===6){if(y===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(D){it(t,t.return,D)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;y===_&&(y=null),_=_.return}y===_&&(y=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Yn(e,t),ar(t),r&4&&c1(t);break;case 21:break;default:Yn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZT(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pl(i,""),r.flags&=-33);var s=u1(t);_g(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=u1(t);wg(t,u,o);break;default:throw Error(B(161))}}catch(h){it(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eN(t,e,n){Z=t,nk(t)}function nk(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fc;if(!o){var u=i.alternate,h=u!==null&&u.memoizedState!==null||zt;u=Fc;var f=zt;if(Fc=o,(zt=h)&&!f)for(Z=i;Z!==null;)o=Z,h=o.child,o.tag===22&&o.memoizedState!==null?f1(i):h!==null?(h.return=o,Z=h):f1(i);for(;s!==null;)Z=s,nk(s),s=s.sibling;Z=i,Fc=u,zt=f}d1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):d1(t)}}function d1(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||Fh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&q_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}q_(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var y=f.memoizedState;if(y!==null){var _=y.dehydrated;_!==null&&Ll(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}zt||e.flags&512&&vg(e)}catch(S){it(e,e.return,S)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function h1(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function f1(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fh(4,e)}catch(h){it(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){it(e,i,h)}}var s=e.return;try{vg(e)}catch(h){it(e,s,h)}break;case 5:var o=e.return;try{vg(e)}catch(h){it(e,o,h)}}}catch(h){it(e,e.return,h)}if(e===t){Z=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Z=u;break}Z=e.return}}var tN=Math.ceil,Hd=ii.ReactCurrentDispatcher,nv=ii.ReactCurrentOwner,Fn=ii.ReactCurrentBatchConfig,Ie=0,It=null,ft=null,At=0,_n=0,Io=Qi(0),yt=0,Gl=null,Ls=0,jh=0,rv=0,wl=null,hn=null,iv=0,qo=1/0,Ar=null,Yd=!1,Sg=null,Ai=null,jc=!1,Ii=null,Gd=0,_l=0,Eg=null,cd=-1,dd=0;function on(){return Ie&6?ut():cd!==-1?cd:cd=ut()}function Mi(t){return t.mode&1?Ie&2&&At!==0?At&-At:$P.transition!==null?(dd===0&&(dd=FE()),dd):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:YE(t.type)),t):1}function Zn(t,e,n,r){if(50<_l)throw _l=0,Eg=null,Error(B(185));fu(t,n,r),(!(Ie&2)||t!==It)&&(t===It&&(!(Ie&2)&&(jh|=n),yt===4&&vi(t,At)),yn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(qo=ut()+500,Lh&&Xi()))}function yn(t,e){var n=t.callbackNode;$R(t,e);var r=Dd(t,t===It?At:0);if(r===0)n!==null&&E_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E_(n),e===1)t.tag===0?UP(p1.bind(null,t)):dT(p1.bind(null,t)),NP(function(){!(Ie&6)&&Xi()}),n=null;else{switch(jE(r)){case 1:n=Dy;break;case 4:n=UE;break;case 16:n=Od;break;case 536870912:n=$E;break;default:n=Od}n=ck(n,rk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rk(t,e){if(cd=-1,dd=0,Ie&6)throw Error(B(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=Dd(t,t===It?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qd(t,r);else{e=r;var i=Ie;Ie|=2;var s=sk();(It!==t||At!==e)&&(Ar=null,qo=ut()+500,bs(t,e));do try{iN();break}catch(u){ik(t,u)}while(1);By(),Hd.current=s,Ie=i,ft!==null?e=0:(It=null,At=0,e=yt)}if(e!==0){if(e===2&&(i=Km(t),i!==0&&(r=i,e=Tg(t,i))),e===1)throw n=Gl,bs(t,0),vi(t,r),yn(t,ut()),n;if(e===6)vi(t,r);else{if(i=t.current.alternate,!(r&30)&&!nN(i)&&(e=qd(t,r),e===2&&(s=Km(t),s!==0&&(r=s,e=Tg(t,s))),e===1))throw n=Gl,bs(t,0),vi(t,r),yn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ys(t,hn,Ar);break;case 3:if(vi(t,r),(r&130023424)===r&&(e=iv+500-ut(),10<e)){if(Dd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rg(ys.bind(null,t,hn,Ar),e);break}ys(t,hn,Ar);break;case 4:if(vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tN(r/1960))-r,10<r){t.timeoutHandle=rg(ys.bind(null,t,hn,Ar),r);break}ys(t,hn,Ar);break;case 5:ys(t,hn,Ar);break;default:throw Error(B(329))}}}return yn(t,ut()),t.callbackNode===n?rk.bind(null,t):null}function Tg(t,e){var n=wl;return t.current.memoizedState.isDehydrated&&(bs(t,e).flags|=256),t=qd(t,e),t!==2&&(e=hn,hn=n,e!==null&&kg(e)),t}function kg(t){hn===null?hn=t:hn.push.apply(hn,t)}function nN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!er(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~rv,e&=~jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function p1(t){if(Ie&6)throw Error(B(327));Ao();var e=Dd(t,0);if(!(e&1))return yn(t,ut()),null;var n=qd(t,e);if(t.tag!==0&&n===2){var r=Km(t);r!==0&&(e=r,n=Tg(t,r))}if(n===1)throw n=Gl,bs(t,0),vi(t,e),yn(t,ut()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ys(t,hn,Ar),yn(t,ut()),null}function sv(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(qo=ut()+500,Lh&&Xi())}}function Us(t){Ii!==null&&Ii.tag===0&&!(Ie&6)&&Ao();var e=Ie;Ie|=1;var n=Fn.transition,r=Ae;try{if(Fn.transition=null,Ae=1,t)return t()}finally{Ae=r,Fn.transition=n,Ie=e,!(Ie&6)&&Xi()}}function ov(){_n=Io.current,Ye(Io)}function bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PP(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(jy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Md();break;case 3:Yo(),Ye(mn),Ye(Kt),Ky();break;case 5:qy(r);break;case 4:Yo();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:Wy(r.type._context);break;case 22:case 23:ov()}n=n.return}if(It=t,ft=t=Li(t.current,null),At=_n=e,yt=0,Gl=null,rv=jh=Ls=0,hn=wl=null,_s!==null){for(e=0;e<_s.length;e++)if(n=_s[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}_s=null}return t}function ik(t,e){do{var n=ft;try{if(By(),ad.current=Wd,Bd){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bd=!1}if(Ms=0,Tt=gt=nt=null,yl=!1,Wl=0,nv.current=null,n===null||n.return===null){yt=1,Gl=e,ft=null;break}e:{var s=t,o=n.return,u=n,h=e;if(e=At,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,y=u,_=y.tag;if(!(y.mode&1)&&(_===0||_===11||_===15)){var S=y.alternate;S?(y.updateQueue=S.updateQueue,y.memoizedState=S.memoizedState,y.lanes=S.lanes):(y.updateQueue=null,y.memoizedState=null)}var b=t1(o);if(b!==null){b.flags&=-257,n1(b,o,u,s,e),b.mode&1&&e1(s,f,e),e=b,h=f;var R=e.updateQueue;if(R===null){var D=new Set;D.add(h),e.updateQueue=D}else R.add(h);break e}else{if(!(e&1)){e1(s,f,e),av();break e}h=Error(B(426))}}else if(Xe&&u.mode&1){var $=t1(o);if($!==null){!($.flags&65536)&&($.flags|=256),n1($,o,u,s,e),Vy(Go(h,u));break e}}s=h=Go(h,u),yt!==4&&(yt=2),wl===null?wl=[s]:wl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=VT(s,h,e);G_(s,I);break e;case 1:u=h;var T=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ai===null||!Ai.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=zT(s,u,e);G_(s,A);break e}}s=s.return}while(s!==null)}ak(n)}catch(j){e=j,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(1)}function sk(){var t=Hd.current;return Hd.current=Wd,t===null?Wd:t}function av(){(yt===0||yt===3||yt===2)&&(yt=4),It===null||!(Ls&268435455)&&!(jh&268435455)||vi(It,At)}function qd(t,e){var n=Ie;Ie|=2;var r=sk();(It!==t||At!==e)&&(Ar=null,bs(t,e));do try{rN();break}catch(i){ik(t,i)}while(1);if(By(),Ie=n,Hd.current=r,ft!==null)throw Error(B(261));return It=null,At=0,yt}function rN(){for(;ft!==null;)ok(ft)}function iN(){for(;ft!==null&&!OR();)ok(ft)}function ok(t){var e=uk(t.alternate,t,_n);t.memoizedProps=t.pendingProps,e===null?ak(t):ft=e,nv.current=null}function ak(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XP(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ft=null;return}}else if(n=QP(n,e,_n),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);yt===0&&(yt=5)}function ys(t,e,n){var r=Ae,i=Fn.transition;try{Fn.transition=null,Ae=1,sN(t,e,n,r)}finally{Fn.transition=i,Ae=r}return null}function sN(t,e,n,r){do Ao();while(Ii!==null);if(Ie&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(FR(t,s),t===It&&(ft=It=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jc||(jc=!0,ck(Od,function(){return Ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Fn.transition,Fn.transition=null;var o=Ae;Ae=1;var u=Ie;Ie|=4,nv.current=null,ZP(t,n),tk(n,t),IP(tg),Rd=!!eg,tg=eg=null,t.current=n,eN(n),DR(),Ie=u,Ae=o,Fn.transition=s}else t.current=n;if(jc&&(jc=!1,Ii=t,Gd=i),s=t.pendingLanes,s===0&&(Ai=null),NR(n.stateNode),yn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yd)throw Yd=!1,t=Sg,Sg=null,t;return Gd&1&&t.tag!==0&&Ao(),s=t.pendingLanes,s&1?t===Eg?_l++:(_l=0,Eg=t):_l=0,Xi(),null}function Ao(){if(Ii!==null){var t=jE(Gd),e=Fn.transition,n=Ae;try{if(Fn.transition=null,Ae=16>t?16:t,Ii===null)var r=!1;else{if(t=Ii,Ii=null,Gd=0,Ie&6)throw Error(B(331));var i=Ie;for(Ie|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(Z=f;Z!==null;){var y=Z;switch(y.tag){case 0:case 11:case 15:vl(8,y,s)}var _=y.child;if(_!==null)_.return=y,Z=_;else for(;Z!==null;){y=Z;var S=y.sibling,b=y.return;if(JT(y),y===f){Z=null;break}if(S!==null){S.return=b,Z=S;break}Z=b}}}var R=s.alternate;if(R!==null){var D=R.child;if(D!==null){R.child=null;do{var $=D.sibling;D.sibling=null,D=$}while(D!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vl(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,Z=I;break e}Z=s.return}}var T=t.current;for(Z=T;Z!==null;){o=Z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Z=x;else e:for(o=T;Z!==null;){if(u=Z,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Fh(9,u)}}catch(j){it(u,u.return,j)}if(u===o){Z=null;break e}var A=u.sibling;if(A!==null){A.return=u.return,Z=A;break e}Z=u.return}}if(Ie=i,Xi(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Rh,t)}catch{}r=!0}return r}finally{Ae=n,Fn.transition=e}}return!1}function m1(t,e,n){e=Go(n,e),e=VT(t,e,1),t=Ni(t,e,1),e=on(),t!==null&&(fu(t,1,e),yn(t,e))}function it(t,e,n){if(t.tag===3)m1(t,t,n);else for(;e!==null;){if(e.tag===3){m1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=Go(n,t),t=zT(e,t,1),e=Ni(e,t,1),t=on(),e!==null&&(fu(e,1,t),yn(e,t));break}}e=e.return}}function oN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(At&n)===n&&(yt===4||yt===3&&(At&130023424)===At&&500>ut()-iv?bs(t,0):rv|=n),yn(t,e)}function lk(t,e){e===0&&(t.mode&1?(e=Dc,Dc<<=1,!(Dc&130023424)&&(Dc=4194304)):e=1);var n=on();t=Kr(t,e),t!==null&&(fu(t,e,n),yn(t,n))}function aN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lk(t,n)}function lN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),lk(t,n)}var uk;uk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,KP(t,e,n);pn=!!(t.flags&131072)}else pn=!1,Xe&&e.flags&1048576&&hT(e,$d,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ud(t,e),t=e.pendingProps;var i=Bo(e,Kt.current);No(e,n),i=Xy(null,e,r,t,i,n);var s=Jy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(s=!0,Ld(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yy(e),i.updater=Uh,e.stateNode=i,i._reactInternals=e,cg(e,r,t,n),e=fg(null,e,r,!0,s,n)):(e.tag=0,Xe&&s&&Fy(e),rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ud(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cN(r),t=Gn(r,t),i){case 0:e=hg(null,e,r,t,n);break e;case 1:e=s1(null,e,r,t,n);break e;case 11:e=r1(null,e,r,t,n);break e;case 14:e=i1(null,e,r,Gn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),hg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),s1(t,e,r,i,n);case 3:e:{if(YT(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,gT(t,e),Vd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Go(Error(B(423)),e),e=o1(t,e,r,n,i);break e}else if(r!==i){i=Go(Error(B(424)),e),e=o1(t,e,r,n,i);break e}else for(Tn=Pi(e.stateNode.containerInfo.firstChild),bn=e,Xe=!0,Qn=null,n=_T(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wo(),r===i){e=Qr(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return ST(e),t===null&&ag(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ng(r,i)?o=null:s!==null&&ng(r,s)&&(e.flags|=32),HT(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&ag(e),null;case 13:return GT(t,e,n);case 4:return Gy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ho(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),r1(t,e,r,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ve(Fd,r._currentValue),r._currentValue=o,s!==null)if(er(s.value,o)){if(s.children===i.children&&!mn.current){e=Qr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=Wr(-1,n&-n),h.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var y=f.pending;y===null?h.next=h:(h.next=y.next,y.next=h),f.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),lg(s.return,n,e),u.lanes|=n;break}h=h.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),lg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,No(e,n),i=Vn(i),r=r(i),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,i=Gn(r,e.pendingProps),i=Gn(r.type,i),i1(t,e,r,i,n);case 15:return BT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),ud(t,e),e.tag=1,gn(r)?(t=!0,Ld(e)):t=!1,No(e,n),vT(e,r,i),cg(e,r,i,n),fg(null,e,r,!0,t,n);case 19:return qT(t,e,n);case 22:return WT(t,e,n)}throw Error(B(156,e.tag))};function ck(t,e){return LE(t,e)}function uN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,n,r){return new uN(t,e,n,r)}function lv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cN(t){if(typeof t=="function")return lv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xy)return 11;if(t===Cy)return 14}return 2}function Li(t,e){var n=t.alternate;return n===null?(n=$n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")lv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case mo:return xs(n.children,i,s,e);case by:o=8,i|=8;break;case Am:return t=$n(12,n,e,i|2),t.elementType=Am,t.lanes=s,t;case Mm:return t=$n(13,n,e,i),t.elementType=Mm,t.lanes=s,t;case Lm:return t=$n(19,n,e,i),t.elementType=Lm,t.lanes=s,t;case wE:return Vh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yE:o=10;break e;case vE:o=9;break e;case xy:o=11;break e;case Cy:o=14;break e;case mi:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=$n(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xs(t,e,n,r){return t=$n(7,t,r,e),t.lanes=n,t}function Vh(t,e,n,r){return t=$n(22,t,r,e),t.elementType=wE,t.lanes=n,t.stateNode={isHidden:!1},t}function em(t,e,n){return t=$n(6,t,null,e),t.lanes=n,t}function tm(t,e,n){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mp(0),this.expirationTimes=Mp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uv(t,e,n,r,i,s,o,u,h){return t=new dN(t,e,n,u,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$n(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yy(s),t}function hN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dk(t){if(!t)return Wi;t=t._reactInternals;e:{if(Gs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(gn(n))return cT(t,n,e)}return e}function hk(t,e,n,r,i,s,o,u,h){return t=uv(n,r,!0,t,i,s,o,u,h),t.context=dk(null),n=t.current,r=on(),i=Mi(n),s=Wr(r,i),s.callback=e??null,Ni(n,s,i),t.current.lanes=i,fu(t,i,r),yn(t,r),t}function zh(t,e,n,r){var i=e.current,s=on(),o=Mi(i);return n=dk(n),e.context===null?e.context=n:e.pendingContext=n,e=Wr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ni(i,e,o),t!==null&&(Zn(t,i,o,s),od(t,i,o)),o}function Kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cv(t,e){g1(t,e),(t=t.alternate)&&g1(t,e)}function fN(){return null}var fk=typeof reportError=="function"?reportError:function(t){console.error(t)};function dv(t){this._internalRoot=t}Bh.prototype.render=dv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));zh(t,e,null,null)};Bh.prototype.unmount=dv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Us(function(){zh(null,t,null,null)}),e[qr]=null}};function Bh(t){this._internalRoot=t}Bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=BE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yi.length&&e!==0&&e<yi[n].priority;n++);yi.splice(n,0,t),n===0&&HE(t)}};function hv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y1(){}function pN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=Kd(o);s.call(f)}}var o=hk(e,r,t,0,null,!1,!1,"",y1);return t._reactRootContainer=o,t[qr]=o.current,Fl(t.nodeType===8?t.parentNode:t),Us(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=Kd(h);u.call(f)}}var h=uv(t,0,!1,null,null,!1,!1,"",y1);return t._reactRootContainer=h,t[qr]=h.current,Fl(t.nodeType===8?t.parentNode:t),Us(function(){zh(e,h,n,r)}),h}function Hh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var h=Kd(o);u.call(h)}}zh(e,o,t,i)}else o=pN(n,e,t,i,r);return Kd(o)}VE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=il(e.pendingLanes);n!==0&&(Ry(e,n|1),yn(e,ut()),!(Ie&6)&&(qo=ut()+500,Xi()))}break;case 13:Us(function(){var r=Kr(t,1);if(r!==null){var i=on();Zn(r,t,1,i)}}),cv(t,1)}};Py=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=on();Zn(e,t,134217728,n)}cv(t,134217728)}};zE=function(t){if(t.tag===13){var e=Mi(t),n=Kr(t,e);if(n!==null){var r=on();Zn(n,t,e,r)}cv(t,e)}};BE=function(){return Ae};WE=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Ym=function(t,e,n){switch(e){case"input":if(Fm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mh(r);if(!i)throw Error(B(90));SE(r),Fm(r,i)}}}break;case"textarea":TE(t,n);break;case"select":e=n.value,e!=null&&Oo(t,!!n.multiple,e,!1)}};DE=sv;RE=Us;var mN={usingClientEntryPoint:!1,Events:[mu,wo,Mh,CE,OE,sv]},Qa={findFiberByHostInstance:ws,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gN={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AE(t),t===null?null:t.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||fN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Rh=Vc.inject(gN),fr=Vc}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mN;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hv(e))throw Error(B(200));return hN(t,e,null,n)};Dn.createRoot=function(t,e){if(!hv(t))throw Error(B(299));var n=!1,r="",i=fk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uv(t,1,!1,null,null,n,!1,r,i),t[qr]=e.current,Fl(t.nodeType===8?t.parentNode:t),new dv(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=AE(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return Us(t)};Dn.hydrate=function(t,e,n){if(!Wh(e))throw Error(B(200));return Hh(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!hv(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=fk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=hk(e,null,t,1,n??null,i,!1,s,o),t[qr]=e.current,Fl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bh(e)};Dn.render=function(t,e,n){if(!Wh(e))throw Error(B(200));return Hh(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!Wh(t))throw Error(B(40));return t._reactRootContainer?(Us(function(){Hh(null,null,t,!1,function(){t._reactRootContainer=null,t[qr]=null})}),!0):!1};Dn.unstable_batchedUpdates=sv;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wh(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Hh(t,e,n,!1,r)};Dn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Dn})(fR);var v1=Rm;Dm.createRoot=v1.createRoot,Dm.hydrateRoot=v1.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const w1="popstate";function yN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:u}=r.location;return Ig("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qd(i)}return wN(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vN(){return Math.random().toString(36).substr(2,8)}function _1(t,e){return{usr:t.state,key:t.key,idx:e}}function Ig(t,e,n,r){return n===void 0&&(n=null),ql({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ua(e):e,{state:n,key:e&&e.key||r||vN()})}function Qd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ua(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function wN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=bi.Pop,h=null,f=y();f==null&&(f=0,o.replaceState(ql({},o.state,{idx:f}),""));function y(){return(o.state||{idx:null}).idx}function _(){u=bi.Pop;let $=y(),I=$==null?null:$-f;f=$,h&&h({action:u,location:D.location,delta:I})}function S($,I){u=bi.Push;let T=Ig(D.location,$,I);n&&n(T,$),f=y()+1;let x=_1(T,f),A=D.createHref(T);try{o.pushState(x,"",A)}catch{i.location.assign(A)}s&&h&&h({action:u,location:D.location,delta:1})}function b($,I){u=bi.Replace;let T=Ig(D.location,$,I);n&&n(T,$),f=y();let x=_1(T,f),A=D.createHref(T);o.replaceState(x,"",A),s&&h&&h({action:u,location:D.location,delta:0})}function R($){let I=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof $=="string"?$:Qd($);return mt(I,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,I)}let D={get action(){return u},get location(){return t(i,o)},listen($){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(w1,_),h=$,()=>{i.removeEventListener(w1,_),h=null}},createHref($){return e(i,$)},createURL:R,encodeLocation($){let I=R($);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:S,replace:b,go($){return o.go($)}};return D}var S1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(S1||(S1={}));function _N(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ua(e):e,i=pv(r.pathname||"/",n);if(i==null)return null;let s=pk(t);SN(s);let o=null;for(let u=0;o==null&&u<s.length;++u)o=DN(s[u],NN(i));return o}function pk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let h={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};h.relativePath.startsWith("/")&&(mt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=Ui([r,h.relativePath]),y=n.concat(h);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),pk(s.children,e,y,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:CN(f,s.index),routesMeta:y})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let h of mk(s.path))i(s,o,h)}),e}function mk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=mk(r.join("/")),u=[];return u.push(...o.map(h=>h===""?s:[s,h].join("/"))),i&&u.push(...o),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function SN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ON(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EN=/^:\w+$/,TN=3,kN=2,IN=1,bN=10,xN=-2,E1=t=>t==="*";function CN(t,e){let n=t.split("/"),r=n.length;return n.some(E1)&&(r+=xN),e&&(r+=kN),n.filter(i=>!E1(i)).reduce((i,s)=>i+(EN.test(s)?TN:s===""?IN:bN),r)}function ON(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let u=n[o],h=o===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",y=RN({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f);if(!y)return null;Object.assign(r,y.params);let _=u.route;s.push({params:r,pathname:Ui([i,y.pathname]),pathnameBase:UN(Ui([i,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(i=Ui([i,y.pathnameBase]))}return s}function RN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,y,_)=>{if(y==="*"){let S=u[_]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}return f[y]=AN(u[_]||"",y),f},{}),pathname:s,pathnameBase:o,pattern:t}}function PN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,u)=>(r.push(u),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NN(t){try{return decodeURI(t)}catch(e){return fv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AN(t,e){try{return decodeURIComponent(t)}catch(n){return fv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function pv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function MN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ua(t):t;return{pathname:n?n.startsWith("/")?n:LN(n,e):e,search:$N(r),hash:FN(i)}}function LN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ua(t):(i=ql({},t),mt(!i.pathname||!i.pathname.includes("?"),nm("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),nm("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),nm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,u;if(r||o==null)u=n;else{let _=e.length-1;if(o.startsWith("..")){let S=o.split("/");for(;S[0]==="..";)S.shift(),_-=1;i.pathname=S.join("/")}u=_>=0?e[_]:"/"}let h=MN(i,u),f=o&&o!=="/"&&o.endsWith("/"),y=(s||o===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||y)&&(h.pathname+="/"),h}const Ui=t=>t.join("/").replace(/\/\/+/g,"/"),UN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$N=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function VN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const zN=typeof Object.is=="function"?Object.is:VN,{useState:BN,useEffect:WN,useLayoutEffect:HN,useDebugValue:YN}=Om;function GN(t,e,n){const r=e(),[{inst:i},s]=BN({inst:{value:r,getSnapshot:e}});return HN(()=>{i.value=r,i.getSnapshot=e,rm(i)&&s({inst:i})},[t,r,e]),WN(()=>(rm(i)&&s({inst:i}),t(()=>{rm(i)&&s({inst:i})})),[t]),YN(r),r}function rm(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!zN(n,r)}catch{return!0}}function qN(t,e,n){return e()}const KN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QN=!KN,XN=QN?qN:GN;"useSyncExternalStore"in Om&&(t=>t.useSyncExternalStore)(Om);const vk=N.createContext(null),mv=N.createContext(null),yu=N.createContext(null),Yh=N.createContext(null),ca=N.createContext({outlet:null,matches:[]}),wk=N.createContext(null);function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function JN(t,e){let{relative:n}=e===void 0?{}:e;da()||mt(!1);let{basename:r,navigator:i}=N.useContext(yu),{hash:s,pathname:o,search:u}=_k(t,{relative:n}),h=o;return r!=="/"&&(h=o==="/"?r:Ui([r,o])),i.createHref({pathname:h,search:u,hash:s})}function da(){return N.useContext(Yh)!=null}function Gh(){return da()||mt(!1),N.useContext(Yh).location}function qh(){da()||mt(!1);let{basename:t,navigator:e}=N.useContext(yu),{matches:n}=N.useContext(ca),{pathname:r}=Gh(),i=JSON.stringify(gk(n).map(u=>u.pathnameBase)),s=N.useRef(!1);return N.useEffect(()=>{s.current=!0}),N.useCallback(function(u,h){if(h===void 0&&(h={}),!s.current)return;if(typeof u=="number"){e.go(u);return}let f=yk(u,JSON.parse(i),r,h.relative==="path");t!=="/"&&(f.pathname=f.pathname==="/"?t:Ui([t,f.pathname])),(h.replace?e.replace:e.push)(f,h.state,h)},[t,e,i,r])}function _k(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=N.useContext(ca),{pathname:i}=Gh(),s=JSON.stringify(gk(r).map(o=>o.pathnameBase));return N.useMemo(()=>yk(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function ZN(t,e){da()||mt(!1);let{navigator:n}=N.useContext(yu),r=N.useContext(mv),{matches:i}=N.useContext(ca),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let h=Gh(),f;if(e){var y;let D=typeof e=="string"?ua(e):e;u==="/"||(y=D.pathname)!=null&&y.startsWith(u)||mt(!1),f=D}else f=h;let _=f.pathname||"/",S=u==="/"?_:_.slice(u.length)||"/",b=_N(t,{pathname:S}),R=rA(b&&b.map(D=>Object.assign({},D,{params:Object.assign({},o,D.params),pathname:Ui([u,n.encodeLocation?n.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?u:Ui([u,n.encodeLocation?n.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),i,r||void 0);return e&&R?N.createElement(Yh.Provider,{value:{location:bg({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:bi.Pop}},R):R}function eA(){let t=aA(),e=jN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,s)}class tA extends N.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?N.createElement(ca.Provider,{value:this.props.routeContext},N.createElement(wk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nA(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(vk);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(ca.Provider,{value:e},r)}function rA(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||mt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,u)=>{let h=o.route.id?i==null?void 0:i[o.route.id]:null,f=null;n&&(o.route.ErrorBoundary?f=N.createElement(o.route.ErrorBoundary,null):o.route.errorElement?f=o.route.errorElement:f=N.createElement(eA,null));let y=e.concat(r.slice(0,u+1)),_=()=>{let S=s;return h?S=f:o.route.Component?S=N.createElement(o.route.Component,null):o.route.element&&(S=o.route.element),N.createElement(nA,{match:o,routeContext:{outlet:s,matches:y},children:S})};return n&&(o.route.ErrorBoundary||o.route.errorElement||u===0)?N.createElement(tA,{location:n.location,component:f,error:h,children:_(),routeContext:{outlet:null,matches:y}}):_()},null)}var T1;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(T1||(T1={}));var Xd;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Xd||(Xd={}));function iA(t){let e=N.useContext(mv);return e||mt(!1),e}function sA(t){let e=N.useContext(ca);return e||mt(!1),e}function oA(t){let e=sA(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function aA(){var t;let e=N.useContext(wk),n=iA(Xd.UseRouteError),r=oA(Xd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function lA(t){let{to:e,replace:n,state:r,relative:i}=t;da()||mt(!1);let s=N.useContext(mv),o=qh();return N.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function fd(t){mt(!1)}function uA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bi.Pop,navigator:s,static:o=!1}=t;da()&&mt(!1);let u=e.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:u,navigator:s,static:o}),[u,s,o]);typeof r=="string"&&(r=ua(r));let{pathname:f="/",search:y="",hash:_="",state:S=null,key:b="default"}=r,R=N.useMemo(()=>{let D=pv(f,u);return D==null?null:{location:{pathname:D,search:y,hash:_,state:S,key:b},navigationType:i}},[u,f,y,_,S,b,i]);return R==null?null:N.createElement(yu.Provider,{value:h},N.createElement(Yh.Provider,{children:n,value:R}))}function cA(t){let{children:e,location:n}=t,r=N.useContext(vk),i=r&&!e?r.router.routes:xg(e);return ZN(i,n)}var k1;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(k1||(k1={}));new Promise(()=>{});function xg(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;if(r.type===N.Fragment){n.push.apply(n,xg(r.props.children,e));return}r.type!==fd&&mt(!1),!r.props.index||!r.props.children||mt(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}function dA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fA(t,e){return t.button===0&&(!e||e==="_self")&&!hA(t)}const pA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function mA(t){let{basename:e,children:n,window:r}=t,i=N.useRef();i.current==null&&(i.current=yN({window:r,v5Compat:!0}));let s=i.current,[o,u]=N.useState({action:s.action,location:s.location});return N.useLayoutEffect(()=>s.listen(u),[s]),N.createElement(uA,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const gA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sk=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:h,to:f,preventScrollReset:y}=e,_=dA(e,pA),{basename:S}=N.useContext(yu),b,R=!1;if(typeof f=="string"&&yA.test(f)&&(b=f,gA)){let T=new URL(window.location.href),x=f.startsWith("//")?new URL(T.protocol+f):new URL(f),A=pv(x.pathname,S);x.origin===T.origin&&A!=null?f=A+x.search+x.hash:R=!0}let D=JN(f,{relative:i}),$=vA(f,{replace:o,state:u,target:h,preventScrollReset:y,relative:i});function I(T){r&&r(T),T.defaultPrevented||$(T)}return N.createElement("a",Cg({},_,{href:b||D,onClick:R||s?r:I,ref:n,target:h}))});var I1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(I1||(I1={}));var b1;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(b1||(b1={}));function vA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,u=qh(),h=Gh(),f=_k(t,{relative:o});return N.useCallback(y=>{if(fA(y,n)){y.preventDefault();let _=r!==void 0?r:Qd(h)===Qd(f);u(t,{replace:_,state:i,preventScrollReset:s,relative:o})}},[h,u,f,r,i,n,t,s,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],h=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Tk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,y=s>>2,_=(s&3)<<4|u>>4;let S=(u&15)<<2|f>>6,b=f&63;h||(b=64,o||(S=64)),r.push(n[y],n[_],n[S],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ek(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||f==null||_==null)throw new _A;const S=s<<2|u>>4;if(r.push(S),f!==64){const b=u<<4&240|f>>2;if(r.push(b),_!==64){const R=f<<6&192|_;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SA=function(t){const e=Ek(t);return Tk.encodeByteArray(e,!0)},Jd=function(t){return SA(t).replace(/\./g,"")},kk=function(t){try{return Tk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=()=>EA().__FIREBASE_DEFAULTS__,kA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kk(t[1]);return e&&JSON.parse(e)},Kh=()=>{try{return TA()||kA()||IA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ik=t=>{var e,n;return(n=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bk=t=>{const e=Ik(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bA=()=>{var t;return(t=Kh())===null||t===void 0?void 0:t.config},xk=t=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Jd(JSON.stringify(n)),Jd(JSON.stringify(o)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function OA(){var t;const e=(t=Kh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PA(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NA(){try{return typeof indexedDB=="object"}catch{return!1}}function AA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="FirebaseError";class Er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MA,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?LA(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Er(i,u,r)}}function LA(t,e){return t.replace(UA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const UA=/\{\$([^}]+)}/g;function $A(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(x1(s)&&x1(o)){if(!Zd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function x1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ol(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function al(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FA(t,e){const n=new jA(t,e);return n.subscribe.bind(n)}class jA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=im),i.error===void 0&&(i.error=im),i.complete===void 0&&(i.complete=im);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class Hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WA(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BA(t){return t===vs?void 0:t}function WA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const YA={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},GA=Oe.INFO,qA={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},KA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gv{constructor(e){this.name=e,this._logLevel=GA,this._logHandler=KA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const QA=(t,e)=>e.some(n=>t instanceof n);let C1,O1;function XA(){return C1||(C1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JA(){return O1||(O1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ok=new WeakMap,Og=new WeakMap,Dk=new WeakMap,sm=new WeakMap,yv=new WeakMap;function ZA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ok.set(n,t)}).catch(()=>{}),yv.set(e,t),e}function eM(t){if(Og.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Og.set(t,e)}let Dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tM(t){Dg=t(Dg)}function nM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(om(this),e,...n);return Dk.set(r,e.sort?e.sort():[e]),$i(r)}:JA().includes(t)?function(...e){return t.apply(om(this),e),$i(Ok.get(this))}:function(...e){return $i(t.apply(om(this),e))}}function rM(t){return typeof t=="function"?nM(t):(t instanceof IDBTransaction&&eM(t),QA(t,XA())?new Proxy(t,Dg):t)}function $i(t){if(t instanceof IDBRequest)return ZA(t);if(sm.has(t))return sm.get(t);const e=rM(t);return e!==t&&(sm.set(t,e),yv.set(e,t)),e}const om=t=>yv.get(t);function iM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=$i(o);return r&&o.addEventListener("upgradeneeded",h=>{r($i(o.result),h.oldVersion,h.newVersion,$i(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),u.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",()=>i())}).catch(()=>{}),u}const sM=["get","getKey","getAll","getAllKeys","count"],oM=["put","add","delete","clear"],am=new Map;function D1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sM.includes(n)))return;const s=async function(o,...u){const h=this.transaction(o,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&h.done]))[0]};return am.set(e,s),s}tM(t=>({...t,get:(e,n,r)=>D1(e,n)||t.get(e,n,r),has:(e,n)=>!!D1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rg="@firebase/app",R1="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new gv("@firebase/app"),uM="@firebase/app-compat",cM="@firebase/analytics-compat",dM="@firebase/analytics",hM="@firebase/app-check-compat",fM="@firebase/app-check",pM="@firebase/auth",mM="@firebase/auth-compat",gM="@firebase/database",yM="@firebase/database-compat",vM="@firebase/functions",wM="@firebase/functions-compat",_M="@firebase/installations",SM="@firebase/installations-compat",EM="@firebase/messaging",TM="@firebase/messaging-compat",kM="@firebase/performance",IM="@firebase/performance-compat",bM="@firebase/remote-config",xM="@firebase/remote-config-compat",CM="@firebase/storage",OM="@firebase/storage-compat",DM="@firebase/firestore",RM="@firebase/firestore-compat",PM="firebase",NM="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="[DEFAULT]",AM={[Rg]:"fire-core",[uM]:"fire-core-compat",[dM]:"fire-analytics",[cM]:"fire-analytics-compat",[fM]:"fire-app-check",[hM]:"fire-app-check-compat",[pM]:"fire-auth",[mM]:"fire-auth-compat",[gM]:"fire-rtdb",[yM]:"fire-rtdb-compat",[vM]:"fire-fn",[wM]:"fire-fn-compat",[_M]:"fire-iid",[SM]:"fire-iid-compat",[EM]:"fire-fcm",[TM]:"fire-fcm-compat",[kM]:"fire-perf",[IM]:"fire-perf-compat",[bM]:"fire-rc",[xM]:"fire-rc-compat",[CM]:"fire-gcs",[OM]:"fire-gcs-compat",[DM]:"fire-fst",[RM]:"fire-fst-compat","fire-js":"fire-js",[PM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,Ng=new Map;function MM(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(Ng.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,t);for(const n of eh.values())MM(n,t);return!0}function Qh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Fi=new vu("app","Firebase",LM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=NM;function Rk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fi.create("bad-app-name",{appName:String(i)});if(n||(n=bA()),!n)throw Fi.create("no-options");const s=eh.get(i);if(s){if(Zd(n,s.options)&&Zd(r,s.config))return s;throw Fi.create("duplicate-app",{appName:i})}const o=new HA(i);for(const h of Ng.values())o.addComponent(h);const u=new UM(n,r,o);return eh.set(i,u),u}function vv(t=Pg){const e=eh.get(t);if(!e&&t===Pg)return Rk();if(!e)throw Fi.create("no-app",{appName:t});return e}function mr(t,e,n){var r;let i=(r=AM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(u.join(" "));return}Fs(new Hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="firebase-heartbeat-database",FM=1,Kl="firebase-heartbeat-store";let lm=null;function Pk(){return lm||(lm=iM($M,FM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Kl)}}}).catch(t=>{throw Fi.create("idb-open",{originalErrorMessage:t.message})})),lm}async function jM(t){try{return(await Pk()).transaction(Kl).objectStore(Kl).get(Nk(t))}catch(e){if(e instanceof Er)$s.warn(e.message);else{const n=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(n.message)}}}async function P1(t,e){try{const r=(await Pk()).transaction(Kl,"readwrite");return await r.objectStore(Kl).put(e,Nk(t)),r.done}catch(n){if(n instanceof Er)$s.warn(n.message);else{const r=Fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$s.warn(r.message)}}}function Nk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=1024,zM=30*24*60*60*1e3;class BM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=N1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=zM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N1(),{heartbeatsToSend:n,unsentEntries:r}=WM(this._heartbeatsCache.heartbeats),i=Jd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function N1(){return new Date().toISOString().substring(0,10)}function WM(t,e=VM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),A1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),A1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NA()?AA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function A1(t){return Jd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t){Fs(new Hi("platform-logger",e=>new aM(e),"PRIVATE")),Fs(new Hi("heartbeat",e=>new BM(e),"PRIVATE")),mr(Rg,R1,t),mr(Rg,R1,"esm2017"),mr("fire-js","")}YM("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="firebasestorage.googleapis.com",Mk="storageBucket",GM=2*60*1e3,qM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends Er{constructor(e,n,r=0){super(um(e),`Firebase Storage: ${n} (${um(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,at.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return um(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function um(t){return"storage/"+t}function wv(){const t="An unknown error occurred, please check the error payload for server response.";return new at(st.UNKNOWN,t)}function KM(t){return new at(st.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function QM(t){return new at(st.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new at(st.UNAUTHENTICATED,t)}function JM(){return new at(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZM(t){return new at(st.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function eL(){return new at(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tL(){return new at(st.CANCELED,"User canceled the upload/download.")}function nL(t){return new at(st.INVALID_URL,"Invalid URL '"+t+"'.")}function rL(t){return new at(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iL(){return new at(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Mk+"' property when initializing the app?")}function sL(){return new at(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oL(){return new at(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aL(t){return new at(st.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ag(t){return new at(st.INVALID_ARGUMENT,t)}function Lk(){return new at(st.APP_DELETED,"The Firebase app was deleted.")}function lL(t){return new at(st.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sl(t,e){return new at(st.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Xa(t){throw new at(st.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=kn.makeFromUrl(e,n)}catch{return new kn(e,"")}if(r.path==="")return r;throw rL(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),h={bucket:1,path:3};function f(A){A.path_=decodeURIComponent(A.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",b=new RegExp(`^https?://${_}/${y}/b/${i}/o${S}`,"i"),R={bucket:1,path:3},D=n===Ak?"(?:storage.googleapis.com|storage.cloud.google.com)":n,$="([^?#]*)",I=new RegExp(`^https?://${D}/${i}/${$}`,"i"),x=[{regex:u,indices:h,postModify:s},{regex:b,indices:R,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let A=0;A<x.length;A++){const j=x[A],Y=j.regex.exec(e);if(Y){const K=Y[j.indices.bucket];let L=Y[j.indices.path];L||(L=""),r=new kn(K,L),j.postModify(r);break}}if(r==null)throw nL(e);return r}}class uL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t,e,n){let r=1,i=null,s=null,o=!1,u=0;function h(){return u===2}let f=!1;function y(...$){f||(f=!0,e.apply(null,$))}function _($){i=setTimeout(()=>{i=null,t(b,h())},$)}function S(){s&&clearTimeout(s)}function b($,...I){if(f){S();return}if($){S(),y.call(null,$,...I);return}if(h()||o){S(),y.call(null,$,...I);return}r<64&&(r*=2);let x;u===1?(u=2,x=0):x=(r+Math.random())*1e3,_(x)}let R=!1;function D($){R||(R=!0,S(),!f&&(i!==null?($||(u=2),clearTimeout(i),_(0)):$||(u=1)))}return _(0),s=setTimeout(()=>{o=!0,D(!0)},n),D}function dL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){return t!==void 0}function fL(t){return typeof t=="object"&&!Array.isArray(t)}function _v(t){return typeof t=="string"||t instanceof String}function M1(t){return Sv()&&t instanceof Blob}function Sv(){return typeof Blob<"u"&&!OA()}function L1(t,e,n,r){if(r<e)throw Ag(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ag(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Uk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Cs||(Cs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r,i,s,o,u,h,f,y,_,S=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=y,this.connectionFactory_=_,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,R)=>{this.resolve_=b,this.reject_=R,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new zc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===Cs.NO_ERROR,h=s.getStatus();if(!u||pL(h,this.additionalRetryCodes_)&&this.retry){const y=s.getErrorCode()===Cs.ABORT;r(!1,new zc(!1,null,y));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new zc(f,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());hL(h)?s(h):s()}catch(h){o(h)}else if(u!==null){const h=wv();h.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,h)):o(h)}else if(i.canceled){const h=this.appDelete_?Lk():tL();o(h)}else{const h=eL();o(h)}};this.canceled_?n(!1,new zc(!1,null,!0)):this.backoffId_=cL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _L(t,e,n,r,i,s,o=!0){const u=Uk(t.urlParams),h=t.url+u,f=Object.assign({},t.headers);return vL(f,e),gL(f,n),yL(f,s),wL(f,r),new mL(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function EL(...t){const e=SL();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Sv())return new Blob(t);throw new at(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){if(typeof atob>"u")throw aL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cm{constructor(e,n){this.data=e,this.contentType=n||null}}function IL(t,e){switch(t){case hr.RAW:return new cm($k(e));case hr.BASE64:case hr.BASE64URL:return new cm(Fk(t,e));case hr.DATA_URL:return new cm(xL(e),CL(e))}throw wv()}function $k(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bL(t){let e;try{e=decodeURIComponent(t)}catch{throw Sl(hr.DATA_URL,"Malformed data URL.")}return $k(e)}function Fk(t,e){switch(t){case hr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Sl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case hr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Sl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kL(e)}catch(i){throw i.message.includes("polyfill")?i:Sl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class jk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sl(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=OL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function xL(t){const e=new jk(t);return e.base64?Fk(hr.BASE64,e.rest):bL(e.rest)}function CL(t){return new jk(t).contentType}function OL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){let r=0,i="";M1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(M1(this.data_)){const r=this.data_,i=TL(r,e,n);return i===null?null:new wi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new wi(r,!0)}}static getBlob(...e){if(Sv()){const n=e.map(r=>r instanceof wi?r.data_:r);return new wi(EL.apply(null,n))}else{const n=e.map(o=>_v(o)?IL(hr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new wi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){let e;try{e=JSON.parse(t)}catch{return null}return fL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e){return e}class nn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||PL}}let Bc=null;function NL(t){return!_v(t)||t.length<2?t:zk(t)}function Bk(){if(Bc)return Bc;const t=[];t.push(new nn("bucket")),t.push(new nn("generation")),t.push(new nn("metageneration")),t.push(new nn("name","fullPath",!0));function e(s,o){return NL(o)}const n=new nn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new nn("size");return i.xform=r,t.push(i),t.push(new nn("timeCreated")),t.push(new nn("updated")),t.push(new nn("md5Hash",null,!0)),t.push(new nn("cacheControl",null,!0)),t.push(new nn("contentDisposition",null,!0)),t.push(new nn("contentEncoding",null,!0)),t.push(new nn("contentLanguage",null,!0)),t.push(new nn("contentType",null,!0)),t.push(new nn("metadata","customMetadata",!0)),Bc=t,Bc}function AL(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new kn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ML(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return AL(r,t),r}function Wk(t,e,n){const r=Vk(e);return r===null?null:ML(t,r,n)}function LL(t,e,n,r){const i=Vk(e);if(i===null||!_v(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(f=>{const y=t.bucket,_=t.fullPath,S="/b/"+o(y)+"/o/"+o(_),b=Ev(S,n,r),R=Uk({alt:"media",token:f});return b+R})[0]}function UL(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Hk{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){if(!t)throw wv()}function $L(t,e){function n(r,i){const s=Wk(t,i,e);return Yk(s!==null),s}return n}function FL(t,e){function n(r,i){const s=Wk(t,i,e);return Yk(s!==null),LL(s,i,t.host,t._protocol)}return n}function Gk(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=JM():i=XM():n.getStatus()===402?i=QM(t.bucket):n.getStatus()===403?i=ZM(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function jL(t){const e=Gk(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=KM(t.path)),s.serverResponse=i.serverResponse,s}return n}function VL(t,e,n){const r=e.fullServerUrl(),i=Ev(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,u=new Hk(i,s,FL(t,n),o);return u.errorHandler=jL(e),u}function zL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function BL(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=zL(null,e)),r}function WL(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let x="";for(let A=0;A<2;A++)x=x+Math.random().toString().slice(2);return x}const h=u();o["Content-Type"]="multipart/related; boundary="+h;const f=BL(e,r,i),y=UL(f,n),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,S=`\r
--`+h+"--",b=wi.getBlob(_,r,S);if(b===null)throw sL();const R={name:f.fullPath},D=Ev(s,t.host,t._protocol),$="POST",I=t.maxUploadRetryTime,T=new Hk(D,$,$L(t,n),I);return T.urlParams=R,T.headers=o,T.body=b.uploadData(),T.errorHandler=Gk(e),T}class HL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Xa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class YL extends HL{initXhr(){this.xhr_.responseType="text"}}function qk(){return new YL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this._service=e,n instanceof kn?this._location=n:this._location=kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new js(e,n)}get root(){const e=new kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zk(this._location.path)}get storage(){return this._service}get parent(){const e=DL(this._location.path);if(e===null)return null;const n=new kn(this._location.bucket,e);return new js(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lL(e)}}function GL(t,e,n){t._throwIfRoot("uploadBytes");const r=WL(t.storage,t._location,Bk(),new wi(e,!0),n);return t.storage.makeRequestWithTokens(r,qk).then(i=>({metadata:i,ref:t}))}function qL(t){t._throwIfRoot("getDownloadURL");const e=VL(t.storage,t._location,Bk());return t.storage.makeRequestWithTokens(e,qk).then(n=>{if(n===null)throw oL();return n})}function KL(t,e){const n=RL(t._location.path,e),r=new kn(t._location.bucket,n);return new js(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){return/^[A-Za-z]+:\/\//.test(t)}function XL(t,e){return new js(t,e)}function Kk(t,e){if(t instanceof Tv){const n=t;if(n._bucket==null)throw iL();const r=new js(n,n._bucket);return e!=null?Kk(r,e):r}else return e!==void 0?KL(t,e):t}function JL(t,e){if(e&&QL(e)){if(t instanceof Tv)return XL(t,e);throw Ag("To use ref(service, url), the first argument must be a Storage instance.")}else return Kk(t,e)}function U1(t,e){const n=e==null?void 0:e[Mk];return n==null?null:kn.makeFromBucketSpec(n,t)}function ZL(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Ck(i,t.app.options.projectId))}class Tv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Ak,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GM,this._maxUploadRetryTime=qM,this._requests=new Set,i!=null?this._bucket=kn.makeFromBucketSpec(i,this._host):this._bucket=U1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kn.makeFromBucketSpec(this._url,e):this._bucket=U1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new js(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new uL(Lk());{const o=_L(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const $1="@firebase/storage",F1="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="storage";function Mg(t,e,n){return t=Ze(t),GL(t,e,n)}function th(t){return t=Ze(t),qL(t)}function kv(t,e){return t=Ze(t),JL(t,e)}function eU(t=vv(),e){t=Ze(t);const r=Qh(t,Qk).getImmediate({identifier:e}),i=bk("storage");return i&&tU(r,...i),r}function tU(t,e,n,r={}){ZL(t,e,n,r)}function nU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Tv(n,r,i,e,ha)}function rU(){Fs(new Hi(Qk,nU,"PUBLIC").setMultipleInstances(!0)),mr($1,F1,""),mr($1,F1,"esm2017")}rU();function Iv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Xk(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iU=Xk,Jk=new vu("auth","Firebase",Xk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new gv("@firebase/auth");function pd(t,...e){j1.logLevel<=Oe.ERROR&&j1.error(`Auth (${ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,...e){throw bv(t,...e)}function gr(t,...e){return bv(t,...e)}function sU(t,e,n){const r=Object.assign(Object.assign({},iU()),{[e]:n});return new vu("auth","Firebase",r).create(e,{appName:t.name})}function bv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Jk.create(t,...e)}function ce(t,e,...n){if(!t)throw bv(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pd(e),new Error(e)}function Xr(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Map;function jr(t){Xr(t instanceof Function,"Expected a class definition");let e=V1.get(t);return e?(Xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V1.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e){const n=Qh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zd(s,e??{}))return i;tr(i,"already-initialized")}return n.initialize({options:e})}function aU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lU(){return z1()==="http:"||z1()==="https:"}function z1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lU()||DA()||"connection"in navigator)?navigator.onLine:!0}function cU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xr(n>e,"Short delay should be less than long delay!"),this.isMobile=CA()||RA()}get(){return uU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e){Xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=new _u(3e4,6e4);function Su(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fa(t,e,n,r,i={}){return eI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=wu(Object.assign({key:t.config.apiKey},o)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Zk.fetch()(tI(t,t.config.apiHost,n,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},s))})}async function eI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dU),e);try{const i=new fU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Wc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(t,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw Wc(t,"email-already-in-use",o);if(h==="USER_DISABLED")throw Wc(t,"user-disabled",o);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw sU(t,y,f);tr(t,y)}}catch(i){if(i instanceof Er)throw i;tr(t,"internal-error",{message:String(i)})}}async function Eu(t,e,n,r,i={}){const s=await fa(t,e,n,r,i);return"mfaPendingCredential"in s&&tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function tI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xv(t.config,i):`${t.config.apiScheme}://${i}`}class fU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),hU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e){return fa(t,"POST","/v1/accounts:delete",e)}async function mU(t,e){return fa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gU(t,e=!1){const n=Ze(t),r=await n.getIdToken(e),i=Cv(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:El(dm(i.auth_time)),issuedAtTime:El(dm(i.iat)),expirationTime:El(dm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function dm(t){return Number(t)*1e3}function Cv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pd("JWT malformed, contained fewer than 3 sections"),null;try{const i=kk(n);return i?JSON.parse(i):(pd("Failed to decode base64 JWT payload"),null)}catch(i){return pd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yU(t){const e=Cv(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Er&&vU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ko(t,mU(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?EU(s.providerUserInfo):[],u=SU(t.providerData,o),h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),y=h?f:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new nI(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function _U(t){const e=Ze(t);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EU(t){return t.map(e=>{var{providerId:n}=e,r=Iv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e){const n=await eI(t,{},async()=>{const r=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tI(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Zk.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await TU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ql;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ql,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Os{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Iv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gU(this,e)}reload(){return _U(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ko(this,pU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,h,f,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,S=(i=n.email)!==null&&i!==void 0?i:void 0,b=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,R=(o=n.photoURL)!==null&&o!==void 0?o:void 0,D=(u=n.tenantId)!==null&&u!==void 0?u:void 0,$=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,T=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:x,emailVerified:A,isAnonymous:j,providerData:Y,stsTokenManager:K}=n;ce(x&&K,e,"internal-error");const L=Ql.fromJSON(this.name,K);ce(typeof x=="string",e,"internal-error"),pi(_,e.name),pi(S,e.name),ce(typeof A=="boolean",e,"internal-error"),ce(typeof j=="boolean",e,"internal-error"),pi(b,e.name),pi(R,e.name),pi(D,e.name),pi($,e.name),pi(I,e.name),pi(T,e.name);const De=new Os({uid:x,auth:e,email:S,emailVerified:A,displayName:_,isAnonymous:j,photoURL:R,phoneNumber:b,tenantId:D,stsTokenManager:L,createdAt:I,lastLoginAt:T});return Y&&Array.isArray(Y)&&(De.providerData=Y.map(me=>Object.assign({},me))),$&&(De._redirectEventId=$),De}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ql;i.updateFromServerResponse(n);const s=new Os({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nh(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rI.type="NONE";const B1=rI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t,e,n){return`firebase:${t}:${e}:${n}`}class Mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=md(this.userKey,i.apiKey,s),this.fullPersistenceKey=md("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Os._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mo(jr(B1),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||jr(B1);const o=md(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const y=await f._get(o);if(y){const _=Os._fromJSON(e,y);f!==s&&(u=_),s=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new Mo(s,e,r):(s=h[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new Mo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lI(e))return"Blackberry";if(uI(e))return"Webos";if(Ov(e))return"Safari";if((e.includes("chrome/")||sI(e))&&!e.includes("edge/"))return"Chrome";if(aI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iI(t=Qt()){return/firefox\//i.test(t)}function Ov(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sI(t=Qt()){return/crios\//i.test(t)}function oI(t=Qt()){return/iemobile/i.test(t)}function aI(t=Qt()){return/android/i.test(t)}function lI(t=Qt()){return/blackberry/i.test(t)}function uI(t=Qt()){return/webos/i.test(t)}function Xh(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kU(t=Qt()){var e;return Xh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IU(){return PA()&&document.documentMode===10}function cI(t=Qt()){return Xh(t)||aI(t)||uI(t)||lI(t)||/windows phone/i.test(t)||oI(t)}function bU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e=[]){let n;switch(t){case"Browser":n=W1(Qt());break;case"Worker":n=`${W1(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const h=e(s);o(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H1(this),this.idTokenSubscription=new H1(this),this.beforeStateQueue=new xU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ze(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Tu(t){return Ze(t)}class H1{constructor(e){this.auth=e,this.observer=null,this.addObserver=FA(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function OU(t,e,n){const r=Tu(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=hI(e),{host:o,port:u}=DU(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||RU()}function hI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DU(t){const e=hI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Y1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Y1(o)}}}function Y1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function PU(t,e){return fa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e){return Eu(t,"POST","/v1/accounts:signInWithPassword",Su(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",Su(t,e))}async function MU(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",Su(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Dv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return NU(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return AU(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return PU(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return MU(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e){return Eu(t,"POST","/v1/accounts:signInWithIdp",Su(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="http://localhost";class Vs extends Dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Iv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Vs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:LU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $U(t){const e=ol(al(t)).link,n=e?ol(al(e)).deep_link_id:null,r=ol(al(t)).deep_link_id;return(r?ol(al(r)).link:null)||r||n||e||t}class Rv{constructor(e){var n,r,i,s,o,u;const h=ol(al(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,_=UU((i=h.mode)!==null&&i!==void 0?i:null);ce(f&&y&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=y,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=h.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=$U(e);try{return new Rv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,n){return Xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Rv.parseLink(n);return ce(r,"argument-error"),Xl._fromEmailAndCode(e,r.code,r.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends fI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends ku{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends ku{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.GITHUB_SIGN_IN_METHOD="github.com";Ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends ku{constructor(){super("twitter.com")}static credential(e,n){return Vs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FU(t,e){return Eu(t,"POST","/v1/accounts:signUp",Su(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Os._fromIdTokenResponse(e,r,i),o=G1(r);return new zs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=G1(r);return new zs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function G1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Er{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rh(e,n,r,i)}}function pI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(t,s,e,r):s})}async function jU(t,e,n=!1){const r=await Ko(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VU(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ko(t,pI(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=Cv(s.idToken);ce(o,r,"internal-error");const{sub:u}=o;return ce(t.uid===u,r,"user-mismatch"),zs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(t,e,n=!1){const r="signIn",i=await pI(t,r,e),s=await zs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function zU(t,e){return mI(Tu(t),e)}async function BU(t,e,n){const r=Tu(t),i=await FU(r,{returnSecureToken:!0,email:e,password:n}),s=await zs._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function WU(t,e,n){return zU(Ze(t),pa.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(t,e){return fa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ze(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ko(r,HU(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function YU(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function GU(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function qU(t,e,n,r){return Ze(t).onAuthStateChanged(e,n,r)}function KU(t){return Ze(t).signOut()}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(){const t=Qt();return Ov(t)||Xh(t)}const XU=1e3,JU=10;class vI extends yI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=QU()&&bU(),this.fallbackToPolling=cI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,h)=>{this.notifyListeners(o,h)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);IU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vI.type="LOCAL";const ZU=vI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends yI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wI.type="SESSION";const _I=wI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async f=>f(n.origin,s)),h=await e$(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,h)=>{const f=Pv("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(_){const S=_;if(S.data.eventId===f)switch(S.data.status){case"ack":clearTimeout(y),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(S.data.response);break;default:clearTimeout(y),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function n$(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function r$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function s$(){return SI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebaseLocalStorageDb",o$=1,sh="firebaseLocalStorage",TI="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(t,e){return t.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function a$(){const t=indexedDB.deleteDatabase(EI);return new Iu(t).toPromise()}function Ug(){const t=indexedDB.open(EI,o$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sh,{keyPath:TI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sh)?e(r):(r.close(),await a$(),e(await Ug()))})})}async function q1(t,e,n){const r=Zh(t,!0).put({[TI]:e,value:n});return new Iu(r).toPromise()}async function l$(t,e){const n=Zh(t,!1).get(e),r=await new Iu(n).toPromise();return r===void 0?null:r.value}function K1(t,e){const n=Zh(t,!0).delete(e);return new Iu(n).toPromise()}const u$=800,c$=3;class kI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ug(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>c$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(s$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await r$(),!this.activeServiceWorker)return;this.sender=new t$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ug();return await q1(e,ih,"1"),await K1(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>l$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zh(i,!1).getAll();return new Iu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kI.type="LOCAL";const d$=kI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function f$(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",h$().appendChild(r)})}function p$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t,e){return e?jr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g$(t){return mI(t.auth,new Nv(t),t.bypassAuthState)}function y$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),VU(n,new Nv(t),t.bypassAuthState)}async function v$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),jU(n,new Nv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g$;case"linkViaPopup":case"linkViaRedirect":return v$;case"reauthViaPopup":case"reauthViaRedirect":return y$;default:tr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=new _u(2e3,1e4);class bo extends II{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=Pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,w$.get())};e()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$="pendingRedirect",gd=new Map;class S$ extends II{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gd.get(this.auth._key());if(!e){try{const r=await E$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E$(t,e){const n=I$(e),r=k$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function T$(t,e){gd.set(t._key(),e)}function k$(t){return jr(t._redirectPersistence)}function I$(t){return md(_$,t.config.apiKey,t.name)}async function b$(t,e,n=!1){const r=Tu(t),i=m$(r,e),o=await new S$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=10*60*1e3;class C${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!O$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x$&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q1(e))}saveEventToCache(e){this.cachedEventUids.add(Q1(e)),this.lastProcessedEventTime=Date.now()}}function Q1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function O$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t,e={}){return fa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P$=/^https?/;async function N$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D$(t);for(const n of e)try{if(A$(n))return}catch{}tr(t,"unauthorized-domain")}function A$(t){const e=Lg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P$.test(n))return!1;if(R$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=new _u(3e4,6e4);function X1(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function L$(t){return new Promise((e,n)=>{var r,i,s;function o(){X1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X1(),n(gr(t,"network-request-failed"))},timeout:M$.get()})}if(!((i=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yr().gapi)===null||s===void 0)&&s.load)o();else{const u=p$("iframefcb");return yr()[u]=()=>{gapi.load?o():n(gr(t,"network-request-failed"))},f$(`https://apis.google.com/js/api.js?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw yd=null,e})}let yd=null;function U$(t){return yd=yd||L$(t),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=new _u(5e3,15e3),F$="__/auth/iframe",j$="emulator/auth/iframe",V$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B$(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xv(e,j$):`https://${t.config.authDomain}/${F$}`,r={apiKey:e.apiKey,appName:t.name,v:ha},i=z$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wu(r).slice(1)}`}async function W$(t){const e=await U$(t),n=yr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:B$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=gr(t,"network-request-failed"),u=yr().setTimeout(()=>{s(o)},$$.get());function h(){yr().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y$=500,G$=600,q$="_blank",K$="http://localhost";class J1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q$(t,e,n,r=Y$,i=G$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},H$),{width:r.toString(),height:i.toString(),top:s,left:o}),f=Qt().toLowerCase();n&&(u=sI(f)?q$:n),iI(f)&&(e=e||K$,h.scrollbars="yes");const y=Object.entries(h).reduce((S,[b,R])=>`${S}${b}=${R},`,"");if(kU(f)&&u!=="_self")return X$(e||"",u),new J1(null);const _=window.open(e||"",u,y);ce(_,t,"popup-blocked");try{_.focus()}catch{}return new J1(_)}function X$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="__/auth/handler",Z$="emulator/auth/handler";function Z1(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ha,eventId:i};if(e instanceof fI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$A(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(s||{}))o[h]=f}if(e instanceof ku){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];return`${eF(t)}?${wu(u).slice(1)}`}function eF({config:t}){return t.emulator?xv(t,Z$):`https://${t.authDomain}/${J$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class tF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_I,this._completeRedirectFn=b$,this._overrideRedirectResult=T$}async _openPopup(e,n,r,i){var s;Xr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Z1(e,n,r,Lg(),i);return Q$(e,o,Pv())}async _openRedirect(e,n,r,i){return await this._originValidation(e),n$(Z1(e,n,r,Lg(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await W$(e),r=new C$(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[hm];o!==void 0&&n(!!o),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cI()||Ov()||Xh()}}const nF=tF;var eS="@firebase/auth",tS="0.21.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function sF(t){Fs(new Hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((u,h)=>{ce(s&&!s.includes(":"),"invalid-api-key",{appName:u.name}),ce(!(o!=null&&o.includes(":")),"argument-error",{appName:u.name});const f={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dI(t)},y=new CU(u,h,f);return aU(y,n),y})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fs(new Hi("auth-internal",e=>{const n=Tu(e.getProvider("auth").getImmediate());return(r=>new rF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(eS,tS,iF(t)),mr(eS,tS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=5*60,aF=xk("authIdTokenMaxAge")||oF;let nS=null;const lF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aF)return;const i=n==null?void 0:n.token;nS!==i&&(nS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uF(t=vv()){const e=Qh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oU(t,{popupRedirectResolver:nF,persistence:[d$,ZU,_I]}),r=xk("authTokenSyncURL");if(r){const s=lF(r);GU(n,s,()=>s(n.currentUser)),YU(n,o=>s(o))}const i=Ik("auth");return i&&OU(n,`http://${i}`),n}sF("Browser");var cF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne,Av=Av||{},fe=cF||self;function oh(){}function ef(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function bu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function dF(t){return Object.prototype.hasOwnProperty.call(t,fm)&&t[fm]||(t[fm]=++hF)}var fm="closure_uid_"+(1e9*Math.random()>>>0),hF=0;function fF(t,e,n){return t.call.apply(t.bind,arguments)}function pF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=fF:Ht=pF,Ht.apply(null,arguments)}function Hc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ut(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function Ji(){this.s=this.s,this.o=this.o}var mF=0;Ji.prototype.s=!1;Ji.prototype.na=function(){!this.s&&(this.s=!0,this.M(),mF!=0)&&dF(this)};Ji.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Mv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function rS(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ef(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Yt.prototype.h=function(){this.defaultPrevented=!0};var gF=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{fe.addEventListener("test",oh,e),fe.removeEventListener("test",oh,e)}catch{}return t}();function ah(t){return/^[\s\xa0]*$/.test(t)}var iS=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function pm(t,e){return t<e?-1:t>e?1:0}function tf(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function cr(t){return tf().indexOf(t)!=-1}function Lv(t){return Lv[" "](t),t}Lv[" "]=oh;function yF(t){var e=_F;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var vF=cr("Opera"),Qo=cr("Trident")||cr("MSIE"),CI=cr("Edge"),$g=CI||Qo,OI=cr("Gecko")&&!(tf().toLowerCase().indexOf("webkit")!=-1&&!cr("Edge"))&&!(cr("Trident")||cr("MSIE"))&&!cr("Edge"),wF=tf().toLowerCase().indexOf("webkit")!=-1&&!cr("Edge");function DI(){var t=fe.document;return t?t.documentMode:void 0}var lh;e:{var mm="",gm=function(){var t=tf();if(OI)return/rv:([^\);]+)(\)|;)/.exec(t);if(CI)return/Edge\/([\d\.]+)/.exec(t);if(Qo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(wF)return/WebKit\/(\S+)/.exec(t);if(vF)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(gm&&(mm=gm?gm[1]:""),Qo){var ym=DI();if(ym!=null&&ym>parseFloat(mm)){lh=String(ym);break e}}lh=mm}var _F={};function SF(){return yF(function(){let t=0;const e=iS(String(lh)).split("."),n=iS("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=pm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||pm(i[2].length==0,s[2].length==0)||pm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Fg;if(fe.document&&Qo){var sS=DI();Fg=sS||parseInt(lh,10)||void 0}else Fg=void 0;var EF=Fg;function Jl(t,e){if(Yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(OI){e:{try{Lv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:TF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Jl.X.h.call(this)}}Ut(Jl,Yt);var TF={2:"touch",3:"pen",4:"mouse"};Jl.prototype.h=function(){Jl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xu="closure_listenable_"+(1e6*Math.random()|0),kF=0;function IF(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++kF,this.ba=this.ea=!1}function nf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Uv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function RI(t){const e={};for(const n in t)e[n]=t[n];return e}const oS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<oS.length;s++)n=oS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rf(t){this.src=t,this.g={},this.h=0}rf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Vg(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new IF(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function jg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=xI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(nf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Vg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var $v="closure_lm_"+(1e6*Math.random()|0),vm={};function NI(t,e,n,r,i){if(r&&r.once)return MI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)NI(t,e[s],n,r,i);return null}return n=Vv(n),t&&t[xu]?t.N(e,n,bu(r)?!!r.capture:!!r,i):AI(t,e,n,!1,r,i)}function AI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=bu(i)?!!i.capture:!!i,u=jv(t);if(u||(t[$v]=u=new rf(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=bF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gF||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(UI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function bF(){function t(n){return e.call(t.src,t.listener,n)}const e=xF;return t}function MI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)MI(t,e[s],n,r,i);return null}return n=Vv(n),t&&t[xu]?t.O(e,n,bu(r)?!!r.capture:!!r,i):AI(t,e,n,!0,r,i)}function LI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)LI(t,e[s],n,r,i);else r=bu(r)?!!r.capture:!!r,n=Vv(n),t&&t[xu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Vg(s,n,r,i),-1<n&&(nf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=jv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Vg(e,n,r,i)),(n=-1<t?e[t]:null)&&Fv(n))}function Fv(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[xu])jg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(UI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=jv(e))?(jg(n,t),n.h==0&&(n.src=null,e[$v]=null)):nf(t)}}}function UI(t){return t in vm?vm[t]:vm[t]="on"+t}function xF(t,e){if(t.ba)t=!0;else{e=new Jl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Fv(t),t=n.call(r,e)}return t}function jv(t){return t=t[$v],t instanceof rf?t:null}var wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vv(t){return typeof t=="function"?t:(t[wm]||(t[wm]=function(e){return t.handleEvent(e)}),t[wm])}function bt(){Ji.call(this),this.i=new rf(this),this.P=this,this.I=null}Ut(bt,Ji);bt.prototype[xu]=!0;bt.prototype.removeEventListener=function(t,e,n,r){LI(this,t,e,n,r)};function Mt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Yt(e,t);else if(e instanceof Yt)e.target=e.target||t;else{var i=e;e=new Yt(r,t),PI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Yc(o,r,!0,e)&&i}if(o=e.g=t,i=Yc(o,r,!0,e)&&i,i=Yc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Yc(o,r,!1,e)&&i}bt.prototype.M=function(){if(bt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nf(n[r]);delete t.g[e],t.h--}}this.I=null};bt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Yc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var u=o.listener,h=o.ha||o.src;o.ea&&jg(t.i,o),i=u.call(h,r)!==!1&&i}}return i&&!r.defaultPrevented}var zv=fe.JSON.stringify;function CF(){var t=jI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class OF{constructor(){this.h=this.g=null}add(e,n){const r=$I.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var $I=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new DF,t=>t.reset());class DF{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function RF(t){fe.setTimeout(()=>{throw t},0)}function FI(t,e){zg||PF(),Bg||(zg(),Bg=!0),jI.add(t,e)}var zg;function PF(){var t=fe.Promise.resolve(void 0);zg=function(){t.then(NF)}}var Bg=!1,jI=new OF;function NF(){for(var t;t=CF();){try{t.h.call(t.g)}catch(n){RF(n)}var e=$I;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bg=!1}function sf(t,e){bt.call(this),this.h=t||1,this.g=e||fe,this.j=Ht(this.lb,this),this.l=Date.now()}Ut(sf,bt);ne=sf.prototype;ne.ca=!1;ne.R=null;ne.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mt(this,"tick"),this.ca&&(Bv(this),this.start()))}};ne.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bv(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ne.M=function(){sf.X.M.call(this),Bv(this),delete this.g};function Wv(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function VI(t){t.g=Wv(()=>{t.g=null,t.i&&(t.i=!1,VI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class AF extends Ji{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VI(this)}M(){super.M(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zl(t){Ji.call(this),this.h=t,this.g={}}Ut(Zl,Ji);var aS=[];function zI(t,e,n,r){Array.isArray(n)||(n&&(aS[0]=n.toString()),n=aS);for(var i=0;i<n.length;i++){var s=NI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function BI(t){Uv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fv(e)},t),t.g={}}Zl.prototype.M=function(){Zl.X.M.call(this),BI(this)};Zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function of(){this.g=!0}of.prototype.Aa=function(){this.g=!1};function MF(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),h=0;h<u.length;h++){var f=u[h].split("=");if(1<f.length){var y=f[0];f=f[1];var _=y.split("_");o=2<=_.length&&_[1]=="type"?o+(y+"="+f+"&"):o+(y+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function LF(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function xo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$F(t,n)+(r?" "+r:"")})}function UF(t,e){t.info(function(){return"TIMEOUT: "+e})}of.prototype.info=function(){};function $F(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return zv(n)}catch{return e}}var qs={},lS=null;function af(){return lS=lS||new bt}qs.Pa="serverreachability";function WI(t){Yt.call(this,qs.Pa,t)}Ut(WI,Yt);function eu(t){const e=af();Mt(e,new WI(e))}qs.STAT_EVENT="statevent";function HI(t,e){Yt.call(this,qs.STAT_EVENT,t),this.stat=e}Ut(HI,Yt);function sn(t){const e=af();Mt(e,new HI(e,t))}qs.Qa="timingevent";function YI(t,e){Yt.call(this,qs.Qa,t),this.size=e}Ut(YI,Yt);function Cu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var lf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},GI={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Hv(){}Hv.prototype.h=null;function uS(t){return t.h||(t.h=t.i())}function qI(){}var Ou={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Yv(){Yt.call(this,"d")}Ut(Yv,Yt);function Gv(){Yt.call(this,"c")}Ut(Gv,Yt);var Wg;function uf(){}Ut(uf,Hv);uf.prototype.g=function(){return new XMLHttpRequest};uf.prototype.i=function(){return{}};Wg=new uf;function Du(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Zl(this),this.O=FF,t=$g?125:void 0,this.T=new sf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new KI}function KI(){this.i=null,this.g="",this.h=!1}var FF=45e3,Hg={},uh={};ne=Du.prototype;ne.setTimeout=function(t){this.O=t};function Yg(t,e,n){t.K=1,t.v=df(Jr(e)),t.s=n,t.P=!0,QI(t,null)}function QI(t,e){t.F=Date.now(),Ru(t),t.A=Jr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),ib(n.i,"t",r),t.C=0,n=t.l.H,t.h=new KI,t.g=Ib(t.l,n?e:null,!t.s),0<t.N&&(t.L=new AF(Ht(t.La,t,t.g),t.N)),zI(t.S,t.g,"readystatechange",t.ib),e=t.H?RI(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),eu(),MF(t.j,t.u,t.A,t.m,t.U,t.s)}ne.ib=function(t){t=t.target;const e=this.L;e&&Vr(t)==3?e.l():this.La(t)};ne.La=function(t){try{if(t==this.g)e:{const y=Vr(this.g);var e=this.g.Ea();const _=this.g.aa();if(!(3>y)&&(y!=3||$g||this.g&&(this.h.h||this.g.fa()||fS(this.g)))){this.I||y!=4||e==7||(e==8||0>=_?eu(3):eu(2)),cf(this);var n=this.g.aa();this.Y=n;t:if(XI(this)){var r=fS(this.g);t="";var i=r.length,s=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),Tl(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,LF(this.j,this.u,this.A,this.m,this.U,y,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ah(u)){var f=u;break t}}f=null}if(n=f)xo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gg(this,n);else{this.i=!1,this.o=3,sn(12),Es(this),Tl(this);break e}}this.P?(JI(this,y,o),$g&&this.i&&y==3&&(zI(this.S,this.T,"tick",this.hb),this.T.start())):(xo(this.j,this.m,o,null),Gg(this,o)),y==4&&Es(this),this.i&&!this.I&&(y==4?Sb(this.l,this):(this.i=!1,Ru(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),Es(this),Tl(this)}}}catch{}finally{}};function XI(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function JI(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=jF(t,n),i==uh){e==4&&(t.o=4,sn(14),r=!1),xo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Hg){t.o=4,sn(15),xo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else xo(t.j,t.m,i,null),Gg(t,i);XI(t)&&i!=uh&&i!=Hg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),e0(e),e.K=!0,sn(11))):(xo(t.j,t.m,n,"[Invalid Chunked Response]"),Es(t),Tl(t))}ne.hb=function(){if(this.g){var t=Vr(this.g),e=this.g.fa();this.C<e.length&&(cf(this),JI(this,t,e),this.i&&t!=4&&Ru(this))}};function jF(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?uh:(n=Number(e.substring(n,r)),isNaN(n)?Hg:(r+=1,r+n>e.length?uh:(e=e.substr(r,n),t.C=r+n,e)))}ne.cancel=function(){this.I=!0,Es(this)};function Ru(t){t.V=Date.now()+t.O,ZI(t,t.O)}function ZI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Cu(Ht(t.gb,t),e)}function cf(t){t.B&&(fe.clearTimeout(t.B),t.B=null)}ne.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(UF(this.j,this.A),this.K!=2&&(eu(),sn(17)),Es(this),this.o=2,Tl(this)):ZI(this,this.V-t)};function Tl(t){t.l.G==0||t.I||Sb(t.l,t)}function Es(t){cf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Bv(t.T),BI(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Gg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||qg(n.h,t))){if(!t.J&&qg(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)hh(n),pf(n);else break e;Zv(n),sn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Cu(Ht(n.cb,n),6e3));if(1>=ab(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ts(n,11)}else if((t.J||n.g==t)&&hh(n),!ah(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let f=i[e];if(n.T=f[0],f=f[1],n.G==2)if(f[0]=="c"){n.I=f[1],n.ka=f[2];const y=f[3];y!=null&&(n.ma=y,n.j.info("VER="+n.ma));const _=f[4];_!=null&&(n.Ca=_,n.j.info("SVER="+n.Ca));const S=f[5];S!=null&&typeof S=="number"&&0<S&&(r=1.5*S,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const b=t.g;if(b){const R=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var s=r.h;s.g||R.indexOf("spdy")==-1&&R.indexOf("quic")==-1&&R.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(qv(s,s.h),s.h=null))}if(r.D){const D=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.za=D,Je(r.F,r.D,D))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=kb(r,r.H?r.ka:null,r.V),o.J){lb(r.h,o);var u=o,h=r.J;h&&u.setTimeout(h),u.B&&(cf(u),Ru(u)),r.g=o}else wb(r);0<n.i.length&&mf(n)}else f[0]!="stop"&&f[0]!="close"||Ts(n,7);else n.G==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Ts(n,7):Jv(n):f[0]!="noop"&&n.l&&n.l.wa(f),n.A=0)}}eu(4)}catch{}}function VF(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ef(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function zF(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ef(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function eb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ef(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=zF(t),r=VF(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var tb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ds(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ds){this.h=e!==void 0?e:t.h,ch(this,t.j),this.s=t.s,this.g=t.g,dh(this,t.m),this.l=t.l,e=t.i;var n=new tu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),cS(this,n),this.o=t.o}else t&&(n=String(t).match(tb))?(this.h=!!e,ch(this,n[1]||"",!0),this.s=ll(n[2]||""),this.g=ll(n[3]||"",!0),dh(this,n[4]),this.l=ll(n[5]||"",!0),cS(this,n[6]||"",!0),this.o=ll(n[7]||"")):(this.h=!!e,this.i=new tu(null,this.h))}Ds.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ul(e,dS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ul(e,dS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ul(n,n.charAt(0)=="/"?YF:HF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ul(n,qF)),t.join("")};function Jr(t){return new Ds(t)}function ch(t,e,n){t.j=n?ll(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function dh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function cS(t,e,n){e instanceof tu?(t.i=e,KF(t.i,t.h)):(n||(e=ul(e,GF)),t.i=new tu(e,t.h))}function Je(t,e,n){t.i.set(e,n)}function df(t){return Je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ll(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ul(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,WF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function WF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var dS=/[#\/\?@]/g,HF=/[#\?:]/g,YF=/[#\?]/g,GF=/[#\?@]/g,qF=/#/g;function tu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Zi(t){t.g||(t.g=new Map,t.h=0,t.i&&BF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ne=tu.prototype;ne.add=function(t,e){Zi(this),this.i=null,t=ma(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nb(t,e){Zi(t),e=ma(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rb(t,e){return Zi(t),e=ma(t,e),t.g.has(e)}ne.forEach=function(t,e){Zi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ne.oa=function(){Zi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ne.W=function(t){Zi(this);let e=[];if(typeof t=="string")rb(this,t)&&(e=e.concat(this.g.get(ma(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ne.set=function(t,e){return Zi(this),this.i=null,t=ma(this,t),rb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ne.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function ib(t,e,n){nb(t,e),0<n.length&&(t.i=null,t.g.set(ma(t,e),Mv(n)),t.h+=n.length)}ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ma(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function KF(t,e){e&&!t.j&&(Zi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nb(this,r),ib(this,i,n))},t)),t.j=e}var QF=class{constructor(e,n){this.h=e,this.g=n}};function sb(t){this.l=t||XF,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ga&&fe.g.Ga()&&fe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XF=10;function ob(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ab(t){return t.h?1:t.g?t.g.size:0}function qg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function qv(t,e){t.g?t.g.add(e):t.h=e}function lb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}sb.prototype.cancel=function(){if(this.i=ub(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ub(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Mv(t.i)}function Kv(){}Kv.prototype.stringify=function(t){return fe.JSON.stringify(t,void 0)};Kv.prototype.parse=function(t){return fe.JSON.parse(t,void 0)};function JF(){this.g=new Kv}function ZF(t,e,n){const r=n||"";try{eb(t,function(i,s){let o=i;bu(i)&&(o=zv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function e2(t,e){const n=new of;if(fe.Image){const r=new Image;r.onload=Hc(Gc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hc(Gc,n,r,"TestLoadImage: error",!1,e),r.onabort=Hc(Gc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hc(Gc,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Gc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pu(t){this.l=t.ac||null,this.j=t.jb||!1}Ut(Pu,Hv);Pu.prototype.g=function(){return new hf(this.l,this.j)};Pu.prototype.i=function(t){return function(){return t}}({});function hf(t,e){bt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Qv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ut(hf,bt);var Qv=0;ne=hf.prototype;ne.open=function(t,e){if(this.readyState!=Qv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nu(this)};ne.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||fe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nu(this)),this.readyState=Qv};ne.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nu(this)),this.g&&(this.readyState=3,nu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cb(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function cb(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ne.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nu(this):nu(this),this.readyState==3&&cb(this)}};ne.Va=function(t){this.g&&(this.response=this.responseText=t,Nu(this))};ne.Ua=function(t){this.g&&(this.response=t,Nu(this))};ne.ga=function(){this.g&&Nu(this)};function Nu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nu(t)}ne.setRequestHeader=function(t,e){this.v.append(t,e)};ne.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ne.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(hf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var t2=fe.JSON.parse;function ot(t){bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=db,this.K=this.L=!1}Ut(ot,bt);var db="",n2=/^https?$/i,r2=["POST","PUT"];ne=ot.prototype;ne.Ka=function(t){this.L=t};ne.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wg.g(),this.C=this.u?uS(this.u):uS(Wg),this.g.onreadystatechange=Ht(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){hS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=fe.FormData&&t instanceof fe.FormData,!(0<=xI(r2,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pb(this),0<this.B&&((this.K=i2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.qa,this)):this.A=Wv(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){hS(this,s)}};function i2(t){return Qo&&SF()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ne.qa=function(){typeof Av<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))};function hS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hb(t),ff(t)}function hb(t){t.D||(t.D=!0,Mt(t,"complete"),Mt(t,"error"))}ne.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mt(this,"complete"),Mt(this,"abort"),ff(this))};ne.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ff(this,!0)),ot.X.M.call(this)};ne.Ha=function(){this.s||(this.F||this.v||this.l?fb(this):this.fb())};ne.fb=function(){fb(this)};function fb(t){if(t.h&&typeof Av<"u"&&(!t.C[1]||Vr(t)!=4||t.aa()!=2)){if(t.v&&Vr(t)==4)Wv(t.Ha,0,t);else if(Mt(t,"readystatechange"),Vr(t)==4){t.h=!1;try{const u=t.aa();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=u===0){var i=String(t.H).match(tb)[1]||null;if(!i&&fe.self&&fe.self.location){var s=fe.self.location.protocol;i=s.substr(0,s.length-1)}r=!n2.test(i?i.toLowerCase():"")}n=r}if(n)Mt(t,"complete"),Mt(t,"success");else{t.m=6;try{var o=2<Vr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",hb(t)}}finally{ff(t)}}}}function ff(t,e){if(t.g){pb(t);const n=t.g,r=t.C[0]?oh:null;t.g=null,t.C=null,e||Mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function pb(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}function Vr(t){return t.g?t.g.readyState:0}ne.aa=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}};ne.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ne.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),t2(e)}};function fS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case db:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ne.Ea=function(){return this.m};ne.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mb(t){let e="";return Uv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Xv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Je(t,e,n))}function Ja(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gb(t){this.Ca=0,this.i=[],this.j=new of,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ja("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ja("baseRetryDelayMs",5e3,t),this.bb=Ja("retryDelaySeedMs",1e4,t),this.$a=Ja("forwardChannelMaxRetries",2,t),this.ta=Ja("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new sb(t&&t.concurrentRequestLimit),this.Fa=new JF,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ne=gb.prototype;ne.ma=8;ne.G=1;function Jv(t){if(yb(t),t.G==3){var e=t.U++,n=Jr(t.F);Je(n,"SID",t.I),Je(n,"RID",e),Je(n,"TYPE","terminate"),Au(t,n),e=new Du(t,t.j,e,void 0),e.K=2,e.v=df(Jr(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon&&(n=fe.navigator.sendBeacon(e.v.toString(),"")),!n&&fe.Image&&(new Image().src=e.v,n=!0),n||(e.g=Ib(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ru(e)}Tb(t)}function pf(t){t.g&&(e0(t),t.g.cancel(),t.g=null)}function yb(t){pf(t),t.u&&(fe.clearTimeout(t.u),t.u=null),hh(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function mf(t){ob(t.h)||t.m||(t.m=!0,FI(t.Ja,t),t.C=0)}function s2(t,e){return ab(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Cu(Ht(t.Ja,t,e),Eb(t,t.C)),t.C++,!0)}ne.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Du(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=RI(s),PI(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vb(this,i,e),n=Jr(this.F),Je(n,"RID",t),Je(n,"CVER",22),this.D&&Je(n,"X-HTTP-Session-Id",this.D),Au(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(mb(s)))+"&"+e:this.o&&Xv(n,this.o,s)),qv(this.h,i),this.Ya&&Je(n,"TYPE","init"),this.O?(Je(n,"$req",e),Je(n,"SID","null"),i.Z=!0,Yg(i,n,null)):Yg(i,n,e),this.G=2}}else this.G==3&&(t?pS(this,t):this.i.length==0||ob(this.h)||pS(this))};function pS(t,e){var n;e?n=e.m:n=t.U++;const r=Jr(t.F);Je(r,"SID",t.I),Je(r,"RID",n),Je(r,"AID",t.T),Au(t,r),t.o&&t.s&&Xv(r,t.o,t.s),n=new Du(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=vb(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),qv(t.h,n),Yg(n,r,e)}function Au(t,e){t.ia&&Uv(t.ia,function(n,r){Je(e,r,n)}),t.l&&eb({},function(n,r){Je(e,r,n)})}function vb(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ht(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let h=0;h<n;h++){let f=i[h].h;const y=i[h].g;if(f-=s,0>f)s=Math.max(0,i[h].h-100),u=!1;else try{ZF(y,o,"req"+f+"_")}catch{r&&r(y)}}if(u){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function wb(t){t.g||t.u||(t.Z=1,FI(t.Ia,t),t.A=0)}function Zv(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Cu(Ht(t.Ia,t),Eb(t,t.A)),t.A++,!0)}ne.Ia=function(){if(this.u=null,_b(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Cu(Ht(this.eb,this),t)}};ne.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,sn(10),pf(this),_b(this))};function e0(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function _b(t){t.g=new Du(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Jr(t.sa);Je(e,"RID","rpc"),Je(e,"SID",t.I),Je(e,"CI",t.L?"0":"1"),Je(e,"AID",t.T),Je(e,"TYPE","xmlhttp"),Au(t,e),t.o&&t.s&&Xv(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=df(Jr(e)),n.s=null,n.P=!0,QI(n,t)}ne.cb=function(){this.v!=null&&(this.v=null,pf(this),Zv(this),sn(19))};function hh(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function Sb(t,e){var n=null;if(t.g==e){hh(t),e0(t),t.g=null;var r=2}else if(qg(t.h,e))n=e.D,lb(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=af(),Mt(r,new YI(r,n)),mf(t)}else wb(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&s2(t,e)||r==2&&Zv(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ts(t,5);break;case 4:Ts(t,10);break;case 3:Ts(t,6);break;default:Ts(t,2)}}}function Eb(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ts(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Ht(t.kb,t);n||(n=new Ds("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||ch(n,"https"),df(n)),e2(n.toString(),r)}else sn(2);t.G=0,t.l&&t.l.va(e),Tb(t),yb(t)}ne.kb=function(t){t?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function Tb(t){if(t.G=0,t.la=[],t.l){const e=ub(t.h);(e.length!=0||t.i.length!=0)&&(rS(t.la,e),rS(t.la,t.i),t.h.i.length=0,Mv(t.i),t.i.length=0),t.l.ua()}}function kb(t,e,n){var r=n instanceof Ds?Jr(n):new Ds(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),dh(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ds(null,void 0);r&&ch(s,r),e&&(s.g=e),i&&dh(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Je(r,n,e),Je(r,"VER",t.ma),Au(t,r),r}function Ib(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new ot(new Pu({jb:!0})):new ot(t.ra),e.Ka(t.H),e}function bb(){}ne=bb.prototype;ne.xa=function(){};ne.wa=function(){};ne.va=function(){};ne.ua=function(){};ne.Ra=function(){};function fh(){if(Qo&&!(10<=Number(EF)))throw Error("Environmental error: no available transport.")}fh.prototype.g=function(t,e){return new Cn(t,e)};function Cn(t,e){bt.call(this),this.g=new gb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!ah(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ah(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ga(this)}Ut(Cn,bt);Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;sn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=kb(t,null,t.V),mf(t)};Cn.prototype.close=function(){Jv(this.g)};Cn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=zv(t),t=n);e.i.push(new QF(e.ab++,t)),e.G==3&&mf(e)};Cn.prototype.M=function(){this.g.l=null,delete this.j,Jv(this.g),delete this.g,Cn.X.M.call(this)};function xb(t){Yv.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ut(xb,Yv);function Cb(){Gv.call(this),this.status=1}Ut(Cb,Gv);function ga(t){this.g=t}Ut(ga,bb);ga.prototype.xa=function(){Mt(this.g,"a")};ga.prototype.wa=function(t){Mt(this.g,new xb(t))};ga.prototype.va=function(t){Mt(this.g,new Cb)};ga.prototype.ua=function(){Mt(this.g,"b")};fh.prototype.createWebChannel=fh.prototype.g;Cn.prototype.send=Cn.prototype.u;Cn.prototype.open=Cn.prototype.m;Cn.prototype.close=Cn.prototype.close;lf.NO_ERROR=0;lf.TIMEOUT=8;lf.HTTP_ERROR=6;GI.COMPLETE="complete";qI.EventType=Ou;Ou.OPEN="a";Ou.CLOSE="b";Ou.ERROR="c";Ou.MESSAGE="d";bt.prototype.listen=bt.prototype.N;ot.prototype.listenOnce=ot.prototype.O;ot.prototype.getLastError=ot.prototype.Oa;ot.prototype.getLastErrorCode=ot.prototype.Ea;ot.prototype.getStatus=ot.prototype.aa;ot.prototype.getResponseJson=ot.prototype.Sa;ot.prototype.getResponseText=ot.prototype.fa;ot.prototype.send=ot.prototype.da;ot.prototype.setWithCredentials=ot.prototype.Ka;var o2=function(){return new fh},a2=function(){return af()},_m=lf,l2=GI,u2=qs,mS={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},c2=Pu,qc=qI,d2=ot;const gS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="9.18.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new gv("@firebase/firestore");function yS(){return Bs.logLevel}function re(t,...e){if(Bs.logLevel<=Oe.DEBUG){const n=e.map(t0);Bs.debug(`Firestore (${ya}): ${t}`,...n)}}function Zr(t,...e){if(Bs.logLevel<=Oe.ERROR){const n=e.map(t0);Bs.error(`Firestore (${ya}): ${t}`,...n)}}function Kg(t,...e){if(Bs.logLevel<=Oe.WARN){const n=e.map(t0);Bs.warn(`Firestore (${ya}): ${t}`,...n)}}function t0(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+t;throw Zr(e),new Error(e)}function ze(t,e){t||de()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class f2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class p2{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new Ob(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Vt(e)}}class m2{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ze(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class g2{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new m2(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v2{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.A=n.token,new y2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=w2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function Xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new ct(0,0))}static max(){return new pe(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ru.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ru?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends ru{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const _2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends ru{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return _2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ee(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ee(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new ee(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(He.fromString(e))}static fromName(e){return new oe(He.fromString(e).popFirst(5))}static empty(){return new oe(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new He(e.slice()))}}function S2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Yi(i,oe.empty(),e)}function E2(t){return new Yi(t.readTime,t.key,-1)}class Yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yi(pe.min(),oe.empty(),-1)}static max(){return new Yi(pe.max(),oe.empty(),-1)}}function T2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==k2)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},h=>r(h))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next(y=>{o[f]=y,++u,u===s&&r(o)},y=>i(y))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Lu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}n0.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,i,s,o,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=h}}class iu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return t==null}function ph(t){return t===0&&1/t==-1/0}function x2(t){return typeof t=="number"&&Number.isInteger(t)&&!ph(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new C2("Invalid base64 string: "+i):i}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const O2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(t){if(ze(!!t),typeof t=="string"){let e=0;const n=O2.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Nb(t){const e=t.mapValue.fields.__previous_value__;return Pb(e)?Nb(e):e}function su(t){const e=Gi(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pb(t)?4:D2(t)?9007199254740991:10:de()}function _r(t,e){if(t===e)return!0;const n=Ws(t);if(n!==Ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return su(t).isEqual(su(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Gi(r.timestampValue),o=Gi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Jo(r.bytesValue).isEqual(Jo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ht(r.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(r.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ht(r.integerValue)===ht(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ht(r.doubleValue),o=ht(i.doubleValue);return s===o?ph(s)===ph(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(vS(s)!==vS(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!_r(s[u],o[u])))return!1;return!0}(t,e);default:return de()}}function ou(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=Ws(t),r=Ws(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ht(i.integerValue||i.doubleValue),u=ht(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return wS(t.timestampValue,e.timestampValue);case 4:return wS(su(t),su(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Jo(i),u=Jo(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let h=0;h<o.length&&h<u.length;h++){const f=Re(o[h],u[h]);if(f!==0)return f}return Re(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Re(ht(i.latitude),ht(s.latitude));return o!==0?o:Re(ht(i.longitude),ht(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],u=s.values||[];for(let h=0;h<o.length&&h<u.length;++h){const f=Zo(o[h],u[h]);if(f)return f}return Re(o.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Kc.mapValue&&s===Kc.mapValue)return 0;if(i===Kc.mapValue)return 1;if(s===Kc.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),h=s.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let y=0;y<u.length&&y<f.length;++y){const _=Re(u[y],f[y]);if(_!==0)return _;const S=Zo(o[u[y]],h[f[y]]);if(S!==0)return S}return Re(u.length,f.length)}(t.mapValue,e.mapValue);default:throw de()}}function wS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Gi(t),r=Gi(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function ea(t){return Qg(t)}function Qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Gi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Qg(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${Qg(r.fields[u])}`;return s+"}"}(t.mapValue):de();var e,n}function _S(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xg(t){return!!t&&"integerValue"in t}function r0(t){return!!t&&"arrayValue"in t}function SS(t){return!!t&&"nullValue"in t}function ES(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vd(t){return!!t&&"mapValue"in t}function kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function D2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.position=e,this.inclusive=n}}function TS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Zo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{}class pt extends Ab{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new P2(e,n,r):n==="array-contains"?new M2(e,r):n==="in"?new L2(e,r):n==="not-in"?new U2(e,r):n==="array-contains-any"?new $2(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new N2(e,r):new A2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zo(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class nr extends Ab{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new nr(e,n)}matches(e){return Mb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return e!==null?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Mb(t){return t.op==="and"}function Lb(t){return R2(t)&&Mb(t)}function R2(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Jg(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(Lb(t))return t.filters.map(e=>Jg(e)).join(",");{const e=t.filters.map(n=>Jg(n)).join(",");return`${t.op}(${e})`}}function Ub(t,e){return t instanceof pt?function(n,r){return r instanceof pt&&n.op===r.op&&n.field.isEqual(r.field)&&_r(n.value,r.value)}(t,e):t instanceof nr?function(n,r){return r instanceof nr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&Ub(s,r.filters[o]),!0):!1}(t,e):void de()}function $b(t){return t instanceof pt?function(e){return`${e.field.canonicalString()} ${e.op} ${ea(e.value)}`}(t):t instanceof nr?function(e){return e.op.toString()+" {"+e.getFilters().map($b).join(" ,")+"}"}(t):"Filter"}class P2 extends pt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class N2 extends pt{constructor(e,n){super(e,"in",n),this.keys=Fb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class A2 extends pt{constructor(e,n){super(e,"not-in",n),this.keys=Fb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Fb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class M2 extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return r0(n)&&ou(n.arrayValue,this.value)}}class L2 extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class U2 extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ou(this.value.arrayValue,n)}}class $2 extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!r0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n="asc"){this.field=e,this.dir=n}}function F2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IS(this.data.getIterator())}getIteratorFrom(e){return new IS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class IS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new In([])}unionWith(e){let n=new wt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=kl(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fn(kl(this.value))}}function jb(t){const e=[];return Ks(t.fields,(n,r)=>{const i=new Wt([n]);if(vd(r)){const s=jb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Bt(e,0,pe.min(),pe.min(),pe.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,pe.min(),pe.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,pe.min(),pe.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this._t=null}}function bS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new j2(t,e,n,r,i,s,o)}function i0(t){const e=ge(t);if(e._t===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),e._t=n}return e._t}function s0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ub(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kS(t.startAt,e.startAt)&&kS(t.endAt,e.endAt)}function Zg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=h,this.wt=null,this.gt=null,this.startAt,this.endAt}}function V2(t,e,n,r,i,s,o,u){return new Uu(t,e,n,r,i,s,o,u)}function yf(t){return new Uu(t)}function xS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Vb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function o0(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function zb(t){return t.collectionGroup!==null}function Uo(t){const e=ge(t);if(e.wt===null){e.wt=[];const n=o0(e),r=Vb(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Il(n)),e.wt.push(new Il(Wt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Il(Wt.keyField(),s))}}}return e.wt}function ei(t){const e=ge(t);if(!e.gt)if(e.limitType==="F")e.gt=bS(e.path,e.collectionGroup,Uo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Uo(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Il(s.field,o))}const r=e.endAt?new mh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new mh(e.startAt.position,e.startAt.inclusive):null;e.gt=bS(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.gt}function ey(t,e){e.getFirstInequalityField(),o0(t);const n=t.filters.concat([e]);return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ty(t,e,n){return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vf(t,e){return s0(ei(t),ei(e))&&t.limitType===e.limitType}function Bb(t){return`${i0(ei(t))}|lt:${t.limitType}`}function ny(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>$b(r)).join(", ")}]`),gf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),`Target(${n})`}(ei(t))}; limitType=${t.limitType})`}function wf(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Uo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const u=TS(i,s,o);return i.inclusive?u<=0:u<0}(n.startAt,Uo(n),r)||n.endAt&&!function(i,s,o){const u=TS(i,s,o);return i.inclusive?u>=0:u>0}(n.endAt,Uo(n),r))}(t,e)}function z2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Wb(t){return(e,n)=>{let r=!1;for(const i of Uo(t)){const s=B2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function B2(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,s,o){const u=s.data.field(i),h=o.data.field(i);return u!==null&&h!==null?Zo(u,h):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function Yb(t){return{integerValue:""+t}}function W2(t,e){return x2(e)?Yb(e):Hb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function H2(t,e,n){return t instanceof au?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ta?qb(t,e):t instanceof lu?Kb(t,e):function(r,i){const s=Gb(r,i),o=CS(s)+CS(r.It);return Xg(s)&&Xg(r.It)?Yb(o):Hb(r.Tt,o)}(t,e)}function Y2(t,e,n){return t instanceof ta?qb(t,e):t instanceof lu?Kb(t,e):n}function Gb(t,e){return t instanceof gh?Xg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class au extends _f{}class ta extends _f{constructor(e){super(),this.elements=e}}function qb(t,e){const n=Qb(e);for(const r of t.elements)n.some(i=>_r(i,r))||n.push(r);return{arrayValue:{values:n}}}class lu extends _f{constructor(e){super(),this.elements=e}}function Kb(t,e){let n=Qb(e);for(const r of t.elements)n=n.filter(i=>!_r(i,r));return{arrayValue:{values:n}}}class gh extends _f{constructor(e,n){super(),this.Tt=e,this.It=n}}function CS(t){return ht(t.integerValue||t.doubleValue)}function Qb(t){return r0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.field=e,this.transform=n}}function G2(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ta&&r instanceof ta||n instanceof lu&&r instanceof lu?Xo(n.elements,r.elements,_r):n instanceof gh&&r instanceof gh?_r(n.It,r.It):n instanceof au&&r instanceof au}(t.transform,e.transform)}class q2{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sf{}function Jb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ex(t.key,vr.none()):new $u(t.key,t.data,vr.none());{const n=t.data,r=fn.empty();let i=new wt(Wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new es(t.key,r,new In(i.toArray()),vr.none())}}function K2(t,e,n){t instanceof $u?function(r,i,s){const o=r.value.clone(),u=DS(r.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof es?function(r,i,s){if(!wd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=DS(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(Zb(r)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function bl(t,e,n,r){return t instanceof $u?function(i,s,o,u){if(!wd(i.precondition,s))return o;const h=i.value.clone(),f=RS(i.fieldTransforms,u,s);return h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof es?function(i,s,o,u){if(!wd(i.precondition,s))return o;const h=RS(i.fieldTransforms,u,s),f=s.data;return f.setAll(Zb(i)),f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(i,s,o){return wd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Q2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Gb(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function OS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Xo(n,r,(i,s)=>G2(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $u extends Sf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class es extends Sf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Zb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function DS(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,Y2(o,u,n[i]))}return r}function RS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,H2(s,o,e))}return r}class ex extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}let X2=class extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Te;function Z2(t){switch(t){default:return de();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function tx(t){if(t===void 0)return Zr("GRPC error has no .code"),F.UNKNOWN;switch(t){case dt.OK:return F.OK;case dt.CANCELLED:return F.CANCELLED;case dt.UNKNOWN:return F.UNKNOWN;case dt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case dt.INTERNAL:return F.INTERNAL;case dt.UNAVAILABLE:return F.UNAVAILABLE;case dt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case dt.NOT_FOUND:return F.NOT_FOUND;case dt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case dt.ABORTED:return F.ABORTED;case dt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case dt.DATA_LOSS:return F.DATA_LOSS;default:return de()}}(Te=dt||(dt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=new _t(oe.comparator);function ti(){return ej}const nx=new _t(oe.comparator);function cl(...t){let e=nx;for(const n of t)e=e.insert(n.key,n);return e}function rx(t){let e=nx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ks(){return xl()}function ix(){return xl()}function xl(){return new va(t=>t.toString(),(t,e)=>t.isEqual(e))}const tj=new _t(oe.comparator),nj=new wt(oe.comparator);function Se(...t){let e=nj;for(const n of t)e=e.add(n);return e}const rj=new wt(Re);function sx(){return rj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ef(pe.min(),i,sx(),ti(),Se())}}class Fu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fu(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,r,i){this.Et=e,this.removedTargetIds=n,this.key=r,this.At=i}}class ox{constructor(e,n){this.targetId=e,this.Rt=n}}class ax{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PS{constructor(){this.Pt=0,this.vt=AS(),this.bt=Xt.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return this.Pt!==0}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=Se(),n=Se(),r=Se();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new Fu(this.bt,this.Vt,e,n,r)}kt(){this.St=!1,this.vt=AS()}$t(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class ij{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=ti(),this.Kt=NS(),this.Gt=new wt(Re)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const r=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),r.xt(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((r,i)=>{this.Jt(i)&&n(i)})}Zt(e){const n=e.targetId,r=e.Rt.count,i=this.Xt(n);if(i){const s=i.target;if(Zg(s))if(r===0){const o=new oe(s.path);this.zt(n,o,Bt.newNoDocument(o,pe.min()))}else ze(r===1);else this.te(n)!==r&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((s,o)=>{const u=this.Xt(o);if(u){if(s.current&&Zg(u.target)){const h=new oe(u.target.path);this.Ut.get(h)!==null||this.ne(o,h)||this.zt(o,h,Bt.newNoDocument(h,e))}s.Ct&&(n.set(o,s.Nt()),s.kt())}});let r=Se();this.Kt.forEach((s,o)=>{let u=!0;o.forEachWhile(h=>{const f=this.Xt(h);return!f||f.purpose===2||(u=!1,!1)}),u&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Ef(e,n,this.Gt,this.Ut,r);return this.Ut=ti(),this.Kt=NS(),this.Gt=new wt(Re),i}jt(e,n){if(!this.Jt(e))return;const r=this.ne(e,n.key)?2:0;this.Ht(e).$t(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,n)?i.$t(n,1):i.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let n=this.qt.get(e);return n||(n=new PS,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new wt(Re),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=this.Xt(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new PS),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function NS(){return new _t(oe.comparator)}function AS(){return new _t(oe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),oj=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),aj=(()=>({and:"AND",or:"OR"}))();class lj{constructor(e,n){this.databaseId=e,this.yt=n}}function yh(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lx(t,e){return t.yt?e.toBase64():e.toUint8Array()}function uj(t,e){return yh(t,e.toTimestamp())}function wr(t){return ze(!!t),pe.fromTimestamp(function(e){const n=Gi(e);return new ct(n.seconds,n.nanos)}(t))}function a0(t,e){return function(n){return new He(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function ux(t){const e=He.fromString(t);return ze(fx(e)),e}function ry(t,e){return a0(t.databaseId,e.path)}function Sm(t,e){const n=ux(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(cx(n))}function iy(t,e){return a0(t.databaseId,e)}function cj(t){const e=ux(t);return e.length===4?He.emptyPath():cx(e)}function sy(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cx(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function MS(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function dj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.yt?(ze(f===void 0||typeof f=="string"),Xt.fromBase64String(f||"")):(ze(f===void 0||f instanceof Uint8Array),Xt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(h){const f=h.code===void 0?F.UNKNOWN:tx(h.code);return new ee(f,h.message||"")}(o);n=new ax(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sm(t,r.document.name),s=wr(r.document.updateTime),o=r.document.createTime?wr(r.document.createTime):pe.min(),u=new fn({mapValue:{fields:r.document.fields}}),h=Bt.newFoundDocument(i,s,o,u),f=r.targetIds||[],y=r.removedTargetIds||[];n=new _d(f,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sm(t,r.document),s=r.readTime?wr(r.readTime):pe.min(),o=Bt.newNoDocument(i,s),u=r.removedTargetIds||[];n=new _d([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sm(t,r.document),s=r.removedTargetIds||[];n=new _d([],s,i,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new J2(i),o=r.targetId;n=new ox(o,s)}}return n}function hj(t,e){let n;if(e instanceof $u)n={update:MS(t,e.key,e.value)};else if(e instanceof ex)n={delete:ry(t,e.key)};else if(e instanceof es)n={update:MS(t,e.key,e.data),updateMask:Sj(e.fieldMask)};else{if(!(e instanceof X2))return de();n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof au)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ta)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof lu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof gh)return{fieldPath:s.field.canonicalString(),increment:o.It};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:uj(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function fj(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?wr(r.updateTime):wr(i);return s.isEqual(pe.min())&&(s=wr(i)),new q2(s,r.transformResults||[])}(n,e))):[]}function pj(t,e){return{documents:[iy(t,e.path)]}}function mj(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=iy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=iy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(h){if(h.length!==0)return hx(nr.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(h){if(h.length!==0)return h.map(f=>function(y){return{field:co(y.field),direction:vj(y.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(h,f){return h.yt||gf(f)?f:{value:f}}(t,e.limit);var u;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function gj(t){let e=cj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let s=[];n.where&&(s=function(y){const _=dx(y);return _ instanceof nr&&Lb(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(y=>function(_){return new Il(ho(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(y)));let u=null;n.limit&&(u=function(y){let _;return _=typeof y=="object"?y.value:y,gf(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,S=y.values||[];return new mh(S,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,S=y.values||[];return new mh(S,_)}(n.endAt)),V2(e,i,o,s,u,"F",h,f)}function yj(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return de()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function dx(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ho(e.unaryFilter.field);return pt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ho(e.unaryFilter.field);return pt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ho(e.unaryFilter.field);return pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ho(e.unaryFilter.field);return pt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(e){return pt.create(ho(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return nr.create(e.compositeFilter.filters.map(n=>dx(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return de()}}(e.compositeFilter.op))}(t):de()}function vj(t){return sj[t]}function wj(t){return oj[t]}function _j(t){return aj[t]}function co(t){return{fieldPath:t.canonicalString()}}function ho(t){return Wt.fromServerFormat(t.fieldPath)}function hx(t){return t instanceof pt?function(e){if(e.op==="=="){if(ES(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NAN"}};if(SS(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ES(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NOT_NAN"}};if(SS(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(e.field),op:wj(e.op),value:e.value}}}(t):t instanceof nr?function(e){const n=e.getFilters().map(r=>hx(r));return n.length===1?n[0]:{compositeFilter:{op:_j(e.op),filters:n}}}(t):de()}function Sj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&K2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ix();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const h=Jb(o,u);h!==null&&r.set(i.key,h),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,r)=>OS(n,r))&&Xo(this.baseMutations,e.baseMutations,(n,r)=>OS(n,r))}}class l0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=tj;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new l0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,r,i,s=pe.min(),o=pe.min(),u=Xt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.oe=e}}function Ij(t){const e=gj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ty(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.Ze=new xj}addToCollectionParentIndex(e,n){return this.Ze.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Yi.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class xj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wt(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new na(0)}static Sn(){return new na(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(){this.changes=new va(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bl(r.mutation,i,In.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=ks();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=cl();return s.forEach((u,h)=>{o=o.insert(u,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ks();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=ti();const o=xl(),u=xl();return n.forEach((h,f)=>{const y=r.get(f.key);i.has(f.key)&&(y===void 0||y.mutation instanceof es)?s=s.insert(f.key,f):y!==void 0?(o.set(f.key,y.mutation.getFieldMask()),bl(y.mutation,f,y.mutation.getFieldMask(),ct.now())):o.set(f.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((f,y)=>o.set(f,y)),n.forEach((f,y)=>{var _;return u.set(f,new Oj(y,(_=o.get(f))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const r=xl();let i=new _t((o,u)=>o-u),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let y=r.get(h)||In.empty();y=u.applyToLocalView(f,y),r.set(h,y);const _=(i.get(u.batchId)||Se()).add(h);i=i.insert(u.batchId,_)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,y=h.value,_=ix();y.forEach(S=>{if(!s.has(S)){const b=Jb(n.get(S),r.get(S));b!==null&&_.set(S,b),s=s.add(S)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,_))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(ks());let u=-1,h=s;return o.next(f=>H.forEach(f,(y,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),s.get(y)?H.resolve():this.remoteDocumentCache.getEntry(e,y).next(S=>{h=h.insert(y,S)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,h,f,Se())).next(y=>({batchId:u,changes:rx(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=cl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=cl();return this.indexManager.getCollectionParents(e,i).next(o=>H.forEach(o,u=>{const h=function(f,y){return new Uu(y,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r).next(f=>{f.forEach((y,_)=>{s=s.insert(y,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((u,h)=>{const f=h.getKey();s.get(f)===null&&(s=s.insert(f,Bt.newInvalidDocument(f)))});let o=cl();return s.forEach((u,h)=>{const f=i.get(u);f!==void 0&&bl(f.mutation,h,In.empty(),ct.now()),wf(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return H.resolve(this.es.get(n))}saveBundleMetadata(e,n){var r;return this.es.set(n.id,{id:(r=n).id,version:r.version,createTime:wr(r.createTime)}),H.resolve()}getNamedQuery(e,n){return H.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,function(r){return{name:r.name,query:Ij(r.bundledQuery),readTime:wr(r.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this.overlays=new _t(oe.comparator),this.ss=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ks();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ce(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ss.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=ks(),s=n.length+1,o=new oe(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((f,y)=>f-y);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let y=s.get(f.largestBatchId);y===null&&(y=ks(),s=s.insert(f.largestBatchId,y)),y.set(f.getKey(),f)}}const u=ks(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,y)=>u.set(f,y)),!(u.size()>=i)););return H.resolve(u)}ce(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Tj(n,r));let s=this.ss.get(n);s===void 0&&(s=Se(),this.ss.set(n,s)),this.ss.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.rs=new wt(Et.os),this.us=new wt(Et.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const r=new Et(e,n);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ls(new Et(e,n))}fs(e,n){e.forEach(r=>this.removeReference(r,n))}ds(e){const n=new oe(new He([])),r=new Et(n,e),i=new Et(n,e+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new oe(new He([])),r=new Et(n,e),i=new Et(n,e+1);let s=Se();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Et(e,0),r=this.rs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return oe.comparator(e.key,n.key)||Re(e.gs,n.gs)}static cs(e,n){return Re(e.gs,n.gs)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new wt(Et.os)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ej(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.ps=this.ps.add(new Et(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ts(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const u=this.Is(o.gs);s.push(u)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(Re);return n.forEach(i=>{const s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],u=>{r=r.add(u.gs)})}),H.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new Et(new oe(s),0);let u=new wt(Re);return this.ps.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.gs)),!0)},o),H.resolve(this.Es(u))}Es(e){const n=[];return e.forEach(r=>{const i=this.Is(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.As(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ps;return H.forEach(n.mutations,i=>{const s=new Et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,n){const r=new Et(n,0),i=this.ps.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}As(e,n){return this.Ts(e)}Ts(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.Rs=e,this.docs=new _t(oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ti();const o=n.path,u=new oe(o.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:y}}=h.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||T2(E2(y),r)<=0||(i.has(y.key)||wf(n,y))&&(s=s.insert(y.key,y.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){de()}Ps(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mj(this)}getSize(e){return H.resolve(this.size)}}class Mj extends Cj{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.persistence=e,this.vs=new va(n=>i0(n),s0),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.bs=0,this.Vs=new u0,this.targetCount=0,this.Ss=na.Vn()}forEachTarget(e,n){return this.vs.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),H.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new na(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.xn(n),H.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.vs.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.vs.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Vs.hs(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Vs.fs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Vs.ws(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new n0(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new Lj(this),this.indexManager=new bj,this.remoteDocumentCache=function(r){return new Aj(r)}(r=>this.referenceDelegate.ks(r)),this.Tt=new kj(n),this.$s=new Rj(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ds[e.toKey()];return r||(r=new Nj(n,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new $j(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Fs(e,n){return H.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,n)))}}class $j extends I2{constructor(e){super(),this.currentSequenceNumber=e}}class c0{constructor(e){this.persistence=e,this.Bs=new u0,this.Ls=null}static qs(e){return new c0(e)}get Us(){if(this.Ls)return this.Ls;throw de()}addReference(e,n,r){return this.Bs.addReference(r,n),this.Us.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Bs.removeReference(r,n),this.Us.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),H.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ms(){this.Ls=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Us,r=>{const i=oe.fromPath(r);return this.Ks(e,i).next(s=>{s||n.removeEntry(i,pe.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(r=>{r?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return H.or([()=>H.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Fs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ci=r,this.xi=i}static Ni(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new d0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Mi(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Fi(e,n))}Mi(e,n){if(xS(n))return H.resolve(null);let r=ei(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ty(n,null,"F"),r=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.$i.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.Bi(n,u);return this.Li(n,f,o,h.readTime)?this.Mi(e,ty(n,null,"F")):this.qi(e,f,n,h)}))})))}Oi(e,n,r,i){return xS(n)||i.isEqual(pe.min())?this.Fi(e,n):this.$i.getDocuments(e,r).next(s=>{const o=this.Bi(n,s);return this.Li(n,o,r,i)?this.Fi(e,n):(yS()<=Oe.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ny(n)),this.qi(e,o,n,S2(i,-1)))})}Bi(e,n){let r=new wt(Wb(e));return n.forEach((i,s)=>{wf(e,s)&&(r=r.add(s))}),r}Li(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fi(e,n){return yS()<=Oe.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",ny(n)),this.$i.getDocumentsMatchingQuery(e,n,Yi.min())}qi(e,n,r,i){return this.$i.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n,r,i){this.persistence=e,this.Ui=n,this.Tt=i,this.Ki=new _t(Re),this.Gi=new va(s=>i0(s),s0),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dj(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function Vj(t,e,n,r){return new jj(t,e,n,r)}async function px(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let h=Se();for(const f of i){o.push(f.batchId);for(const y of f.mutations)h=h.add(y.key)}for(const f of s){u.push(f.batchId);for(const y of f.mutations)h=h.add(y.key)}return n.localDocuments.getDocuments(r,h).next(f=>({Wi:f,removedBatchIds:o,addedBatchIds:u}))})})}function zj(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,u,h,f){const y=h.batch,_=y.keys();let S=H.resolve();return _.forEach(b=>{S=S.next(()=>f.getEntry(u,b)).next(R=>{const D=h.docVersions.get(b);ze(D!==null),R.version.compareTo(D)<0&&(y.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),f.addEntry(R)))})}),S.next(()=>o.mutationQueue.removeMutationBatch(u,y))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=Se();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mx(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function Bj(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;const u=[];e.targetChanges.forEach((y,_)=>{const S=i.get(_);if(!S)return;u.push(n.Ns.removeMatchingKeys(s,y.removedDocuments,_).next(()=>n.Ns.addMatchingKeys(s,y.addedDocuments,_)));let b=S.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(_)?b=b.withResumeToken(Xt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,r)),i=i.insert(_,b),function(R,D,$){return R.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,b,y)&&u.push(n.Ns.updateTargetData(s,b))});let h=ti(),f=Se();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,y))}),u.push(Wj(s,o,e.documentUpdates).next(y=>{h=y.Hi,f=y.Ji})),!r.isEqual(pe.min())){const y=n.Ns.getLastRemoteSnapshotVersion(s).next(_=>n.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(y)}return H.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,f)).next(()=>h)}).then(s=>(n.Ki=i,s))}function Wj(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ti();return n.forEach((u,h)=>{const f=s.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(pe.min())?(e.removeEntry(u,h.readTime),o=o.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),o=o.insert(u,h)):re("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Hi:o,Ji:i}})}function Hj(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yj(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ns.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Ns.allocateTargetId(r).next(o=>(i=new Rs(e,o,0,r.currentSequenceNumber),n.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ki.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(r.targetId,r),n.Gi.set(e,r.targetId)),r})}async function oy(t,e,n){const r=ge(t),i=r.Ki.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Lu(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}function LS(t,e,n){const r=ge(t);let i=pe.min(),s=Se();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,h,f){const y=ge(u),_=y.Gi.get(f);return _!==void 0?H.resolve(y.Ki.get(_)):y.Ns.getTargetData(h,f)}(r,o,ei(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,u.targetId).next(h=>{s=h})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,e,n?i:pe.min(),n?s:Se())).next(u=>(Gj(r,z2(e),u),{documents:u,Yi:s})))}function Gj(t,e,n){let r=t.Qi.get(e)||pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Qi.set(e,r)}class US{constructor(){this.activeTargetIds=sx()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qj{constructor(){this.Ur=new US,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,r){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new US,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{Gr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Em(){return Xc===null?Xc=268435456+Math.round(2147483648*Math.random()):Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class Jj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.co=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,r,i,s){const o=Em(),u=this.fo(e,n);re("RestConnection",`Sending RPC '${e}' ${o}:`,u,r);const h={};return this._o(h,i,s),this.wo(e,u,h,r).then(f=>(re("RestConnection",`Received RPC '${e}' ${o}: `,f),f),f=>{throw Kg("RestConnection",`RPC '${e}' ${o} failed with error: `,f,"url: ",u,"request:",r),f})}mo(e,n,r,i,s,o){return this.lo(e,n,r,i,s)}_o(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ya,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,n){const r=Qj[e];return`${this.co}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,r,i){const s=Em();return new Promise((o,u)=>{const h=new d2;h.setWithCredentials(!0),h.listenOnce(l2.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case _m.NO_ERROR:const y=h.getResponseJson();re(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),o(y);break;case _m.TIMEOUT:re(jt,`RPC '${e}' ${s} timed out`),u(new ee(F.DEADLINE_EXCEEDED,"Request time out"));break;case _m.HTTP_ERROR:const _=h.getStatus();if(re(jt,`RPC '${e}' ${s} failed with status:`,_,"response text:",h.getResponseText()),_>0){let S=h.getResponseJson();Array.isArray(S)&&(S=S[0]);const b=S==null?void 0:S.error;if(b&&b.status&&b.message){const R=function(D){const $=D.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf($)>=0?$:F.UNKNOWN}(b.status);u(new ee(R,b.message))}else u(new ee(F.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ee(F.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{re(jt,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);re(jt,`RPC '${e}' ${s} sending request:`,i),h.send(n,"POST",f,r,15)})}yo(e,n,r){const i=Em(),s=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=o2(),u=a2(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new c2({})),this._o(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const f=s.join("");re(jt,`Creating RPC '${e}' stream ${i}: ${f}`,h);const y=o.createWebChannel(f,h);let _=!1,S=!1;const b=new Xj({Yr:D=>{S?re(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(_||(re(jt,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),re(jt,`RPC '${e}' stream ${i} sending:`,D),y.send(D))},Zr:()=>y.close()}),R=(D,$,I)=>{D.listen($,T=>{try{I(T)}catch(x){setTimeout(()=>{throw x},0)}})};return R(y,qc.EventType.OPEN,()=>{S||re(jt,`RPC '${e}' stream ${i} transport opened.`)}),R(y,qc.EventType.CLOSE,()=>{S||(S=!0,re(jt,`RPC '${e}' stream ${i} transport closed`),b.oo())}),R(y,qc.EventType.ERROR,D=>{S||(S=!0,Kg(jt,`RPC '${e}' stream ${i} transport errored:`,D),b.oo(new ee(F.UNAVAILABLE,"The operation could not be completed")))}),R(y,qc.EventType.MESSAGE,D=>{var $;if(!S){const I=D.data[0];ze(!!I);const T=I,x=T.error||(($=T[0])===null||$===void 0?void 0:$.error);if(x){re(jt,`RPC '${e}' stream ${i} received error:`,x);const A=x.status;let j=function(K){const L=dt[K];if(L!==void 0)return tx(L)}(A),Y=x.message;j===void 0&&(j=F.INTERNAL,Y="Unknown error status: "+A+" with message "+x.message),S=!0,b.oo(new ee(j,Y)),y.close()}else re(jt,`RPC '${e}' stream ${i} received:`,I),b.uo(I)}}),R(u,u2.STAT_EVENT,D=>{D.stat===mS.PROXY?re(jt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===mS.NOPROXY&&re(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.ro()},0),b}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){return new lj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=n,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,i,s,o,u,h){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new gx(e,n)}$o(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.$o()&&await this.close(0)}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(e,n){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,e!==4?this.ko.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=e,await this.listener.no(n)}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===n&&this.jo(r,i)},r=>{e(()=>{const i=new ee(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,n){const r=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zj extends yx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=dj(this.Tt,e),r=function(i){if(!("targetChange"in i))return pe.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?wr(s.readTime):pe.min()}(e);return this.listener.Ho(n,r)}Jo(e){const n={};n.database=sy(this.Tt),n.addTarget=function(i,s){let o;const u=s.target;return o=Zg(u)?{documents:pj(i,u)}:{query:mj(i,u)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=lx(i,s.resumeToken):s.snapshotVersion.compareTo(pe.min())>0&&(o.readTime=yh(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,e);const r=yj(this.Tt,e);r&&(n.labels=r),this.qo(n)}Yo(e){const n={};n.database=sy(this.Tt),n.removeTarget=e,this.qo(n)}}class eV extends yx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const n=fj(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.eu(r,n)}return ze(!e.writeResults||e.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=sy(this.Tt),this.qo(e)}tu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hj(this.Tt,r))};this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new ee(F.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(F.UNKNOWN,i.toString())})}mo(e,n,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(F.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class nV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,e==="Online"&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Zr(n),this.cu=!1):re("OnlineStateTracker",n)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(o=>{r.enqueueAndForget(async()=>{Qs(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=ge(u);h.mu.add(4),await ju(h),h.pu.set("Unknown"),h.mu.delete(4),await kf(h)}(this))})}),this.pu=new nV(r,i)}}async function kf(t){if(Qs(t))for(const e of t.gu)await e(!0)}async function ju(t){for(const e of t.gu)await e(!1)}function vx(t,e){const n=ge(t);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),p0(n)?f0(n):wa(n).Mo()&&h0(n,e))}function wx(t,e){const n=ge(t),r=wa(n);n.wu.delete(e),r.Mo()&&_x(n,e),n.wu.size===0&&(r.Mo()?r.Bo():Qs(n)&&n.pu.set("Unknown"))}function h0(t,e){t.Iu.Ot(e.targetId),wa(t).Jo(e)}function _x(t,e){t.Iu.Ot(e),wa(t).Yo(e)}function f0(t){t.Iu=new ij({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),wa(t).start(),t.pu.au()}function p0(t){return Qs(t)&&!wa(t).$o()&&t.wu.size>0}function Qs(t){return ge(t).mu.size===0}function Sx(t){t.Iu=void 0}async function iV(t){t.wu.forEach((e,n)=>{h0(t,e)})}async function sV(t,e){Sx(t),p0(t)?(t.pu.fu(e),f0(t)):t.pu.set("Unknown")}async function oV(t,e,n){if(t.pu.set("Online"),e instanceof ax&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.wu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.wu.delete(o),r.Iu.removeTarget(o))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(t,r)}else if(e instanceof _d?t.Iu.Qt(e):e instanceof ox?t.Iu.Zt(e):t.Iu.Wt(e),!n.isEqual(pe.min()))try{const r=await mx(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.wu.get(h);f&&i.wu.set(h,f.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach(u=>{const h=i.wu.get(u);if(!h)return;i.wu.set(u,h.withResumeToken(Xt.EMPTY_BYTE_STRING,h.snapshotVersion)),_x(i,u);const f=new Rs(h.target,u,1,h.sequenceNumber);h0(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await vh(t,r)}}async function vh(t,e,n){if(!Lu(e))throw e;t.mu.add(1),await ju(t),t.pu.set("Offline"),n||(n=()=>mx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.mu.delete(1),await kf(t)})}function Ex(t,e){return e().catch(n=>vh(t,n,e))}async function If(t){const e=ge(t),n=qi(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;aV(e);)try{const i=await Hj(e.localStore,r);if(i===null){e._u.length===0&&n.Bo();break}r=i.batchId,lV(e,i)}catch(i){await vh(e,i)}Tx(e)&&kx(e)}function aV(t){return Qs(t)&&t._u.length<10}function lV(t,e){t._u.push(e);const n=qi(t);n.Mo()&&n.Xo&&n.tu(e.mutations)}function Tx(t){return Qs(t)&&!qi(t).$o()&&t._u.length>0}function kx(t){qi(t).start()}async function uV(t){qi(t).su()}async function cV(t){const e=qi(t);for(const n of t._u)e.tu(n.mutations)}async function dV(t,e,n){const r=t._u.shift(),i=l0.from(r,e,n);await Ex(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await If(t)}async function hV(t,e){e&&qi(t).Xo&&await async function(n,r){if(i=r.code,Z2(i)&&i!==F.ABORTED){const s=n._u.shift();qi(n).Fo(),await Ex(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await If(n)}var i}(t,e),Tx(t)&&kx(t)}async function FS(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=Qs(n);n.mu.add(3),await ju(n),r&&n.pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),await kf(n)}async function fV(t,e){const n=ge(t);e?(n.mu.delete(2),await kf(n)):e||(n.mu.add(2),await ju(n),n.pu.set("Unknown"))}function wa(t){return t.Tu||(t.Tu=function(e,n,r){const i=ge(e);return i.ru(),new Zj(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:iV.bind(null,t),no:sV.bind(null,t),Ho:oV.bind(null,t)}),t.gu.push(async e=>{e?(t.Tu.Fo(),p0(t)?f0(t):t.pu.set("Unknown")):(await t.Tu.stop(),Sx(t))})),t.Tu}function qi(t){return t.Eu||(t.Eu=function(e,n,r){const i=ge(e);return i.ru(),new eV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:uV.bind(null,t),no:hV.bind(null,t),nu:cV.bind(null,t),eu:dV.bind(null,t)}),t.gu.push(async e=>{e?(t.Eu.Fo(),await If(t)):(await t.Eu.stop(),t._u.length>0&&(re("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))})),t.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new m0(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g0(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),Lu(t))return new ee(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=cl(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new $o(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.Au=new _t(oe.comparator)}track(e){const n=e.doc.key,r=this.Au.get(n);r?e.type!==0&&r.type===3?this.Au=this.Au.insert(n,e):e.type===3&&r.type!==1?this.Au=this.Au.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Au=this.Au.remove(n):e.type===1&&r.type===2?this.Au=this.Au.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):de():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,r)=>{e.push(r)}),e}}class ra{constructor(e,n,r,i,s,o,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new ra(e,n,$o.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.Pu=void 0,this.listeners=[]}}class mV{constructor(){this.queries=new va(e=>Bb(e),vf),this.onlineState="Unknown",this.vu=new Set}}async function y0(t,e){const n=ge(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new pV),i)try{s.Pu=await n.onListen(r)}catch(o){const u=g0(o,`Initialization of query '${ny(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Pu&&e.Vu(s.Pu)&&w0(n)}async function v0(t,e){const n=ge(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function gV(t,e){const n=ge(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.Vu(i)&&(r=!0);o.Pu=i}}r&&w0(n)}function yV(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function w0(t){t.vu.forEach(e=>{e.next()})}class _0{constructor(e,n,r){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.$u||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}xu(e){if(e.docChanges.length>0)return!0;const n=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ku(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.key=e}}class bx{constructor(e){this.key=e}}class vV{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Se(),this.mutatedKeys=Se(),this.ju=Wb(e),this.zu=new $o(this.ju)}get Wu(){return this.Ku}Hu(e,n){const r=n?n.Ju:new jS,i=n?n.zu:this.zu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,_)=>{const S=i.get(y),b=wf(this.query,_)?_:null,R=!!S&&this.mutatedKeys.has(S.key),D=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let $=!1;S&&b?S.data.isEqual(b.data)?R!==D&&(r.track({type:3,doc:b}),$=!0):this.Yu(S,b)||(r.track({type:2,doc:b}),$=!0,(h&&this.ju(b,h)>0||f&&this.ju(b,f)<0)&&(u=!0)):!S&&b?(r.track({type:0,doc:b}),$=!0):S&&!b&&(r.track({type:1,doc:S}),$=!0,(h||f)&&(u=!0)),$&&(b?(o=o.add(b),s=D?s.add(y):s.delete(y)):(o=o.delete(y),s=s.delete(y)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const y=this.query.limitType==="F"?o.last():o.first();o=o.delete(y.key),s=s.delete(y.key),r.track({type:1,doc:y})}return{zu:o,Ju:r,Li:u,mutatedKeys:s}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((f,y)=>function(_,S){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return b(_)-b(S)}(f.type,y.type)||this.ju(f.doc,y.doc)),this.Zu(r);const o=n?this.Xu():[],u=this.Qu.size===0&&this.current?1:0,h=u!==this.Gu;return this.Gu=u,s.length!==0||h?{snapshot:new ra(this.query,e.zu,i,s,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new jS,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Se(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const n=[];return e.forEach(r=>{this.Qu.has(r)||n.push(new bx(r))}),this.Qu.forEach(r=>{e.has(r)||n.push(new Ix(r))}),n}nc(e){this.Ku=e.Yi,this.Qu=Se();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return ra.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class wV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _V{constructor(e){this.key=e,this.ic=!1}}class SV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new va(u=>Bb(u),vf),this.uc=new Map,this.cc=new Set,this.ac=new _t(oe.comparator),this.hc=new Map,this.lc=new u0,this.fc={},this.dc=new Map,this._c=na.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function EV(t,e){const n=PV(t);let r,i;const s=n.oc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=await Yj(n.localStore,ei(e));n.isPrimaryClient&&vx(n.remoteStore,o);const u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await TV(n,e,r,u==="current",o.resumeToken)}return i}async function TV(t,e,n,r,i){t.mc=(_,S,b)=>async function(R,D,$,I){let T=D.view.Hu($);T.Li&&(T=await LS(R.localStore,D.query,!1).then(({documents:j})=>D.view.Hu(j,T)));const x=I&&I.targetChanges.get(D.targetId),A=D.view.applyChanges(T,R.isPrimaryClient,x);return zS(R,D.targetId,A.tc),A.snapshot}(t,_,S,b);const s=await LS(t.localStore,e,!0),o=new vV(e,s.Yi),u=o.Hu(s.documents),h=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(u,t.isPrimaryClient,h);zS(t,n,f.tc);const y=new wV(e,n,o);return t.oc.set(e,y),t.uc.has(n)?t.uc.get(n).push(e):t.uc.set(n,[e]),f.snapshot}async function kV(t,e){const n=ge(t),r=n.oc.get(e),i=n.uc.get(r.targetId);if(i.length>1)return n.uc.set(r.targetId,i.filter(s=>!vf(s,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await oy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),wx(n.remoteStore,r.targetId),ay(n,r.targetId)}).catch(Mu)):(ay(n,r.targetId),await oy(n.localStore,r.targetId,!0))}async function IV(t,e,n){const r=NV(t);try{const i=await function(s,o){const u=ge(s),h=ct.now(),f=o.reduce((S,b)=>S.add(b.key),Se());let y,_;return u.persistence.runTransaction("Locally write mutations","readwrite",S=>{let b=ti(),R=Se();return u.ji.getEntries(S,f).next(D=>{b=D,b.forEach(($,I)=>{I.isValidDocument()||(R=R.add($))})}).next(()=>u.localDocuments.getOverlayedDocuments(S,b)).next(D=>{y=D;const $=[];for(const I of o){const T=Q2(I,y.get(I.key).overlayedDocument);T!=null&&$.push(new es(I.key,T,jb(T.value.mapValue),vr.exists(!0)))}return u.mutationQueue.addMutationBatch(S,h,$,o)}).next(D=>{_=D;const $=D.applyToLocalDocumentSet(y,R);return u.documentOverlayCache.saveOverlays(S,D.batchId,$)})}).then(()=>({batchId:_.batchId,changes:rx(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let h=s.fc[s.currentUser.toKey()];h||(h=new _t(Re)),h=h.insert(o,u),s.fc[s.currentUser.toKey()]=h}(r,i.batchId,n),await Vu(r,i.changes),await If(r.remoteStore)}catch(i){const s=g0(i,"Failed to persist write");n.reject(s)}}async function xx(t,e){const n=ge(t);try{const r=await Bj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.hc.get(s);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?ze(o.ic):i.removedDocuments.size>0&&(ze(o.ic),o.ic=!1))}),await Vu(n,r,e)}catch(r){await Mu(r)}}function VS(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.oc.forEach((s,o)=>{const u=o.view.bu(e);u.snapshot&&i.push(u.snapshot)}),function(s,o){const u=ge(s);u.onlineState=o;let h=!1;u.queries.forEach((f,y)=>{for(const _ of y.listeners)_.bu(o)&&(h=!0)}),h&&w0(u)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bV(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.hc.get(e),s=i&&i.key;if(s){let o=new _t(oe.comparator);o=o.insert(s,Bt.newNoDocument(s,pe.min()));const u=Se().add(s),h=new Ef(pe.min(),new Map,new wt(Re),o,u);await xx(r,h),r.ac=r.ac.remove(s),r.hc.delete(e),S0(r)}else await oy(r.localStore,e,!1).then(()=>ay(r,e,n)).catch(Mu)}async function xV(t,e){const n=ge(t),r=e.batch.batchId;try{const i=await zj(n.localStore,e);Ox(n,r,null),Cx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vu(n,i)}catch(i){await Mu(i)}}async function CV(t,e,n){const r=ge(t);try{const i=await function(s,o){const u=ge(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,o).next(y=>(ze(y!==null),f=y.keys(),u.mutationQueue.removeMutationBatch(h,y))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);Ox(r,e,n),Cx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vu(r,i)}catch(i){await Mu(i)}}function Cx(t,e){(t.dc.get(e)||[]).forEach(n=>{n.resolve()}),t.dc.delete(e)}function Ox(t,e,n){const r=ge(t);let i=r.fc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.uc.get(e))t.oc.delete(r),n&&t.rc.gc(r,n);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(r=>{t.lc.containsKey(r)||Dx(t,r)})}function Dx(t,e){t.cc.delete(e.path.canonicalString());const n=t.ac.get(e);n!==null&&(wx(t.remoteStore,n),t.ac=t.ac.remove(e),t.hc.delete(n),S0(t))}function zS(t,e,n){for(const r of n)r instanceof Ix?(t.lc.addReference(r.key,e),OV(t,r)):r instanceof bx?(re("SyncEngine","Document no longer in limbo: "+r.key),t.lc.removeReference(r.key,e),t.lc.containsKey(r.key)||Dx(t,r.key)):de()}function OV(t,e){const n=e.key,r=n.path.canonicalString();t.ac.get(n)||t.cc.has(r)||(re("SyncEngine","New document in limbo: "+n),t.cc.add(r),S0(t))}function S0(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const n=new oe(He.fromString(e)),r=t._c.next();t.hc.set(r,new _V(n)),t.ac=t.ac.insert(n,r),vx(t.remoteStore,new Rs(ei(yf(n.path)),r,2,n0.at))}}async function Vu(t,e,n){const r=ge(t),i=[],s=[],o=[];r.oc.isEmpty()||(r.oc.forEach((u,h)=>{o.push(r.mc(h,e,n).then(f=>{if((f||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){i.push(f);const y=d0.Ni(h.targetId,f);s.push(y)}}))}),await Promise.all(o),r.rc.Ho(i),await async function(u,h){const f=ge(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>H.forEach(h,_=>H.forEach(_.Ci,S=>f.persistence.referenceDelegate.addReference(y,_.targetId,S)).next(()=>H.forEach(_.xi,S=>f.persistence.referenceDelegate.removeReference(y,_.targetId,S)))))}catch(y){if(!Lu(y))throw y;re("LocalStore","Failed to update sequence numbers: "+y)}for(const y of h){const _=y.targetId;if(!y.fromCache){const S=f.Ki.get(_),b=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(b);f.Ki=f.Ki.insert(_,R)}}}(r.localStore,s))}async function DV(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await px(n.localStore,e);n.currentUser=e,function(i,s){i.dc.forEach(o=>{o.forEach(u=>{u.reject(new ee(F.CANCELLED,s))})}),i.dc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vu(n,r.Wi)}}function RV(t,e){const n=ge(t),r=n.hc.get(e);if(r&&r.ic)return Se().add(r.key);{let i=Se();const s=n.uc.get(e);if(!s)return i;for(const o of s){const u=n.oc.get(o);i=i.unionWith(u.view.Wu)}return i}}function PV(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bV.bind(null,e),e.rc.Ho=gV.bind(null,e.eventManager),e.rc.gc=yV.bind(null,e.eventManager),e}function NV(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CV.bind(null,e),e}class AV{constructor(){this.synchronizeTabs=!1}async initialize(e){this.Tt=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Ic(e),this.persistence=this.Tc(e),await this.persistence.start(),this.localStore=this.Ec(e),this.gcScheduler=this.Ac(e,this.localStore),this.indexBackfillerScheduler=this.Rc(e,this.localStore)}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return Vj(this.persistence,new Fj,e.initialUser,this.Tt)}Tc(e){return new Uj(c0.qs,this.Tt)}Ic(e){return new qj}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class MV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DV.bind(null,this.syncEngine),await fV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new mV}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new Jj(i));var i;return function(s,o,u,h){return new tV(s,o,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=u=>VS(this.syncEngine,u,0),o=$S.C()?new $S:new Kj,new rV(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,u,h,f){const y=new SV(r,i,s,o,u,h);return f&&(y.wc=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ge(e);re("RemoteStore","RemoteStore shutting down."),n.mu.add(5),await ju(n),n.yu.shutdown(),n.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=Db.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=g0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function UV(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await px(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function $V(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FV(t);re("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>FS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>FS(e.remoteStore,s)),t.onlineComponents=e}async function FV(t){return t.offlineComponents||(re("FirestoreClient","Using default OfflineComponentProvider"),await UV(t,new AV)),t.offlineComponents}async function Rx(t){return t.onlineComponents||(re("FirestoreClient","Using default OnlineComponentProvider"),await $V(t,new MV)),t.onlineComponents}function jV(t){return Rx(t).then(e=>e.syncEngine)}async function wh(t){const e=await Rx(t),n=e.eventManager;return n.onListen=EV.bind(null,e.syncEngine),n.onUnlisten=kV.bind(null,e.syncEngine),n}function VV(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,u,h){const f=new E0({next:_=>{s.enqueueAndForget(()=>v0(i,y));const S=_.docs.has(o);!S&&_.fromCache?h.reject(new ee(F.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&u&&u.source==="server"?h.reject(new ee(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),y=new _0(yf(o.path),f,{includeMetadataChanges:!0,$u:!0});return y0(i,y)}(await wh(t),t.asyncQueue,e,n,r)),r.promise}function zV(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,u,h){const f=new E0({next:_=>{s.enqueueAndForget(()=>v0(i,y)),_.fromCache&&u.source==="server"?h.reject(new ee(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),y=new _0(o,f,{includeMetadataChanges:!0,$u:!0});return y0(i,y)}(await wh(t),t.asyncQueue,e,n,r)),r.promise}const BS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t,e,n){if(!n)throw new ee(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BV(t,e,n,r){if(e===!0&&r===!0)throw new ee(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WS(t){if(!oe.isDocumentKey(t))throw new ee(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HS(t){if(oe.isDocumentKey(t))throw new ee(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bf(t);throw new ee(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,BV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new h2;switch(n.type){case"gapi":const r=n.client;return new g2(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ee(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=BS.get(e);n&&(re("ComponentProvider","Removing Datastore"),BS.delete(e),n.terminate())}(this),Promise.resolve()}}function WV(t,e,n,r={}){var i;const s=(t=jn(t,xf))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Kg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,u;if(typeof r.mockUserToken=="string")o=r.mockUserToken,u=Vt.MOCK_USER;else{o=Ck(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ee(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vt(h)}t._authCredentials=new f2(new Ob(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class Xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class ji extends Xs{constructor(e,n,r){super(e,n,yf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new oe(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function HV(t,e,...n){if(t=Ze(t),Px("collection","path",e),t instanceof xf){const r=He.fromString(e,...n);return HS(r),new ji(t,null,r)}{if(!(t instanceof Gt||t instanceof ji))throw new ee(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return HS(r),new ji(t.firestore,null,r)}}function Nt(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=Db.R()),Px("doc","path",e),t instanceof xf){const r=He.fromString(e,...n);return WS(r),new Gt(t,null,new oe(r))}{if(!(t instanceof Gt||t instanceof ji))throw new ee(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return WS(r),new Gt(t.firestore,t instanceof ji?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new gx(this,"async_queue_retry"),this.Hc=()=>{const n=Tm();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=Tm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new Hr;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(e){if(!Lu(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(r=>{this.Qc=r,this.jc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.jc=!1,r))));return this.qc=n,n}enqueueAfterDelay(e,n,r){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const i=m0.createAndSchedule(this,e,n,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&de()}verifyOperationInProgress(){}async ta(){let e;do e=this.qc,await e;while(e!==this.qc)}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}function GS(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Hs extends xf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new YV,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Nx(this),this._firestoreClient.terminate()}}function GV(t,e){const n=typeof t=="object"?t:vv(),r=typeof t=="string"?t:e||"(default)",i=Qh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=bk("firestore");s&&WV(i,...s)}return i}function Cf(t){return t._firestoreClient||Nx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Nx(t){var e;const n=t._freezeSettings(),r=function(i,s,o,u){return new b2(i,s,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new LV(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(Xt.fromBase64String(e))}catch(n){throw new ee(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ia(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=/^__.*__$/;class KV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new $u(e,this.data,n,this.fieldTransforms)}}class Ax{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Df{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new Df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return _h(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(e.length===0)throw this.fa("Document fields must not be empty");if(Mx(this.ra)&&qV.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class QV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.Tt=r||Tf(e)}wa(e,n,r,i=!1){return new Df({ra:e,methodName:n,_a:r,path:Wt.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function k0(t){const e=t._freezeSettings(),n=Tf(t._databaseId);return new QV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XV(t,e,n,r,i,s={}){const o=t.wa(s.merge||s.mergeFields?2:0,e,n,i);b0("Data must be an object, but it was:",o,r);const u=Lx(r,o);let h,f;if(s.merge)h=new In(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const y=[];for(const _ of s.mergeFields){const S=ly(e,_,n);if(!o.contains(S))throw new ee(F.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);$x(y,S)||y.push(S)}h=new In(y),f=o.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,f=o.fieldTransforms;return new KV(new fn(u),h,f)}class Rf extends zu{_toFieldTransform(e){if(e.ra!==2)throw e.ra===1?e.fa(`${this._methodName}() can only appear at the top level of your update data`):e.fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rf}}function JV(t,e,n){return new Df({ra:3,_a:e.settings._a,methodName:t._methodName,ca:n},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class I0 extends zu{_toFieldTransform(e){return new Xb(e.path,new au)}isEqual(e){return e instanceof I0}}class ZV extends zu{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=JV(this,e,!0),r=this.ma.map(s=>_a(s,n)),i=new ta(r);return new Xb(e.path,i)}isEqual(e){return this===e}}function ez(t,e,n,r){const i=t.wa(1,e,n);b0("Data must be an object, but it was:",i,r);const s=[],o=fn.empty();Ks(r,(h,f)=>{const y=x0(e,h,n);f=Ze(f);const _=i.ha(y);if(f instanceof Rf)s.push(y);else{const S=_a(f,_);S!=null&&(s.push(y),o.set(y,S))}});const u=new In(s);return new Ax(o,u,i.fieldTransforms)}function tz(t,e,n,r,i,s){const o=t.wa(1,e,n),u=[ly(e,r,n)],h=[i];if(s.length%2!=0)throw new ee(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)u.push(ly(e,s[S])),h.push(s[S+1]);const f=[],y=fn.empty();for(let S=u.length-1;S>=0;--S)if(!$x(f,u[S])){const b=u[S];let R=h[S];R=Ze(R);const D=o.ha(b);if(R instanceof Rf)f.push(b);else{const $=_a(R,D);$!=null&&(f.push(b),y.set(b,$))}}const _=new In(f);return new Ax(y,_,o.fieldTransforms)}function nz(t,e,n,r=!1){return _a(n,t.wa(r?4:3,e))}function _a(t,e){if(Ux(t=Ze(t)))return b0("Unsupported field value:",e,t),Lx(t,e);if(t instanceof zu)return function(n,r){if(!Mx(r.ra))throw r.fa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&e.ra!==4)throw e.fa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let u=_a(o,r.la(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ze(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return W2(r.Tt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ct.fromDate(n);return{timestampValue:yh(r.Tt,i)}}if(n instanceof ct){const i=new ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yh(r.Tt,i)}}if(n instanceof T0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ia)return{bytesValue:lx(r.Tt,n._byteString)};if(n instanceof Gt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:a0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.fa(`Unsupported field value: ${bf(n)}`)}(t,e)}function Lx(t,e){const n={};return Rb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{const s=_a(i,e.ua(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ux(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof T0||t instanceof ia||t instanceof Gt||t instanceof zu)}function b0(t,e,n){if(!Ux(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=bf(n);throw r==="an object"?e.fa(t+" a custom object"):e.fa(t+" "+r)}}function ly(t,e,n){if((e=Ze(e))instanceof Of)return e._internalPath;if(typeof e=="string")return x0(t,e);throw _h("Field path arguments must be of type string or ",t,!1,void 0,n)}const rz=new RegExp("[~\\*/\\[\\]]");function x0(t,e,n){if(e.search(rz)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Of(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _h(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${r}`),o&&(h+=` in document ${i}`),h+=")"),new ee(F.INVALID_ARGUMENT,u+t+h)}function $x(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(C0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iz extends Fx{data(){return super.data()}}function C0(t,e){return typeof e=="string"?x0(t,e):e instanceof Of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O0{}class sz extends O0{}function oz(t,e,...n){let r=[];e instanceof O0&&r.push(e),r=r.concat(n),function(i){const s=i.filter(u=>u instanceof D0).length,o=i.filter(u=>u instanceof Pf).length;if(s>1||s>0&&o>0)throw new ee(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Pf extends sz{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pf(e,n,r)}_apply(e){const n=this._parse(e);return Vx(e._query,n),new Xs(e.firestore,e.converter,ey(e._query,n))}_parse(e){const n=k0(e.firestore);return function(i,s,o,u,h,f,y){let _;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ee(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){KS(y,f);const S=[];for(const b of y)S.push(qS(u,i,b));_={arrayValue:{values:S}}}else _=qS(u,i,y)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||KS(y,f),_=nz(o,s,y,f==="in"||f==="not-in");return pt.create(h,f,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function az(t,e,n){const r=e,i=C0("where",t);return Pf._create(i,r,n)}class D0 extends O0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new D0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const u of o)Vx(s,u),s=ey(s,u)}(e._query,n),new Xs(e.firestore,e.converter,ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qS(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new ee(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zb(e)&&n.indexOf("/")!==-1)throw new ee(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!oe.isDocumentKey(r))throw new ee(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _S(t,new oe(r))}if(n instanceof Gt)return _S(t,n._key);throw new ee(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(n)}.`)}function KS(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vx(t,e){if(e.isInequality()){const r=o0(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ee(F.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Vb(t);s!==null&&lz(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function lz(t,e,n){if(!n.isEqual(e))throw new ee(F.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class uz{convertValue(e,n="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw de()}}convertObject(e,n){const r={};return Ks(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new T0(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=Gi(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);ze(fx(r));const i=new iu(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||Zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zx extends Fx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(C0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sd extends zx{data(e={}){return super.data(e)}}class Bx{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sd(this._firestore,this._userDataWriter,r.key,r,new dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const u=new Sd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new dl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const u=new Sd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new dl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,f=-1;return o.type!==0&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),f=s.indexOf(o.doc.key)),{type:dz(o.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t){t=jn(t,Gt);const e=jn(t.firestore,Hs);return VV(Cf(e),t._key).then(n=>Yx(e,t,n))}class R0 extends uz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function fz(t){t=jn(t,Xs);const e=jn(t.firestore,Hs),n=Cf(e),r=new R0(e);return jx(t._query),zV(n,t._query).then(i=>new Bx(e,r,t,i))}function uy(t,e,n){t=jn(t,Gt);const r=jn(t.firestore,Hs),i=cz(t.converter,e,n);return Hx(r,[XV(k0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vr.none())])}function qn(t,e,n,...r){t=jn(t,Gt);const i=jn(t.firestore,Hs),s=k0(i);let o;return o=typeof(e=Ze(e))=="string"||e instanceof Of?tz(s,"updateDoc",t._key,e,n,r):ez(s,"updateDoc",t._key,e),Hx(i,[o.toMutation(t._key,vr.exists(!0))])}function Wx(t,...e){var n,r,i;t=Ze(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||GS(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(GS(e[o])){const _=e[o];e[o]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[o+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[o+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let h,f,y;if(t instanceof Gt)f=jn(t.firestore,Hs),y=yf(t._key.path),h={next:_=>{e[o]&&e[o](Yx(f,t,_))},error:e[o+1],complete:e[o+2]};else{const _=jn(t,Xs);f=jn(_.firestore,Hs),y=_._query;const S=new R0(f);h={next:b=>{e[o]&&e[o](new Bx(f,S,_,b))},error:e[o+1],complete:e[o+2]},jx(t._query)}return function(_,S,b,R){const D=new E0(R),$=new _0(S,D,b);return _.asyncQueue.enqueueAndForget(async()=>y0(await wh(_),$)),()=>{D.bc(),_.asyncQueue.enqueueAndForget(async()=>v0(await wh(_),$))}}(Cf(f),y,u,h)}function Hx(t,e){return function(n,r){const i=new Hr;return n.asyncQueue.enqueueAndForget(async()=>IV(await jV(n),r,i)),i.promise}(Cf(t),e)}function Yx(t,e,n){const r=n.docs.get(e._key),i=new R0(t);return new zx(t,i,e._key,r,new dl(n.hasPendingWrites,n.fromCache),e.converter)}function Sh(){return new I0("serverTimestamp")}function QS(...t){return new ZV("arrayUnion",t)}(function(t,e=!0){(function(n){ya=n})(ha),Fs(new Hi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Hs(new p2(n.getProvider("auth-internal")),new v2(n.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(u.options.projectId,h)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),mr(gS,"3.9.0",t),mr(gS,"3.9.0","esm2017")})();var pz="firebase",mz="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(pz,mz,"app");const gz={apiKey:"AIzaSyBh2He9dVcF5IzPA_rNvNTxeWFVBx4c3eg",authDomain:"react-chat-84633.firebaseapp.com",projectId:"react-chat-84633",storageBucket:"react-chat-84633.appspot.com",messagingSenderId:"973575152003",appId:"1:973575152003:web:a7fbd4f3cc6b31958e96b6"},Gx=Rk(gz),Nf=uF(Gx),kt=GV(Gx),P0=eU();var cy={},yz={get exports(){return cy},set exports(t){cy=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var u=n.apply(null,s);u&&r.push(u)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var h in s)e.call(s,h)&&s[h]&&r.push(h)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(yz);const un=cy;var Vi={},vz={get exports(){return Vi},set exports(t){Vi=t}},wz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_z=wz,Sz=_z;function qx(){}function Kx(){}Kx.resetWarningCache=qx;var Ez=function(){function t(r,i,s,o,u,h){if(h!==Sz){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Kx,resetWarningCache:qx};return n.PropTypes=n,n};vz.exports=Ez();const Tz={type:Vi.string,tooltip:Vi.bool,as:Vi.elementType},Af=N.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>U(t,{...i,ref:s,className:un(e,`${n}-${r?"tooltip":"feedback"}`)}));Af.displayName="Feedback";Af.propTypes=Tz;const ni=N.createContext({}),kz=["xxl","xl","lg","md","sm","xs"],Iz="xs",N0=N.createContext({prefixes:{},breakpoints:kz,minBreakpoint:Iz});function On(t,e){const{prefixes:n}=N.useContext(N0);return t||n[e]||e}function bz(){const{breakpoints:t}=N.useContext(N0);return t}function xz(){const{minBreakpoint:t}=N.useContext(N0);return t}const A0=N.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...u},h)=>{const{controlId:f}=N.useContext(ni);return e=On(e,"form-check-input"),U(o,{...u,ref:h,type:r,id:t||f,className:un(n,e,i&&"is-valid",s&&"is-invalid")})});A0.displayName="FormCheckInput";const Eh=N.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=N.useContext(ni);return t=On(t,"form-check-label"),U("label",{...r,ref:i,htmlFor:n||s,className:un(e,t)})});Eh.displayName="FormCheckLabel";function Cz(t,e){return N.Children.toArray(t).some(n=>N.isValidElement(n)&&n.type===e)}const Qx=N.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:u=!1,feedbackTooltip:h=!1,feedback:f,feedbackType:y,className:_,style:S,title:b="",type:R="checkbox",label:D,children:$,as:I="input",...T},x)=>{e=On(e,"form-check"),n=On(n,"form-switch");const{controlId:A}=N.useContext(ni),j=N.useMemo(()=>({controlId:t||A}),[A,t]),Y=!$&&D!=null&&D!==!1||Cz($,Eh),K=U(A0,{...T,type:R==="switch"?"checkbox":R,ref:x,isValid:o,isInvalid:u,disabled:s,as:I});return U(ni.Provider,{value:j,children:U("div",{style:S,className:un(_,Y&&e,r&&`${e}-inline`,i&&`${e}-reverse`,R==="switch"&&n),children:$||Pe(hR,{children:[K,Y&&U(Eh,{title:b,children:D}),f&&U(Af,{type:y,tooltip:h,children:f})]})})})});Qx.displayName="FormCheck";const Th=Object.assign(Qx,{Input:A0,Label:Eh}),Xx=N.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:u=!1,plaintext:h,readOnly:f,as:y="input",..._},S)=>{const{controlId:b}=N.useContext(ni);t=On(t,"form-control");let R;return h?R={[`${t}-plaintext`]:!0}:R={[t]:!0,[`${t}-${n}`]:n},U(y,{..._,type:e,size:r,ref:S,readOnly:f,id:i||b,className:un(s,R,o&&"is-valid",u&&"is-invalid",e==="color"&&`${t}-color`)})});Xx.displayName="FormControl";const Oz=Object.assign(Xx,{Feedback:Af});var Dz=/-(.)/g;function Rz(t){return t.replace(Dz,function(e,n){return n.toUpperCase()})}const Pz=t=>t[0].toUpperCase()+Rz(t).slice(1);function Nz(t,{displayName:e=Pz(t),Component:n,defaultProps:r}={}){const i=N.forwardRef(({className:s,bsPrefix:o,as:u=n||"div",...h},f)=>{const y=On(o,t);return U(u,{ref:f,className:un(s,y),...h})});return i.defaultProps=r,i.displayName=e,i}const Az=Nz("form-floating"),M0=N.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=N.useMemo(()=>({controlId:t}),[t]);return U(ni.Provider,{value:i,children:U(e,{...n,ref:r})})});M0.displayName="FormGroup";function Mz({as:t,bsPrefix:e,className:n,...r}){e=On(e,"col");const i=bz(),s=xz(),o=[],u=[];return i.forEach(h=>{const f=r[h];delete r[h];let y,_,S;typeof f=="object"&&f!=null?{span:y,offset:_,order:S}=f:y=f;const b=h!==s?`-${h}`:"";y&&o.push(y===!0?`${e}${b}`:`${e}${b}-${y}`),S!=null&&u.push(`order${b}-${S}`),_!=null&&u.push(`offset${b}-${_}`)}),[{...r,className:un(n,...o,...u)},{as:t,bsPrefix:e,spans:o}]}const Jx=N.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=Mz(t);return U(i,{...r,ref:e,className:un(n,!o.length&&s)})});Jx.displayName="Col";const Lz={column:!1,visuallyHidden:!1},L0=N.forwardRef(({as:t="label",bsPrefix:e,column:n,visuallyHidden:r,className:i,htmlFor:s,...o},u)=>{const{controlId:h}=N.useContext(ni);e=On(e,"form-label");let f="col-form-label";typeof n=="string"&&(f=`${f} ${f}-${n}`);const y=un(i,e,r&&"visually-hidden",n&&f);return s=s||h,n?U(Jx,{ref:u,as:"label",className:y,htmlFor:s,...o}):U(t,{ref:u,className:y,htmlFor:s,...o})});L0.displayName="FormLabel";L0.defaultProps=Lz;const Zx=N.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=N.useContext(ni);return t=On(t,"form-range"),U("input",{...r,type:"range",ref:i,className:un(e,t),id:n||s})});Zx.displayName="FormRange";const eC=N.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...u},h)=>{const{controlId:f}=N.useContext(ni);return t=On(t,"form-select"),U("select",{...u,size:n,ref:h,className:un(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||f})});eC.displayName="FormSelect";const tC=N.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=On(t,"form-text"),U(n,{...i,ref:s,className:un(e,t,r&&"text-muted")})));tC.displayName="FormText";const nC=N.forwardRef((t,e)=>U(Th,{...t,ref:e,type:"switch"}));nC.displayName="Switch";const Uz=Object.assign(nC,{Input:Th.Input,Label:Th.Label}),rC=N.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=On(t,"form-floating"),Pe(M0,{ref:o,className:un(e,t),controlId:r,...s,children:[n,U("label",{htmlFor:r,children:i})]})));rC.displayName="FloatingLabel";const $z={_ref:Vi.any,validated:Vi.bool,as:Vi.elementType},U0=N.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>U(n,{...r,ref:i,className:un(t,e&&"was-validated")}));U0.displayName="Form";U0.propTypes=$z;const En=Object.assign(U0,{Group:M0,Control:Oz,Floating:Az,Check:Th,Switch:Uz,Label:L0,Text:tC,Range:Zx,Select:eC,FloatingLabel:rC}),Fz=["as","disabled"];function jz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vz(t){return!t||t.trim()==="#"}function iC({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:u=0,type:h}){t||(n!=null||r!=null||i!=null?t="a":t="button");const f={tagName:t};if(t==="button")return[{type:h||"button",disabled:e},f];const y=S=>{if((e||t==="a"&&Vz(n))&&S.preventDefault(),e){S.stopPropagation();return}o==null||o(S)},_=S=>{S.key===" "&&(S.preventDefault(),y(S))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:u,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:y,onKeyDown:_},f]}const zz=N.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=jz(t,Fz);const[s,{tagName:o}]=iC(Object.assign({tagName:n,disabled:r},i));return U(o,Object.assign({},i,s,{ref:e}))});zz.displayName="Button";const Bz={variant:"primary",active:!1,disabled:!1},sa=N.forwardRef(({as:t,bsPrefix:e,variant:n,size:r,active:i,className:s,...o},u)=>{const h=On(e,"btn"),[f,{tagName:y}]=iC({tagName:t,...o});return U(y,{...f,...o,ref:u,className:un(s,h,i&&"active",n&&`${h}-${n}`,r&&`${h}-${r}`,o.href&&o.disabled&&"disabled")})});sa.displayName="Button";sa.defaultProps=Bz;const Wz=()=>{const[t,e]=N.useState(!1),n=qh();return U("div",{className:"SignUpContainer row justify-content-center align-items-center h-100 mx-0 my-0",children:Pe(En,{className:"SignUpForm col-4 d-flex flex-column align-items-center py-5",onSubmit:async i=>{i.preventDefault();const s=i.target[0].value,o=i.target[1].value,u=i.target[2].value,h=kv(P0,"images/default-avatar.jpg");try{const f=await BU(Nf,o,u);await uy(Nt(kt,"usersChats",f.user.uid),{}),th(h).then(async y=>{await uy(Nt(kt,"users",f.user.uid),{uid:f.user.uid,displayName:s,email:o,password:u,photoURL:y}),await gI(f.user,{displayName:s,photoURL:y})}),n("/React-Chat/Home")}catch(f){e(!0),console.log(f)}},children:[U("h1",{className:"SignUpHeader",children:"React Chat"}),U("h5",{className:"SignUpSubheader",children:"Sign Up"}),Pe(En.Group,{children:[U(En.Control,{className:"SignUpDisplayNameControl my-3",type:"text",placeholder:"Display Name"}),U(En.Control,{className:"SignUpEmailControl my-3",type:"email",placeholder:"Email"}),U(En.Control,{className:"SignUpPasswordControl my-3",type:"password",placeholder:"Password"})]}),t&&U("p",{className:"ErrorMsg",children:"Something went wrong..."}),U(sa,{className:"my-3",type:"submit",children:"Sign up"}),Pe("div",{className:"d-flex justify-content-center w-100",children:[U("p",{className:"mb-0 me-2",children:"You already have an account? "}),U(Sk,{to:"/React-Chat",children:"Log in"})]})]})})},Hz=()=>{const[t,e]=N.useState(!1),n=qh();return U("div",{className:"LogInContainer row justify-content-center align-items-center h-100 mx-0 my-0",children:Pe(En,{className:"LogInForm col-4 d-flex flex-column align-items-center py-5",onSubmit:async i=>{i.preventDefault();const s=i.target[0].value,o=i.target[1].value;try{await WU(Nf,s,o),n("/React-Chat/Home")}catch(u){e(!0),console.log(u)}},children:[U("h1",{className:"LogInHeader",children:"React Chat"}),U("h5",{className:"LogInSubheader",children:"Log In"}),Pe(En.Group,{children:[U(En.Control,{className:"LogInControl my-3",type:"text",placeholder:"Login"}),U(En.Control,{className:"LogInPasswordControl my-3",type:"password",placeholder:"Password"}),t&&U("p",{className:"ErrorMsg",children:"Something went wrong..."})]}),U(sa,{className:"my-3",type:"submit",children:"Sign In"}),Pe("div",{className:"d-flex justify-content-center w-100",children:[U("p",{className:"mb-0 me-2",children:"You don't have an account? "}),U(Sk,{to:"/React-Chat/SignUp",children:"Sign Up"})]})]})})},ts=N.createContext(),Yz=({children:t})=>{const[e,n]=N.useState({});return N.useEffect(()=>{const r=qU(Nf,i=>{n(i),console.log(i)});return()=>{r()}},[]),U(ts.Provider,{value:{currentUser:e},children:t})},Gz=({handleSidebarState:t})=>{const[e,n]=N.useState(""),[r,i]=N.useState(null),[s,o]=N.useState(!1),{currentUser:u}=N.useContext(ts),h=_=>{_.code=="Enter"&&f()},f=async()=>{const _=oz(HV(kt,"users"),az("displayName","==",e));try{(await fz(_)).forEach(b=>{i(b.data())})}catch{o(!0)}},y=async()=>{const _=u.uid>r.uid?u.uid+r.uid:r.uid+u.uid;try{(await hz(Nt(kt,"chats",_))).exists()||(await uy(Nt(kt,"chats",_),{message:[]}),await qn(Nt(kt,"usersChats",u.uid),{[_+".userInfo"]:{uid:r.uid,displayName:r.displayName,photoURL:r.photoURL},[_+".date"]:Sh()}),await qn(Nt(kt,"usersChats",r.uid),{[_+".userInfo"]:{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL},[_+".date"]:Sh()})),i(null),n("")}catch(S){console.log(S)}};return Pe("div",{className:"SidebarHeader d-flex",children:[Pe("div",{className:"Settings d-flex flex-column justify-content-center align-items-center",onClick:t,children:[U("span",{}),U("span",{}),U("span",{})]}),Pe("div",{className:"d-flex flex-column w-100",children:[U(En.Control,{className:"SidebarSearchControl",type:"text",placeholder:"Search",onChange:_=>{n(_.target.value)},onKeyDown:h,value:e}),s&&U("p",{children:"User not found..."}),r&&Pe("div",{className:"SidebarChat d-flex",onClick:y,children:[U("div",{className:"SidebarChatImgContainer d-flex justify-content-center align-items-center",children:U("img",{className:"UserAvatar",src:r.photoURL,alt:""})}),Pe("div",{className:"SidebarChatInfo d-flex flex-column w-100",children:[U("div",{className:"SidebarChatUsernameContainer d-flex justify-content-between",children:U("p",{className:"SidebarChatUsername",children:r.displayName})}),U("p",{className:"SidebarChatLastMsg",children:"Last Message Example"})]})]})]})]})},Sa=N.createContext(),qz=({children:t})=>{const{currentUser:e}=N.useContext(ts),n={chatID:"null",user:{}},r=(o,u)=>{switch(u.type){case"CHANGE_USER":return{user:u.payload,chatID:e.uid>u.payload.uid?e.uid+u.payload.uid:u.payload.uid+e.uid};default:return o}},[i,s]=N.useReducer(r,n);return U(Sa.Provider,{value:{data:i,dispatch:s},children:t})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var sC;function q(){return sC.apply(null,arguments)}function Kz(t){sC=t}function rr(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ps(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function be(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(be(t,e))return!1;return!0}function dn(t){return t===void 0}function ri(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Bu(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function oC(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function xi(t,e){for(var n in e)be(e,n)&&(t[n]=e[n]);return be(e,"toString")&&(t.toString=e.toString),be(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Tr(t,e,n,r){return DC(t,e,n,r,!0).utc()}function Qz(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ve(t){return t._pf==null&&(t._pf=Qz()),t._pf}var dy;Array.prototype.some?dy=Array.prototype.some:dy=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function F0(t){if(t._isValid==null){var e=ve(t),n=dy.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function Mf(t){var e=Tr(NaN);return t!=null?xi(ve(e),t):ve(e).userInvalidated=!0,e}var XS=q.momentProperties=[],km=!1;function j0(t,e){var n,r,i,s=XS.length;if(dn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),dn(e._i)||(t._i=e._i),dn(e._f)||(t._f=e._f),dn(e._l)||(t._l=e._l),dn(e._strict)||(t._strict=e._strict),dn(e._tzm)||(t._tzm=e._tzm),dn(e._isUTC)||(t._isUTC=e._isUTC),dn(e._offset)||(t._offset=e._offset),dn(e._pf)||(t._pf=ve(e)),dn(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=XS[n],i=e[r],dn(i)||(t[r]=i);return t}function Wu(t){j0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),km===!1&&(km=!0,q.updateOffset(this),km=!1)}function ir(t){return t instanceof Wu||t!=null&&t._isAMomentObject!=null}function aC(t){q.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Bn(t,e){var n=!0;return xi(function(){if(q.deprecationHandler!=null&&q.deprecationHandler(null,t),n){var r=[],i,s,o,u=arguments.length;for(s=0;s<u;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])be(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}aC(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var JS={};function lC(t,e){q.deprecationHandler!=null&&q.deprecationHandler(t,e),JS[t]||(aC(e),JS[t]=!0)}q.suppressDeprecationWarnings=!1;q.deprecationHandler=null;function kr(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Xz(t){var e,n;for(n in t)be(t,n)&&(e=t[n],kr(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function hy(t,e){var n=xi({},t),r;for(r in e)be(e,r)&&(Ps(t[r])&&Ps(e[r])?(n[r]={},xi(n[r],t[r]),xi(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)be(t,r)&&!be(e,r)&&Ps(t[r])&&(n[r]=xi({},n[r]));return n}function V0(t){t!=null&&this.set(t)}var fy;Object.keys?fy=Object.keys:fy=function(t){var e,n=[];for(e in t)be(t,e)&&n.push(e);return n};var Jz={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Zz(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return kr(r)?r.call(e,n):r}function Sr(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var z0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Jc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Im={},Fo={};function se(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Fo[t]=i),e&&(Fo[e[0]]=function(){return Sr(i.apply(this,arguments),e[1],e[2])}),n&&(Fo[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function eB(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function tB(t){var e=t.match(z0),n,r;for(n=0,r=e.length;n<r;n++)Fo[e[n]]?e[n]=Fo[e[n]]:e[n]=eB(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=kr(e[o])?e[o].call(i,t):e[o];return s}}function Ed(t,e){return t.isValid()?(e=uC(e,t.localeData()),Im[e]=Im[e]||tB(e),Im[e](t)):t.localeData().invalidDate()}function uC(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Jc.lastIndex=0;n>=0&&Jc.test(t);)t=t.replace(Jc,r),Jc.lastIndex=0,n-=1;return t}var nB={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function rB(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(z0).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var iB="Invalid date";function sB(){return this._invalidDate}var oB="%d",aB=/\d{1,2}/;function lB(t){return this._ordinal.replace("%d",t)}var uB={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function cB(t,e,n,r){var i=this._relativeTime[n];return kr(i)?i(t,e,n,r):i.replace(/%d/i,t)}function dB(t,e){var n=this._relativeTime[t>0?"future":"past"];return kr(n)?n(e):n.replace(/%s/i,e)}var Cl={};function Jt(t,e){var n=t.toLowerCase();Cl[n]=Cl[n+"s"]=Cl[e]=t}function Wn(t){return typeof t=="string"?Cl[t]||Cl[t.toLowerCase()]:void 0}function B0(t){var e={},n,r;for(r in t)be(t,r)&&(n=Wn(r),n&&(e[n]=t[r]));return e}var cC={};function Zt(t,e){cC[t]=e}function hB(t){var e=[],n;for(n in t)be(t,n)&&e.push({unit:n,priority:cC[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Lf(t){return t%4===0&&t%100!==0||t%400===0}function Un(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function we(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Un(e)),n}function Ea(t,e){return function(n){return n!=null?(dC(this,t,n),q.updateOffset(this,e),this):kh(this,t)}}function kh(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function dC(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Lf(t.year())&&t.month()===1&&t.date()===29?(n=we(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),zf(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function fB(t){return t=Wn(t),kr(this[t])?this[t]():this}function pB(t,e){if(typeof t=="object"){t=B0(t);var n=hB(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=Wn(t),kr(this[t]))return this[t](e);return this}var hC=/\d/,Pn=/\d\d/,fC=/\d{3}/,W0=/\d{4}/,Uf=/[+-]?\d{6}/,qe=/\d\d?/,pC=/\d\d\d\d?/,mC=/\d\d\d\d\d\d?/,$f=/\d{1,3}/,H0=/\d{1,4}/,Ff=/[+-]?\d{1,6}/,Ta=/\d+/,jf=/[+-]?\d+/,mB=/Z|[+-]\d\d:?\d\d/gi,Vf=/Z|[+-]\d\d(?::?\d\d)?/gi,gB=/[+-]?\d+(\.\d{1,3})?/,Hu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ih;Ih={};function J(t,e,n){Ih[t]=kr(e)?e:function(r,i){return r&&n?n:e}}function yB(t,e){return be(Ih,t)?Ih[t](e._strict,e._locale):new RegExp(vB(t))}function vB(t){return Sn(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function Sn(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var py={};function Me(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),ri(e)&&(r=function(s,o){o[e]=we(s)}),i=t.length,n=0;n<i;n++)py[t[n]]=r}function Yu(t,e){Me(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function wB(t,e,n){e!=null&&be(py,t)&&py[t](e,n._a,n,t)}var qt=0,zr=1,dr=2,vt=3,Xn=4,Br=5,Is=6,_B=7,SB=8;function EB(t,e){return(t%e+e)%e}var lt;Array.prototype.indexOf?lt=Array.prototype.indexOf:lt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function zf(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=EB(e,12);return t+=(e-n)/12,n===1?Lf(t)?29:28:31-n%7%2}se("M",["MM",2],"Mo",function(){return this.month()+1});se("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});se("MMMM",0,0,function(t){return this.localeData().months(this,t)});Jt("month","M");Zt("month",8);J("M",qe);J("MM",qe,Pn);J("MMM",function(t,e){return e.monthsShortRegex(t)});J("MMMM",function(t,e){return e.monthsRegex(t)});Me(["M","MM"],function(t,e){e[zr]=we(t)-1});Me(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[zr]=i:ve(n).invalidMonth=t});var TB="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gC="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yC=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,kB=Hu,IB=Hu;function bB(t,e){return t?rr(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||yC).test(e)?"format":"standalone"][t.month()]:rr(this._months)?this._months:this._months.standalone}function xB(t,e){return t?rr(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[yC.test(e)?"format":"standalone"][t.month()]:rr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function CB(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Tr([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=lt.call(this._shortMonthsParse,o),i!==-1?i:null):(i=lt.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=lt.call(this._shortMonthsParse,o),i!==-1?i:(i=lt.call(this._longMonthsParse,o),i!==-1?i:null)):(i=lt.call(this._longMonthsParse,o),i!==-1?i:(i=lt.call(this._shortMonthsParse,o),i!==-1?i:null))}function OB(t,e,n){var r,i,s;if(this._monthsParseExact)return CB.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Tr([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function vC(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=we(e);else if(e=t.localeData().monthsParse(e),!ri(e))return t}return n=Math.min(t.date(),zf(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function wC(t){return t!=null?(vC(this,t),q.updateOffset(this,!0),this):kh(this,"Month")}function DB(){return zf(this.year(),this.month())}function RB(t){return this._monthsParseExact?(be(this,"_monthsRegex")||_C.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(be(this,"_monthsShortRegex")||(this._monthsShortRegex=kB),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function PB(t){return this._monthsParseExact?(be(this,"_monthsRegex")||_C.call(this),t?this._monthsStrictRegex:this._monthsRegex):(be(this,"_monthsRegex")||(this._monthsRegex=IB),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function _C(){function t(o,u){return u.length-o.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=Tr([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=Sn(e[i]),n[i]=Sn(n[i]);for(i=0;i<24;i++)r[i]=Sn(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}se("Y",0,0,function(){var t=this.year();return t<=9999?Sr(t,4):"+"+t});se(0,["YY",2],0,function(){return this.year()%100});se(0,["YYYY",4],0,"year");se(0,["YYYYY",5],0,"year");se(0,["YYYYYY",6,!0],0,"year");Jt("year","y");Zt("year",1);J("Y",jf);J("YY",qe,Pn);J("YYYY",H0,W0);J("YYYYY",Ff,Uf);J("YYYYYY",Ff,Uf);Me(["YYYYY","YYYYYY"],qt);Me("YYYY",function(t,e){e[qt]=t.length===2?q.parseTwoDigitYear(t):we(t)});Me("YY",function(t,e){e[qt]=q.parseTwoDigitYear(t)});Me("Y",function(t,e){e[qt]=parseInt(t,10)});function Ol(t){return Lf(t)?366:365}q.parseTwoDigitYear=function(t){return we(t)+(we(t)>68?1900:2e3)};var SC=Ea("FullYear",!0);function NB(){return Lf(this.year())}function AB(t,e,n,r,i,s,o){var u;return t<100&&t>=0?(u=new Date(t+400,e,n,r,i,s,o),isFinite(u.getFullYear())&&u.setFullYear(t)):u=new Date(t,e,n,r,i,s,o),u}function uu(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function bh(t,e,n){var r=7+e-n,i=(7+uu(t,0,r).getUTCDay()-e)%7;return-i+r-1}function EC(t,e,n,r,i){var s=(7+n-r)%7,o=bh(t,r,i),u=1+7*(e-1)+s+o,h,f;return u<=0?(h=t-1,f=Ol(h)+u):u>Ol(t)?(h=t+1,f=u-Ol(t)):(h=t,f=u),{year:h,dayOfYear:f}}function cu(t,e,n){var r=bh(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+Yr(o,e,n)):i>Yr(t.year(),e,n)?(s=i-Yr(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function Yr(t,e,n){var r=bh(t,e,n),i=bh(t+1,e,n);return(Ol(t)-r+i)/7}se("w",["ww",2],"wo","week");se("W",["WW",2],"Wo","isoWeek");Jt("week","w");Jt("isoWeek","W");Zt("week",5);Zt("isoWeek",5);J("w",qe);J("ww",qe,Pn);J("W",qe);J("WW",qe,Pn);Yu(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=we(t)});function MB(t){return cu(t,this._week.dow,this._week.doy).week}var LB={dow:0,doy:6};function UB(){return this._week.dow}function $B(){return this._week.doy}function FB(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function jB(t){var e=cu(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}se("d",0,"do","day");se("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});se("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});se("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});se("e",0,0,"weekday");se("E",0,0,"isoWeekday");Jt("day","d");Jt("weekday","e");Jt("isoWeekday","E");Zt("day",11);Zt("weekday",11);Zt("isoWeekday",11);J("d",qe);J("e",qe);J("E",qe);J("dd",function(t,e){return e.weekdaysMinRegex(t)});J("ddd",function(t,e){return e.weekdaysShortRegex(t)});J("dddd",function(t,e){return e.weekdaysRegex(t)});Yu(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:ve(n).invalidWeekday=t});Yu(["d","e","E"],function(t,e,n,r){e[r]=we(t)});function VB(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function zB(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Y0(t,e){return t.slice(e,7).concat(t.slice(0,e))}var BB="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),TC="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),WB="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),HB=Hu,YB=Hu,GB=Hu;function qB(t,e){var n=rr(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Y0(n,this._week.dow):t?n[t.day()]:n}function KB(t){return t===!0?Y0(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function QB(t){return t===!0?Y0(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function XB(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Tr([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=lt.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=lt.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=lt.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=lt.call(this._weekdaysParse,o),i!==-1||(i=lt.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=lt.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=lt.call(this._shortWeekdaysParse,o),i!==-1||(i=lt.call(this._weekdaysParse,o),i!==-1)?i:(i=lt.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=lt.call(this._minWeekdaysParse,o),i!==-1||(i=lt.call(this._weekdaysParse,o),i!==-1)?i:(i=lt.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function JB(t,e,n){var r,i,s;if(this._weekdaysParseExact)return XB.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Tr([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function ZB(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=VB(t,this.localeData()),this.add(t-e,"d")):e}function e3(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function t3(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=zB(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function n3(t){return this._weekdaysParseExact?(be(this,"_weekdaysRegex")||G0.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(be(this,"_weekdaysRegex")||(this._weekdaysRegex=HB),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function r3(t){return this._weekdaysParseExact?(be(this,"_weekdaysRegex")||G0.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(be(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=YB),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function i3(t){return this._weekdaysParseExact?(be(this,"_weekdaysRegex")||G0.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(be(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=GB),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function G0(){function t(y,_){return _.length-y.length}var e=[],n=[],r=[],i=[],s,o,u,h,f;for(s=0;s<7;s++)o=Tr([2e3,1]).day(s),u=Sn(this.weekdaysMin(o,"")),h=Sn(this.weekdaysShort(o,"")),f=Sn(this.weekdays(o,"")),e.push(u),n.push(h),r.push(f),i.push(u),i.push(h),i.push(f);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function q0(){return this.hours()%12||12}function s3(){return this.hours()||24}se("H",["HH",2],0,"hour");se("h",["hh",2],0,q0);se("k",["kk",2],0,s3);se("hmm",0,0,function(){return""+q0.apply(this)+Sr(this.minutes(),2)});se("hmmss",0,0,function(){return""+q0.apply(this)+Sr(this.minutes(),2)+Sr(this.seconds(),2)});se("Hmm",0,0,function(){return""+this.hours()+Sr(this.minutes(),2)});se("Hmmss",0,0,function(){return""+this.hours()+Sr(this.minutes(),2)+Sr(this.seconds(),2)});function kC(t,e){se(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}kC("a",!0);kC("A",!1);Jt("hour","h");Zt("hour",13);function IC(t,e){return e._meridiemParse}J("a",IC);J("A",IC);J("H",qe);J("h",qe);J("k",qe);J("HH",qe,Pn);J("hh",qe,Pn);J("kk",qe,Pn);J("hmm",pC);J("hmmss",mC);J("Hmm",pC);J("Hmmss",mC);Me(["H","HH"],vt);Me(["k","kk"],function(t,e,n){var r=we(t);e[vt]=r===24?0:r});Me(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Me(["h","hh"],function(t,e,n){e[vt]=we(t),ve(n).bigHour=!0});Me("hmm",function(t,e,n){var r=t.length-2;e[vt]=we(t.substr(0,r)),e[Xn]=we(t.substr(r)),ve(n).bigHour=!0});Me("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[vt]=we(t.substr(0,r)),e[Xn]=we(t.substr(r,2)),e[Br]=we(t.substr(i)),ve(n).bigHour=!0});Me("Hmm",function(t,e,n){var r=t.length-2;e[vt]=we(t.substr(0,r)),e[Xn]=we(t.substr(r))});Me("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[vt]=we(t.substr(0,r)),e[Xn]=we(t.substr(r,2)),e[Br]=we(t.substr(i))});function o3(t){return(t+"").toLowerCase().charAt(0)==="p"}var a3=/[ap]\.?m?\.?/i,l3=Ea("Hours",!0);function u3(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var bC={calendar:Jz,longDateFormat:nB,invalidDate:iB,ordinal:oB,dayOfMonthOrdinalParse:aB,relativeTime:uB,months:TB,monthsShort:gC,week:LB,weekdays:BB,weekdaysMin:WB,weekdaysShort:TC,meridiemParse:a3},Qe={},Za={},du;function c3(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function ZS(t){return t&&t.toLowerCase().replace("_","-")}function d3(t){for(var e=0,n,r,i,s;e<t.length;){for(s=ZS(t[e]).split("-"),n=s.length,r=ZS(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Bf(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&c3(s,r)>=n-1)break;n--}e++}return du}function h3(t){return t.match("^[^/\\\\]*$")!=null}function Bf(t){var e=null,n;if(Qe[t]===void 0&&typeof Id<"u"&&Id&&Id.exports&&h3(t))try{e=du._abbr,n=require,n("./locale/"+t),zi(e)}catch{Qe[t]=null}return Qe[t]}function zi(t,e){var n;return t&&(dn(e)?n=si(t):n=K0(t,e),n?du=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),du._abbr}function K0(t,e){if(e!==null){var n,r=bC;if(e.abbr=t,Qe[t]!=null)lC("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Qe[t]._config;else if(e.parentLocale!=null)if(Qe[e.parentLocale]!=null)r=Qe[e.parentLocale]._config;else if(n=Bf(e.parentLocale),n!=null)r=n._config;else return Za[e.parentLocale]||(Za[e.parentLocale]=[]),Za[e.parentLocale].push({name:t,config:e}),null;return Qe[t]=new V0(hy(r,e)),Za[t]&&Za[t].forEach(function(i){K0(i.name,i.config)}),zi(t),Qe[t]}else return delete Qe[t],null}function f3(t,e){if(e!=null){var n,r,i=bC;Qe[t]!=null&&Qe[t].parentLocale!=null?Qe[t].set(hy(Qe[t]._config,e)):(r=Bf(t),r!=null&&(i=r._config),e=hy(i,e),r==null&&(e.abbr=t),n=new V0(e),n.parentLocale=Qe[t],Qe[t]=n),zi(t)}else Qe[t]!=null&&(Qe[t].parentLocale!=null?(Qe[t]=Qe[t].parentLocale,t===zi()&&zi(t)):Qe[t]!=null&&delete Qe[t]);return Qe[t]}function si(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return du;if(!rr(t)){if(e=Bf(t),e)return e;t=[t]}return d3(t)}function p3(){return fy(Qe)}function Q0(t){var e,n=t._a;return n&&ve(t).overflow===-2&&(e=n[zr]<0||n[zr]>11?zr:n[dr]<1||n[dr]>zf(n[qt],n[zr])?dr:n[vt]<0||n[vt]>24||n[vt]===24&&(n[Xn]!==0||n[Br]!==0||n[Is]!==0)?vt:n[Xn]<0||n[Xn]>59?Xn:n[Br]<0||n[Br]>59?Br:n[Is]<0||n[Is]>999?Is:-1,ve(t)._overflowDayOfYear&&(e<qt||e>dr)&&(e=dr),ve(t)._overflowWeeks&&e===-1&&(e=_B),ve(t)._overflowWeekday&&e===-1&&(e=SB),ve(t).overflow=e),t}var m3=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,g3=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,y3=/Z|[+-]\d\d(?::?\d\d)?/,Zc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],bm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],v3=/^\/?Date\((-?\d+)/i,w3=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_3={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function xC(t){var e,n,r=t._i,i=m3.exec(r)||g3.exec(r),s,o,u,h,f=Zc.length,y=bm.length;if(i){for(ve(t).iso=!0,e=0,n=f;e<n;e++)if(Zc[e][1].exec(i[1])){o=Zc[e][0],s=Zc[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=y;e<n;e++)if(bm[e][1].exec(i[3])){u=(i[2]||" ")+bm[e][0];break}if(u==null){t._isValid=!1;return}}if(!s&&u!=null){t._isValid=!1;return}if(i[4])if(y3.exec(i[4]))h="Z";else{t._isValid=!1;return}t._f=o+(u||"")+(h||""),J0(t)}else t._isValid=!1}function S3(t,e,n,r,i,s){var o=[E3(t),gC.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function E3(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function T3(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function k3(t,e,n){if(t){var r=TC.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return ve(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function I3(t,e,n){if(t)return _3[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function CC(t){var e=w3.exec(T3(t._i)),n;if(e){if(n=S3(e[4],e[3],e[2],e[5],e[6],e[7]),!k3(e[1],n,t))return;t._a=n,t._tzm=I3(e[8],e[9],e[10]),t._d=uu.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ve(t).rfc2822=!0}else t._isValid=!1}function b3(t){var e=v3.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(xC(t),t._isValid===!1)delete t._isValid;else return;if(CC(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:q.createFromInputFallback(t)}q.createFromInputFallback=Bn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function fo(t,e,n){return t??e??n}function x3(t){var e=new Date(q.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function X0(t){var e,n,r=[],i,s,o;if(!t._d){for(i=x3(t),t._w&&t._a[dr]==null&&t._a[zr]==null&&C3(t),t._dayOfYear!=null&&(o=fo(t._a[qt],i[qt]),(t._dayOfYear>Ol(o)||t._dayOfYear===0)&&(ve(t)._overflowDayOfYear=!0),n=uu(o,0,t._dayOfYear),t._a[zr]=n.getUTCMonth(),t._a[dr]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[vt]===24&&t._a[Xn]===0&&t._a[Br]===0&&t._a[Is]===0&&(t._nextDay=!0,t._a[vt]=0),t._d=(t._useUTC?uu:AB).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[vt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(ve(t).weekdayMismatch=!0)}}function C3(t){var e,n,r,i,s,o,u,h,f;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=fo(e.GG,t._a[qt],cu(Ge(),1,4).year),r=fo(e.W,1),i=fo(e.E,1),(i<1||i>7)&&(h=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,f=cu(Ge(),s,o),n=fo(e.gg,t._a[qt],f.year),r=fo(e.w,f.week),e.d!=null?(i=e.d,(i<0||i>6)&&(h=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(h=!0)):i=s),r<1||r>Yr(n,s,o)?ve(t)._overflowWeeks=!0:h!=null?ve(t)._overflowWeekday=!0:(u=EC(n,r,i,s,o),t._a[qt]=u.year,t._dayOfYear=u.dayOfYear)}q.ISO_8601=function(){};q.RFC_2822=function(){};function J0(t){if(t._f===q.ISO_8601){xC(t);return}if(t._f===q.RFC_2822){CC(t);return}t._a=[],ve(t).empty=!0;var e=""+t._i,n,r,i,s,o,u=e.length,h=0,f,y;for(i=uC(t._f,t._locale).match(z0)||[],y=i.length,n=0;n<y;n++)s=i[n],r=(e.match(yB(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&ve(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),h+=r.length),Fo[s]?(r?ve(t).empty=!1:ve(t).unusedTokens.push(s),wB(s,r,t)):t._strict&&!r&&ve(t).unusedTokens.push(s);ve(t).charsLeftOver=u-h,e.length>0&&ve(t).unusedInput.push(e),t._a[vt]<=12&&ve(t).bigHour===!0&&t._a[vt]>0&&(ve(t).bigHour=void 0),ve(t).parsedDateParts=t._a.slice(0),ve(t).meridiem=t._meridiem,t._a[vt]=O3(t._locale,t._a[vt],t._meridiem),f=ve(t).era,f!==null&&(t._a[qt]=t._locale.erasConvertYear(f,t._a[qt])),X0(t),Q0(t)}function O3(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function D3(t){var e,n,r,i,s,o,u=!1,h=t._f.length;if(h===0){ve(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<h;i++)s=0,o=!1,e=j0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],J0(e),F0(e)&&(o=!0),s+=ve(e).charsLeftOver,s+=ve(e).unusedTokens.length*10,ve(e).score=s,u?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(u=!0));xi(t,n||e)}function R3(t){if(!t._d){var e=B0(t._i),n=e.day===void 0?e.date:e.day;t._a=oC([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),X0(t)}}function P3(t){var e=new Wu(Q0(OC(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function OC(t){var e=t._i,n=t._f;return t._locale=t._locale||si(t._l),e===null||n===void 0&&e===""?Mf({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),ir(e)?new Wu(Q0(e)):(Bu(e)?t._d=e:rr(n)?D3(t):n?J0(t):N3(t),F0(t)||(t._d=null),t))}function N3(t){var e=t._i;dn(e)?t._d=new Date(q.now()):Bu(e)?t._d=new Date(e.valueOf()):typeof e=="string"?b3(t):rr(e)?(t._a=oC(e.slice(0),function(n){return parseInt(n,10)}),X0(t)):Ps(e)?R3(t):ri(e)?t._d=new Date(e):q.createFromInputFallback(t)}function DC(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ps(t)&&$0(t)||rr(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,P3(s)}function Ge(t,e,n,r){return DC(t,e,n,r,!1)}var A3=Bn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ge.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Mf()}),M3=Bn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ge.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Mf()});function RC(t,e){var n,r;if(e.length===1&&rr(e[0])&&(e=e[0]),!e.length)return Ge();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function L3(){var t=[].slice.call(arguments,0);return RC("isBefore",t)}function U3(){var t=[].slice.call(arguments,0);return RC("isAfter",t)}var $3=function(){return Date.now?Date.now():+new Date},el=["year","quarter","month","week","day","hour","minute","second","millisecond"];function F3(t){var e,n=!1,r,i=el.length;for(e in t)if(be(t,e)&&!(lt.call(el,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[el[r]]){if(n)return!1;parseFloat(t[el[r]])!==we(t[el[r]])&&(n=!0)}return!0}function j3(){return this._isValid}function V3(){return sr(NaN)}function Wf(t){var e=B0(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,u=e.hour||0,h=e.minute||0,f=e.second||0,y=e.millisecond||0;this._isValid=F3(e),this._milliseconds=+y+f*1e3+h*6e4+u*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=si(),this._bubble()}function Td(t){return t instanceof Wf}function my(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function z3(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&we(t[o])!==we(e[o]))&&s++;return s+i}function PC(t,e){se(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Sr(~~(n/60),2)+e+Sr(~~n%60,2)})}PC("Z",":");PC("ZZ","");J("Z",Vf);J("ZZ",Vf);Me(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Z0(Vf,t)});var B3=/([\+\-]|\d\d)/gi;function Z0(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(B3)||["-",0,0],s=+(i[1]*60)+we(i[2]),s===0?0:i[0]==="+"?s:-s)}function ew(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(ir(t)||Bu(t)?t.valueOf():Ge(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),q.updateOffset(n,!1),n):Ge(t).local()}function gy(t){return-Math.round(t._d.getTimezoneOffset())}q.updateOffset=function(){};function W3(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Z0(Vf,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=gy(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?MC(this,sr(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,q.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:gy(this)}function H3(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Y3(t){return this.utcOffset(0,t)}function G3(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(gy(this),"m")),this}function q3(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Z0(mB,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function K3(t){return this.isValid()?(t=t?Ge(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Q3(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function X3(){if(!dn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return j0(t,this),t=OC(t),t._a?(e=t._isUTC?Tr(t._a):Ge(t._a),this._isDSTShifted=this.isValid()&&z3(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function J3(){return this.isValid()?!this._isUTC:!1}function Z3(){return this.isValid()?this._isUTC:!1}function NC(){return this.isValid()?this._isUTC&&this._offset===0:!1}var e4=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,t4=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function sr(t,e){var n=t,r=null,i,s,o;return Td(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ri(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=e4.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:we(r[dr])*i,h:we(r[vt])*i,m:we(r[Xn])*i,s:we(r[Br])*i,ms:we(my(r[Is]*1e3))*i}):(r=t4.exec(t))?(i=r[1]==="-"?-1:1,n={y:ms(r[2],i),M:ms(r[3],i),w:ms(r[4],i),d:ms(r[5],i),h:ms(r[6],i),m:ms(r[7],i),s:ms(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=n4(Ge(n.from),Ge(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new Wf(n),Td(t)&&be(t,"_locale")&&(s._locale=t._locale),Td(t)&&be(t,"_isValid")&&(s._isValid=t._isValid),s}sr.fn=Wf.prototype;sr.invalid=V3;function ms(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function eE(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function n4(t,e){var n;return t.isValid()&&e.isValid()?(e=ew(e,t),t.isBefore(e)?n=eE(t,e):(n=eE(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function AC(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(lC(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=sr(n,r),MC(this,i,t),this}}function MC(t,e,n,r){var i=e._milliseconds,s=my(e._days),o=my(e._months);t.isValid()&&(r=r??!0,o&&vC(t,kh(t,"Month")+o*n),s&&dC(t,"Date",kh(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&q.updateOffset(t,s||o))}var r4=AC(1,"add"),i4=AC(-1,"subtract");function LC(t){return typeof t=="string"||t instanceof String}function s4(t){return ir(t)||Bu(t)||LC(t)||ri(t)||a4(t)||o4(t)||t===null||t===void 0}function o4(t){var e=Ps(t)&&!$0(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||be(t,s);return e&&n}function a4(t){var e=rr(t),n=!1;return e&&(n=t.filter(function(r){return!ri(r)&&LC(t)}).length===0),e&&n}function l4(t){var e=Ps(t)&&!$0(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||be(t,s);return e&&n}function u4(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function c4(t,e){arguments.length===1&&(arguments[0]?s4(arguments[0])?(t=arguments[0],e=void 0):l4(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ge(),r=ew(n,this).startOf("day"),i=q.calendarFormat(this,r)||"sameElse",s=e&&(kr(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Ge(n)))}function d4(){return new Wu(this)}function h4(t,e){var n=ir(t)?t:Ge(t);return this.isValid()&&n.isValid()?(e=Wn(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function f4(t,e){var n=ir(t)?t:Ge(t);return this.isValid()&&n.isValid()?(e=Wn(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function p4(t,e,n,r){var i=ir(t)?t:Ge(t),s=ir(e)?e:Ge(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function m4(t,e){var n=ir(t)?t:Ge(t),r;return this.isValid()&&n.isValid()?(e=Wn(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function g4(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function y4(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function v4(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=ew(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Wn(e),e){case"year":s=kd(this,r)/12;break;case"month":s=kd(this,r);break;case"quarter":s=kd(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Un(s)}function kd(t,e){if(t.date()<e.date())return-kd(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";q.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function w4(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function _4(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Ed(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):kr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ed(n,"Z")):Ed(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function S4(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function E4(t){t||(t=this.isUtc()?q.defaultFormatUtc:q.defaultFormat);var e=Ed(this,t);return this.localeData().postformat(e)}function T4(t,e){return this.isValid()&&(ir(t)&&t.isValid()||Ge(t).isValid())?sr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function k4(t){return this.from(Ge(),t)}function I4(t,e){return this.isValid()&&(ir(t)&&t.isValid()||Ge(t).isValid())?sr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function b4(t){return this.to(Ge(),t)}function UC(t){var e;return t===void 0?this._locale._abbr:(e=si(t),e!=null&&(this._locale=e),this)}var $C=Bn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function FC(){return this._locale}var xh=1e3,jo=60*xh,Ch=60*jo,jC=(365*400+97)*24*Ch;function Vo(t,e){return(t%e+e)%e}function VC(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-jC:new Date(t,e,n).valueOf()}function zC(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-jC:Date.UTC(t,e,n)}function x4(t){var e,n;if(t=Wn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?zC:VC,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Vo(e+(this._isUTC?0:this.utcOffset()*jo),Ch);break;case"minute":e=this._d.valueOf(),e-=Vo(e,jo);break;case"second":e=this._d.valueOf(),e-=Vo(e,xh);break}return this._d.setTime(e),q.updateOffset(this,!0),this}function C4(t){var e,n;if(t=Wn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?zC:VC,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Ch-Vo(e+(this._isUTC?0:this.utcOffset()*jo),Ch)-1;break;case"minute":e=this._d.valueOf(),e+=jo-Vo(e,jo)-1;break;case"second":e=this._d.valueOf(),e+=xh-Vo(e,xh)-1;break}return this._d.setTime(e),q.updateOffset(this,!0),this}function O4(){return this._d.valueOf()-(this._offset||0)*6e4}function D4(){return Math.floor(this.valueOf()/1e3)}function R4(){return new Date(this.valueOf())}function P4(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function N4(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function A4(){return this.isValid()?this.toISOString():null}function M4(){return F0(this)}function L4(){return xi({},ve(this))}function U4(){return ve(this).overflow}function $4(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}se("N",0,0,"eraAbbr");se("NN",0,0,"eraAbbr");se("NNN",0,0,"eraAbbr");se("NNNN",0,0,"eraName");se("NNNNN",0,0,"eraNarrow");se("y",["y",1],"yo","eraYear");se("y",["yy",2],0,"eraYear");se("y",["yyy",3],0,"eraYear");se("y",["yyyy",4],0,"eraYear");J("N",tw);J("NN",tw);J("NNN",tw);J("NNNN",K4);J("NNNNN",Q4);Me(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?ve(n).era=i:ve(n).invalidEra=t});J("y",Ta);J("yy",Ta);J("yyy",Ta);J("yyyy",Ta);J("yo",X4);Me(["y","yy","yyy","yyyy"],qt);Me(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[qt]=n._locale.eraYearOrdinalParse(t,i):e[qt]=parseInt(t,10)});function F4(t,e){var n,r,i,s=this._eras||si("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=q(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=q(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function j4(t,e,n){var r,i,s=this.eras(),o,u,h;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),u=s[r].abbr.toUpperCase(),h=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(u===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(h===t)return s[r];break}else if([o,u,h].indexOf(t)>=0)return s[r]}function V4(t,e){var n=t.since<=t.until?1:-1;return e===void 0?q(t.since).year():q(t.since).year()+(e-t.offset)*n}function z4(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function B4(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function W4(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function H4(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-q(i[t].since).year())*n+i[t].offset;return this.year()}function Y4(t){return be(this,"_erasNameRegex")||nw.call(this),t?this._erasNameRegex:this._erasRegex}function G4(t){return be(this,"_erasAbbrRegex")||nw.call(this),t?this._erasAbbrRegex:this._erasRegex}function q4(t){return be(this,"_erasNarrowRegex")||nw.call(this),t?this._erasNarrowRegex:this._erasRegex}function tw(t,e){return e.erasAbbrRegex(t)}function K4(t,e){return e.erasNameRegex(t)}function Q4(t,e){return e.erasNarrowRegex(t)}function X4(t,e){return e._eraYearOrdinalRegex||Ta}function nw(){var t=[],e=[],n=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)e.push(Sn(o[i].name)),t.push(Sn(o[i].abbr)),n.push(Sn(o[i].narrow)),r.push(Sn(o[i].name)),r.push(Sn(o[i].abbr)),r.push(Sn(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}se(0,["gg",2],0,function(){return this.weekYear()%100});se(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Hf(t,e){se(0,[t,t.length],0,e)}Hf("gggg","weekYear");Hf("ggggg","weekYear");Hf("GGGG","isoWeekYear");Hf("GGGGG","isoWeekYear");Jt("weekYear","gg");Jt("isoWeekYear","GG");Zt("weekYear",1);Zt("isoWeekYear",1);J("G",jf);J("g",jf);J("GG",qe,Pn);J("gg",qe,Pn);J("GGGG",H0,W0);J("gggg",H0,W0);J("GGGGG",Ff,Uf);J("ggggg",Ff,Uf);Yu(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=we(t)});Yu(["gg","GG"],function(t,e,n,r){e[r]=q.parseTwoDigitYear(t)});function J4(t){return BC.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Z4(t){return BC.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function eW(){return Yr(this.year(),1,4)}function tW(){return Yr(this.isoWeekYear(),1,4)}function nW(){var t=this.localeData()._week;return Yr(this.year(),t.dow,t.doy)}function rW(){var t=this.localeData()._week;return Yr(this.weekYear(),t.dow,t.doy)}function BC(t,e,n,r,i){var s;return t==null?cu(this,r,i).year:(s=Yr(t,r,i),e>s&&(e=s),iW.call(this,t,e,n,r,i))}function iW(t,e,n,r,i){var s=EC(t,e,n,r,i),o=uu(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}se("Q",0,"Qo","quarter");Jt("quarter","Q");Zt("quarter",7);J("Q",hC);Me("Q",function(t,e){e[zr]=(we(t)-1)*3});function sW(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}se("D",["DD",2],"Do","date");Jt("date","D");Zt("date",9);J("D",qe);J("DD",qe,Pn);J("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Me(["D","DD"],dr);Me("Do",function(t,e){e[dr]=we(t.match(qe)[0])});var WC=Ea("Date",!0);se("DDD",["DDDD",3],"DDDo","dayOfYear");Jt("dayOfYear","DDD");Zt("dayOfYear",4);J("DDD",$f);J("DDDD",fC);Me(["DDD","DDDD"],function(t,e,n){n._dayOfYear=we(t)});function oW(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}se("m",["mm",2],0,"minute");Jt("minute","m");Zt("minute",14);J("m",qe);J("mm",qe,Pn);Me(["m","mm"],Xn);var aW=Ea("Minutes",!1);se("s",["ss",2],0,"second");Jt("second","s");Zt("second",15);J("s",qe);J("ss",qe,Pn);Me(["s","ss"],Br);var lW=Ea("Seconds",!1);se("S",0,0,function(){return~~(this.millisecond()/100)});se(0,["SS",2],0,function(){return~~(this.millisecond()/10)});se(0,["SSS",3],0,"millisecond");se(0,["SSSS",4],0,function(){return this.millisecond()*10});se(0,["SSSSS",5],0,function(){return this.millisecond()*100});se(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});se(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});se(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});se(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Jt("millisecond","ms");Zt("millisecond",16);J("S",$f,hC);J("SS",$f,Pn);J("SSS",$f,fC);var Ci,HC;for(Ci="SSSS";Ci.length<=9;Ci+="S")J(Ci,Ta);function uW(t,e){e[Is]=we(("0."+t)*1e3)}for(Ci="S";Ci.length<=9;Ci+="S")Me(Ci,uW);HC=Ea("Milliseconds",!1);se("z",0,0,"zoneAbbr");se("zz",0,0,"zoneName");function cW(){return this._isUTC?"UTC":""}function dW(){return this._isUTC?"Coordinated Universal Time":""}var W=Wu.prototype;W.add=r4;W.calendar=c4;W.clone=d4;W.diff=v4;W.endOf=C4;W.format=E4;W.from=T4;W.fromNow=k4;W.to=I4;W.toNow=b4;W.get=fB;W.invalidAt=U4;W.isAfter=h4;W.isBefore=f4;W.isBetween=p4;W.isSame=m4;W.isSameOrAfter=g4;W.isSameOrBefore=y4;W.isValid=M4;W.lang=$C;W.locale=UC;W.localeData=FC;W.max=M3;W.min=A3;W.parsingFlags=L4;W.set=pB;W.startOf=x4;W.subtract=i4;W.toArray=P4;W.toObject=N4;W.toDate=R4;W.toISOString=_4;W.inspect=S4;typeof Symbol<"u"&&Symbol.for!=null&&(W[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});W.toJSON=A4;W.toString=w4;W.unix=D4;W.valueOf=O4;W.creationData=$4;W.eraName=z4;W.eraNarrow=B4;W.eraAbbr=W4;W.eraYear=H4;W.year=SC;W.isLeapYear=NB;W.weekYear=J4;W.isoWeekYear=Z4;W.quarter=W.quarters=sW;W.month=wC;W.daysInMonth=DB;W.week=W.weeks=FB;W.isoWeek=W.isoWeeks=jB;W.weeksInYear=nW;W.weeksInWeekYear=rW;W.isoWeeksInYear=eW;W.isoWeeksInISOWeekYear=tW;W.date=WC;W.day=W.days=ZB;W.weekday=e3;W.isoWeekday=t3;W.dayOfYear=oW;W.hour=W.hours=l3;W.minute=W.minutes=aW;W.second=W.seconds=lW;W.millisecond=W.milliseconds=HC;W.utcOffset=W3;W.utc=Y3;W.local=G3;W.parseZone=q3;W.hasAlignedHourOffset=K3;W.isDST=Q3;W.isLocal=J3;W.isUtcOffset=Z3;W.isUtc=NC;W.isUTC=NC;W.zoneAbbr=cW;W.zoneName=dW;W.dates=Bn("dates accessor is deprecated. Use date instead.",WC);W.months=Bn("months accessor is deprecated. Use month instead",wC);W.years=Bn("years accessor is deprecated. Use year instead",SC);W.zone=Bn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",H3);W.isDSTShifted=Bn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",X3);function hW(t){return Ge(t*1e3)}function fW(){return Ge.apply(null,arguments).parseZone()}function YC(t){return t}var xe=V0.prototype;xe.calendar=Zz;xe.longDateFormat=rB;xe.invalidDate=sB;xe.ordinal=lB;xe.preparse=YC;xe.postformat=YC;xe.relativeTime=cB;xe.pastFuture=dB;xe.set=Xz;xe.eras=F4;xe.erasParse=j4;xe.erasConvertYear=V4;xe.erasAbbrRegex=G4;xe.erasNameRegex=Y4;xe.erasNarrowRegex=q4;xe.months=bB;xe.monthsShort=xB;xe.monthsParse=OB;xe.monthsRegex=PB;xe.monthsShortRegex=RB;xe.week=MB;xe.firstDayOfYear=$B;xe.firstDayOfWeek=UB;xe.weekdays=qB;xe.weekdaysMin=QB;xe.weekdaysShort=KB;xe.weekdaysParse=JB;xe.weekdaysRegex=n3;xe.weekdaysShortRegex=r3;xe.weekdaysMinRegex=i3;xe.isPM=o3;xe.meridiem=u3;function Oh(t,e,n,r){var i=si(),s=Tr().set(r,e);return i[n](s,t)}function GC(t,e,n){if(ri(t)&&(e=t,t=void 0),t=t||"",e!=null)return Oh(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Oh(t,r,n,"month");return i}function rw(t,e,n,r){typeof t=="boolean"?(ri(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ri(e)&&(n=e,e=void 0),e=e||"");var i=si(),s=t?i._week.dow:0,o,u=[];if(n!=null)return Oh(e,(n+s)%7,r,"day");for(o=0;o<7;o++)u[o]=Oh(e,(o+s)%7,r,"day");return u}function pW(t,e){return GC(t,e,"months")}function mW(t,e){return GC(t,e,"monthsShort")}function gW(t,e,n){return rw(t,e,n,"weekdays")}function yW(t,e,n){return rw(t,e,n,"weekdaysShort")}function vW(t,e,n){return rw(t,e,n,"weekdaysMin")}zi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=we(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});q.lang=Bn("moment.lang is deprecated. Use moment.locale instead.",zi);q.langData=Bn("moment.langData is deprecated. Use moment.localeData instead.",si);var Nr=Math.abs;function wW(){var t=this._data;return this._milliseconds=Nr(this._milliseconds),this._days=Nr(this._days),this._months=Nr(this._months),t.milliseconds=Nr(t.milliseconds),t.seconds=Nr(t.seconds),t.minutes=Nr(t.minutes),t.hours=Nr(t.hours),t.months=Nr(t.months),t.years=Nr(t.years),this}function qC(t,e,n,r){var i=sr(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function _W(t,e){return qC(this,t,e,1)}function SW(t,e){return qC(this,t,e,-1)}function tE(t){return t<0?Math.floor(t):Math.ceil(t)}function EW(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,u,h;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=tE(yy(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Un(t/1e3),r.seconds=i%60,s=Un(i/60),r.minutes=s%60,o=Un(s/60),r.hours=o%24,e+=Un(o/24),h=Un(KC(e)),n+=h,e-=tE(yy(h)),u=Un(n/12),n%=12,r.days=e,r.months=n,r.years=u,this}function KC(t){return t*4800/146097}function yy(t){return t*146097/4800}function TW(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Wn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+KC(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(yy(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function kW(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+we(this._months/12)*31536e6:NaN}function oi(t){return function(){return this.as(t)}}var IW=oi("ms"),bW=oi("s"),xW=oi("m"),CW=oi("h"),OW=oi("d"),DW=oi("w"),RW=oi("M"),PW=oi("Q"),NW=oi("y");function AW(){return sr(this)}function MW(t){return t=Wn(t),this.isValid()?this[t+"s"]():NaN}function Js(t){return function(){return this.isValid()?this._data[t]:NaN}}var LW=Js("milliseconds"),UW=Js("seconds"),$W=Js("minutes"),FW=Js("hours"),jW=Js("days"),VW=Js("months"),zW=Js("years");function BW(){return Un(this.days()/7)}var Mr=Math.round,Co={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function WW(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function HW(t,e,n,r){var i=sr(t).abs(),s=Mr(i.as("s")),o=Mr(i.as("m")),u=Mr(i.as("h")),h=Mr(i.as("d")),f=Mr(i.as("M")),y=Mr(i.as("w")),_=Mr(i.as("y")),S=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||h<=1&&["d"]||h<n.d&&["dd",h];return n.w!=null&&(S=S||y<=1&&["w"]||y<n.w&&["ww",y]),S=S||f<=1&&["M"]||f<n.M&&["MM",f]||_<=1&&["y"]||["yy",_],S[2]=e,S[3]=+t>0,S[4]=r,WW.apply(null,S)}function YW(t){return t===void 0?Mr:typeof t=="function"?(Mr=t,!0):!1}function GW(t,e){return Co[t]===void 0?!1:e===void 0?Co[t]:(Co[t]=e,t==="s"&&(Co.ss=e-1),!0)}function qW(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Co,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Co,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=HW(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var xm=Math.abs;function uo(t){return(t>0)-(t<0)||+t}function Yf(){if(!this.isValid())return this.localeData().invalidDate();var t=xm(this._milliseconds)/1e3,e=xm(this._days),n=xm(this._months),r,i,s,o,u=this.asSeconds(),h,f,y,_;return u?(r=Un(t/60),i=Un(r/60),t%=60,r%=60,s=Un(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",h=u<0?"-":"",f=uo(this._months)!==uo(u)?"-":"",y=uo(this._days)!==uo(u)?"-":"",_=uo(this._milliseconds)!==uo(u)?"-":"",h+"P"+(s?f+s+"Y":"")+(n?f+n+"M":"")+(e?y+e+"D":"")+(i||r||t?"T":"")+(i?_+i+"H":"")+(r?_+r+"M":"")+(t?_+o+"S":"")):"P0D"}var ke=Wf.prototype;ke.isValid=j3;ke.abs=wW;ke.add=_W;ke.subtract=SW;ke.as=TW;ke.asMilliseconds=IW;ke.asSeconds=bW;ke.asMinutes=xW;ke.asHours=CW;ke.asDays=OW;ke.asWeeks=DW;ke.asMonths=RW;ke.asQuarters=PW;ke.asYears=NW;ke.valueOf=kW;ke._bubble=EW;ke.clone=AW;ke.get=MW;ke.milliseconds=LW;ke.seconds=UW;ke.minutes=$W;ke.hours=FW;ke.days=jW;ke.weeks=BW;ke.months=VW;ke.years=zW;ke.humanize=qW;ke.toISOString=Yf;ke.toString=Yf;ke.toJSON=Yf;ke.locale=UC;ke.localeData=FC;ke.toIsoString=Bn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yf);ke.lang=$C;se("X",0,0,"unix");se("x",0,0,"valueOf");J("x",jf);J("X",gB);Me("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Me("x",function(t,e,n){n._d=new Date(we(t))});//! moment.js
q.version="2.29.4";Kz(Ge);q.fn=W;q.min=L3;q.max=U3;q.now=$3;q.utc=Tr;q.unix=hW;q.months=pW;q.isDate=Bu;q.locale=zi;q.invalid=Mf;q.duration=sr;q.isMoment=ir;q.weekdays=gW;q.parseZone=fW;q.localeData=si;q.isDuration=Td;q.monthsShort=mW;q.weekdaysMin=vW;q.defineLocale=K0;q.updateLocale=f3;q.locales=p3;q.weekdaysShort=yW;q.normalizeUnits=Wn;q.relativeTimeRounding=YW;q.relativeTimeThreshold=GW;q.calendarFormat=u4;q.prototype=W;q.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const KW=({handleSidebarState:t})=>{var o;const[e,n]=N.useState([]),{currentUser:r}=N.useContext(ts),{dispatch:i}=N.useContext(Sa);N.useEffect(()=>{const u=()=>{const h=Wx(Nt(kt,"usersChats",r.uid),f=>{n(f.data())});return()=>{h()}};r.uid&&u()},[r.uid]);const s=u=>{t("chat"),i({type:"CHANGE_USER",payload:u})};return U("div",{className:"SidebarChatList",children:(o=Object.entries(e))==null?void 0:o.map(u=>{var h,f;return Pe("div",{className:"SidebarChat d-flex",onClick:()=>s(u[1].userInfo),children:[U("div",{className:"SidebarChatImgContainer d-flex justify-content-center align-items-center",children:U("img",{className:"UserAvatar",src:u[1].userInfo.photoURL,alt:""})}),Pe("div",{className:"SidebarChatInfo d-flex flex-column w-100",children:[Pe("div",{className:"SidebarChatUsernameContainer d-flex justify-content-between",children:[U("p",{className:"SidebarChatUsername",children:u[1].userInfo.displayName}),U("p",{className:"SidebarChatTime",children:q.unix((f=(h=u[1])==null?void 0:h.date)==null?void 0:f.seconds).format("HH:mm")}),console.log(u[1])]}),Pe("div",{className:"d-flex align-items-center",children:[u[1].lastImageURL.downloadURL&&U("img",{className:"SidebarChatLastImg me-1",src:u[1].lastImageURL.downloadURL,alt:""}),U("p",{className:"SidebarChatLastMsg",children:u[1].lastMessage.lastMessage.length>30?u[1].lastMessage.lastMessage.slice(0,30)+"...":u[1].lastMessage.lastMessage})]})]})]},u[0])})})},QW=({state:t})=>{const[e,n]=N.useState(null),[r,i]=N.useState(!1),{currentUser:s}=N.useContext(ts),o=h=>{n(h.target.files[0])},u=async h=>{h.preventDefault();const f=h.target[0].files[0],y=kv(P0,"images/"+f.name),_=Nt(kt,"users",s.uid);try{Mg(y,f).then(S=>{th(S.ref).then(async b=>{await qn(_,{photoURL:b}),await gI(s,{photoURL:b}),console.log("Image uploaded"),window.location.reload()})})}catch(S){i(!0),console.log(S)}};return U("div",{className:`SidebarSettings ${t} d-flex flex-column`,children:Pe("form",{className:"SidebarSettingsInnerContainer p-3",onSubmit:u,children:[U(En.Control,{className:"ImagePicker",type:"file",id:"file",onChange:o}),U("label",{htmlFor:"file",children:U("div",{className:"UserAvatarContainer mt-2",children:U("img",{className:"UserAvatar",src:s.photoURL,alt:""})})}),r&&U("p",{className:"ErrorMsg",children:"Something went wrong..."}),U("p",{className:"my-2",children:s.displayName}),Pe("div",{className:"d-flex flex-column",children:[e&&U(sa,{type:"submit",size:"sm",children:"Upload Image"}),U(sa,{className:"LogoutButton my-2",size:"sm",onClick:()=>{KU(Nf)},children:"Logout"})]})]})})},XW=()=>{var e;const{data:t}=N.useContext(Sa);return U("div",{className:"Navbar d-flex flex-column",children:U("p",{className:"NavbarUsername",children:(e=t.user)==null?void 0:e.displayName})})},JW=({message:t})=>{const{currentUser:e}=N.useContext(ts);return N.useContext(Sa),U(N.Fragment,{children:Pe("div",{className:`${t.image?`ImageContainer ${t.text?"WithCaption":"WithoutCaption"} flex-column`:"MessageContainer"} ${t.senderID===e.uid?"current align-self-end":"other align-self-start"} d-flex`,children:[t.image&&U("img",{className:"MessageImage",src:t.image,alt:""}),Pe("div",{className:"MessageTextContainer d-flex justify-content-between",children:[t.text&&U("p",{className:"Message",children:t.text}),U("p",{className:"MessageTime d-flex",children:q.unix(t.date.seconds).format("HH:mm")})]}),console.log(t)]})})},nE=({sidebarChatState:t})=>{const[e,n]=N.useState([]),{data:r}=N.useContext(Sa);return N.useEffect(()=>{const i=Wx(Nt(kt,"chats",r.chatID),s=>{s.exists()&&n(s.data().messages)});return()=>{i()}},[r.chatID]),Pe("div",{className:`Messages ${t==="closed"?"h-100":""} d-flex flex-column`,children:[t==="closed"&&U("div",{className:"IntroTextContainer align-self-center my-auto",children:U("p",{className:"IntroText text-center ",children:"Choose who you would like to write to"})}),t==="opened"&&(e==null?void 0:e.map(i=>U(JW,{message:i},i.id)))]})},ZW="/React-Chat/assets/attach-icon-dce0446f.svg",eH="/React-Chat/assets/send-icon-16169483.svg";let ed;const tH=new Uint8Array(16);function nH(){if(!ed&&(ed=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ed))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ed(tH)}const Dt=[];for(let t=0;t<256;++t)Dt.push((t+256).toString(16).slice(1));function rH(t,e=0){return(Dt[t[e+0]]+Dt[t[e+1]]+Dt[t[e+2]]+Dt[t[e+3]]+"-"+Dt[t[e+4]]+Dt[t[e+5]]+"-"+Dt[t[e+6]]+Dt[t[e+7]]+"-"+Dt[t[e+8]]+Dt[t[e+9]]+"-"+Dt[t[e+10]]+Dt[t[e+11]]+Dt[t[e+12]]+Dt[t[e+13]]+Dt[t[e+14]]+Dt[t[e+15]]).toLowerCase()}const iH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rE={randomUUID:iH};function Cm(t,e,n){if(rE.randomUUID&&!e&&!t)return rE.randomUUID();t=t||{};const r=t.random||(t.rng||nH)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return rH(r)}const sH=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(null),{currentUser:i}=N.useContext(ts),{data:s}=N.useContext(Sa),o=N.useRef(null),u=async()=>{o.current.value="";const f=kv(P0,"chatsImages/"+Cm());n?(Mg(f,n).then(_=>{th(_.ref).then(async S=>{await qn(Nt(kt,"chats",s.chatID),{messages:QS({id:Cm(),text:t,senderID:i.uid,date:ct.now(),image:S})})})}),Mg(f,n).then(_=>{th(_.ref).then(async S=>{await qn(Nt(kt,"usersChats",i.uid),{[s.chatID+".lastImageURL"]:{downloadURL:S}}),await qn(Nt(kt,"usersChats",s.user.uid),{[s.chatID+".lastImageURL"]:{downloadURL:S}})})})):(await qn(Nt(kt,"usersChats",i.uid),{[s.chatID+".lastImageURL"]:{downloadURL:null}}),await qn(Nt(kt,"usersChats",s.user.uid),{[s.chatID+".lastImageURL"]:{downloadURL:null}}),await qn(Nt(kt,"chats",s.chatID),{messages:QS({id:Cm(),text:t,senderID:i.uid,date:ct.now()})}));const y=t===""?"Image":t;await qn(Nt(kt,"usersChats",i.uid),{[s.chatID+".lastMessage"]:{lastMessage:y},[s.chatID+".date"]:Sh()}),await qn(Nt(kt,"usersChats",s.user.uid),{[s.chatID+".lastMessage"]:{lastMessage:y},[s.chatID+".date"]:Sh()}),e(""),r(null)},h=f=>{f.code==="Enter"&&u()};return Pe("div",{className:"InputContainer d-flex justify-content-center align-items-center",children:[U("div",{className:"InputButtonsContainer AttachContainer d-flex justify-content-center align-items-center",children:Pe("label",{className:"AttachButton d-flex justify-content-center align-items-center",children:[U(En.Control,{type:"file",onChange:f=>{r(f.target.files[0])},style:{display:"none"}}),U("img",{className:"AttachIcon",src:ZW,alt:"attach"})]})}),U(En.Control,{className:"Input ps-1",type:"text",placeholder:"Write a message...",ref:o,onChange:f=>{e(f.target.value)},onKeyDown:h}),U("div",{className:"InputButtonsContainer d-flex justify-content-center align-items-center",children:U("div",{className:"SendButton d-flex justify-content-center align-items-center",onClick:u,children:U("img",{className:"SendIcon",src:eH,alt:""})})})]})};var vy={},oH={get exports(){return vy},set exports(t){vy=t}};(function(t,e){(function(n){t.exports=n()})(function(){var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=function(a){return!(!a||!a.Window)&&a instanceof a.Window};var r={};Object.defineProperty(r,"__esModule",{value:!0}),r.getWindow=function(a){return(0,n.default)(a)?a:(a.ownerDocument||a).defaultView||s.window},r.init=o,r.window=r.realWindow=void 0;var i=void 0;r.realWindow=i;var s=void 0;function o(a){r.realWindow=i=a;var l=a.document.createTextNode("");l.ownerDocument!==a.document&&typeof a.wrap=="function"&&a.wrap(l)===l&&(a=a.wrap(a)),r.window=s=a}r.window=s,typeof window<"u"&&window&&o(window);var u={};function h(a){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},h(a)}Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=function(a){return!!a&&h(a)==="object"},y=function(a){return typeof a=="function"},_={window:function(a){return a===r.window||(0,n.default)(a)},docFrag:function(a){return f(a)&&a.nodeType===11},object:f,func:y,number:function(a){return typeof a=="number"},bool:function(a){return typeof a=="boolean"},string:function(a){return typeof a=="string"},element:function(a){if(!a||h(a)!=="object")return!1;var l=r.getWindow(a)||r.window;return/object|function/.test(typeof Element>"u"?"undefined":h(Element))?a instanceof Element||a instanceof l.Element:a.nodeType===1&&typeof a.nodeName=="string"},plainObject:function(a){return f(a)&&!!a.constructor&&/function Object\b/.test(a.constructor.toString())},array:function(a){return f(a)&&a.length!==void 0&&y(a.splice)}};u.default=_;var S={};function b(a){var l=a.interaction;if(l.prepared.name==="drag"){var c=l.prepared.axis;c==="x"?(l.coords.cur.page.y=l.coords.start.page.y,l.coords.cur.client.y=l.coords.start.client.y,l.coords.velocity.client.y=0,l.coords.velocity.page.y=0):c==="y"&&(l.coords.cur.page.x=l.coords.start.page.x,l.coords.cur.client.x=l.coords.start.client.x,l.coords.velocity.client.x=0,l.coords.velocity.page.x=0)}}function R(a){var l=a.iEvent,c=a.interaction;if(c.prepared.name==="drag"){var d=c.prepared.axis;if(d==="x"||d==="y"){var p=d==="x"?"y":"x";l.page[p]=c.coords.start.page[p],l.client[p]=c.coords.start.client[p],l.delta[p]=0}}}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var D={id:"actions/drag",install:function(a){var l=a.actions,c=a.Interactable,d=a.defaults;c.prototype.draggable=D.draggable,l.map.drag=D,l.methodDict.drag="draggable",d.actions.drag=D.defaults},listeners:{"interactions:before-action-move":b,"interactions:action-resume":b,"interactions:action-move":R,"auto-start:check":function(a){var l=a.interaction,c=a.interactable,d=a.buttons,p=c.options.drag;if(p&&p.enabled&&(!l.pointerIsDown||!/mouse|pointer/.test(l.pointerType)||d&c.options.drag.mouseButtons))return a.action={name:"drag",axis:p.lockAxis==="start"?p.startAxis:p.lockAxis},!1}},draggable:function(a){return u.default.object(a)?(this.options.drag.enabled=a.enabled!==!1,this.setPerAction("drag",a),this.setOnEvents("drag",a),/^(xy|x|y|start)$/.test(a.lockAxis)&&(this.options.drag.lockAxis=a.lockAxis),/^(xy|x|y)$/.test(a.startAxis)&&(this.options.drag.startAxis=a.startAxis),this):u.default.bool(a)?(this.options.drag.enabled=a,this):this.options.drag},beforeMove:b,move:R,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},$=D;S.default=$;var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var T={init:function(a){var l=a;T.document=l.document,T.DocumentFragment=l.DocumentFragment||x,T.SVGElement=l.SVGElement||x,T.SVGSVGElement=l.SVGSVGElement||x,T.SVGElementInstance=l.SVGElementInstance||x,T.Element=l.Element||x,T.HTMLElement=l.HTMLElement||T.Element,T.Event=l.Event,T.Touch=l.Touch||x,T.PointerEvent=l.PointerEvent||l.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function x(){}var A=T;I.default=A;var j={};Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var Y={init:function(a){var l=I.default.Element,c=a.navigator||{};Y.supportsTouch="ontouchstart"in a||u.default.func(a.DocumentTouch)&&I.default.document instanceof a.DocumentTouch,Y.supportsPointerEvent=c.pointerEnabled!==!1&&!!I.default.PointerEvent,Y.isIOS=/iP(hone|od|ad)/.test(c.platform),Y.isIOS7=/iP(hone|od|ad)/.test(c.platform)&&/OS 7[^\d]/.test(c.appVersion),Y.isIe9=/MSIE 9/.test(c.userAgent),Y.isOperaMobile=c.appName==="Opera"&&Y.supportsTouch&&/Presto/.test(c.userAgent),Y.prefixedMatchesSelector="matches"in l.prototype?"matches":"webkitMatchesSelector"in l.prototype?"webkitMatchesSelector":"mozMatchesSelector"in l.prototype?"mozMatchesSelector":"oMatchesSelector"in l.prototype?"oMatchesSelector":"msMatchesSelector",Y.pEventTypes=Y.supportsPointerEvent?I.default.PointerEvent===a.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,Y.wheelEvent=I.default.document&&"onmousewheel"in I.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},K=Y;j.default=K;var L={};function De(a){var l=a.parentNode;if(u.default.docFrag(l)){for(;(l=l.host)&&u.default.docFrag(l););return l}return l}function me(a,l){return r.window!==r.realWindow&&(l=l.replace(/\/deep\//g," ")),a[j.default.prefixedMatchesSelector](l)}Object.defineProperty(L,"__esModule",{value:!0}),L.closest=function(a,l){for(;u.default.element(a);){if(me(a,l))return a;a=De(a)}return null},L.getActualElement=function(a){return a.correspondingUseElement||a},L.getElementClientRect=ka,L.getElementRect=function(a){var l=ka(a);if(!j.default.isIOS7&&l){var c=li(r.getWindow(a));l.left+=c.x,l.right+=c.x,l.top+=c.y,l.bottom+=c.y}return l},L.getPath=function(a){for(var l=[];a;)l.push(a),a=De(a);return l},L.getScrollXY=li,L.indexOfDeepestElement=function(a){for(var l,c=[],d=0;d<a.length;d++){var p=a[d],m=a[l];if(p&&d!==l)if(m){var w=en(p),g=en(m);if(w!==p.ownerDocument)if(g!==p.ownerDocument)if(w!==g){c=c.length?c:ai(m);var v=void 0;if(m instanceof I.default.HTMLElement&&p instanceof I.default.SVGElement&&!(p instanceof I.default.SVGSVGElement)){if(p===g)continue;v=p.ownerSVGElement}else v=p;for(var E=ai(v,m.ownerDocument),k=0;E[k]&&E[k]===c[k];)k++;var C=[E[k-1],E[k],c[k]];if(C[0])for(var P=C[0].lastChild;P;){if(P===C[1]){l=d,c=E;break}if(P===C[2])break;P=P.previousSibling}}else M=p,O=m,(parseInt(r.getWindow(M).getComputedStyle(M).zIndex,10)||0)>=(parseInt(r.getWindow(O).getComputedStyle(O).zIndex,10)||0)&&(l=d);else l=d}else l=d}var M,O;return l},L.matchesSelector=me,L.matchesUpTo=function(a,l,c){for(;u.default.element(a);){if(me(a,l))return!0;if((a=De(a))===c)return me(a,l)}return!1},L.nodeContains=function(a,l){if(a.contains)return a.contains(l);for(;l;){if(l===a)return!0;l=l.parentNode}return!1},L.parentNode=De,L.trySelector=function(a){return!!u.default.string(a)&&(I.default.document.querySelector(a),!0)};var en=function(a){return a.parentNode||a.host};function ai(a,l){for(var c,d=[],p=a;(c=en(p))&&p!==l&&c!==p.ownerDocument;)d.unshift(p),p=c;return d}function li(a){return{x:(a=a||r.window).scrollX||a.document.documentElement.scrollLeft,y:a.scrollY||a.document.documentElement.scrollTop}}function ka(a){var l=a instanceof I.default.SVGElement?a.getBoundingClientRect():a.getClientRects()[0];return l&&{left:l.left,right:l.right,top:l.top,bottom:l.bottom,width:l.width||l.right-l.left,height:l.height||l.bottom-l.top}}var ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=function(a,l){for(var c in l)a[c]=l[c];return a};var Ne={};function ns(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=Array(l);c<l;c++)d[c]=a[c];return d}function Q(a,l,c){return a==="parent"?(0,L.parentNode)(c):a==="self"?l.getRect(c):(0,L.closest)(c,a)}Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.addEdges=function(a,l,c){a.left&&(l.left+=c.x),a.right&&(l.right+=c.x),a.top&&(l.top+=c.y),a.bottom&&(l.bottom+=c.y),l.width=l.right-l.left,l.height=l.bottom-l.top},Ne.getStringOptionResult=Q,Ne.rectToXY=function(a){return a&&{x:"x"in a?a.x:a.left,y:"y"in a?a.y:a.top}},Ne.resolveRectLike=function(a,l,c,d){var p,m=a;return u.default.string(m)?m=Q(m,l,c):u.default.func(m)&&(m=m.apply(void 0,function(w){if(Array.isArray(w))return ns(w)}(p=d)||function(w){if(typeof Symbol<"u"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}(p)||function(w,g){if(w){if(typeof w=="string")return ns(w,g);var v=Object.prototype.toString.call(w).slice(8,-1);return v==="Object"&&w.constructor&&(v=w.constructor.name),v==="Map"||v==="Set"?Array.from(w):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?ns(w,g):void 0}}(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),u.default.element(m)&&(m=(0,L.getElementRect)(m)),m},Ne.tlbrToXywh=function(a){return!a||"x"in a&&"y"in a||((a=(0,ie.default)({},a)).x=a.left||0,a.y=a.top||0,a.width=a.width||(a.right||0)-a.x,a.height=a.height||(a.bottom||0)-a.y),a},Ne.xywhToTlbr=function(a){return!a||"left"in a&&"top"in a||((a=(0,ie.default)({},a)).left=a.x||0,a.top=a.y||0,a.right=a.right||a.left+a.width,a.bottom=a.bottom||a.top+a.height),a};var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.default=function(a,l,c){var d=a.options[c],p=d&&d.origin||a.options.origin,m=(0,Ne.resolveRectLike)(p,a,l,[a&&l]);return(0,Ne.rectToXY)(m)||{x:0,y:0}};var he={};function Ke(a){return a.trim().split(/ +/)}Object.defineProperty(he,"__esModule",{value:!0}),he.default=function a(l,c,d){if(d=d||{},u.default.string(l)&&l.search(" ")!==-1&&(l=Ke(l)),u.default.array(l))return l.reduce(function(v,E){return(0,ie.default)(v,a(E,c,d))},d);if(u.default.object(l)&&(c=l,l=""),u.default.func(c))d[l]=d[l]||[],d[l].push(c);else if(u.default.array(c))for(var p=0;p<c.length;p++){var m;m=c[p],a(l,m,d)}else if(u.default.object(c))for(var w in c){var g=Ke(w).map(function(v){return"".concat(l).concat(v)});a(g,c[w],d)}return d};var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0,Le.default=function(a,l){return Math.sqrt(a*a+l*l)};var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.default=function(a,l){a.__set||(a.__set={});var c=function(p){typeof a[p]!="function"&&p!=="__set"&&Object.defineProperty(a,p,{get:function(){return p in a.__set?a.__set[p]:a.__set[p]=l[p]},set:function(m){a.__set[p]=m},configurable:!0})};for(var d in l)c(d);return a};var X={};function rs(a){return a instanceof I.default.Event||a instanceof I.default.Touch}function vn(a,l,c){return a=a||"page",(c=c||{}).x=l[a+"X"],c.y=l[a+"Y"],c}function is(a,l){return l=l||{x:0,y:0},j.default.isOperaMobile&&rs(a)?(vn("screen",a,l),l.x+=window.scrollX,l.y+=window.scrollY):vn("page",a,l),l}function iw(a,l){return l=l||{},j.default.isOperaMobile&&rs(a)?vn("screen",a,l):vn("client",a,l),l}function Gu(a){var l=[];return u.default.array(a)?(l[0]=a[0],l[1]=a[1]):a.type==="touchend"?a.touches.length===1?(l[0]=a.touches[0],l[1]=a.changedTouches[0]):a.touches.length===0&&(l[0]=a.changedTouches[0],l[1]=a.changedTouches[1]):(l[0]=a.touches[0],l[1]=a.touches[1]),l}function sw(a){for(var l={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},c=0;c<a.length;c++){var d=a[c];for(var p in l)l[p]+=d[p]}for(var m in l)l[m]/=a.length;return l}Object.defineProperty(X,"__esModule",{value:!0}),X.coordsToEvent=function(a){return{coords:a,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},X.copyCoords=function(a,l){a.page=a.page||{},a.page.x=l.page.x,a.page.y=l.page.y,a.client=a.client||{},a.client.x=l.client.x,a.client.y=l.client.y,a.timeStamp=l.timeStamp},X.getClientXY=iw,X.getEventTargets=function(a){var l=u.default.func(a.composedPath)?a.composedPath():a.path;return[L.getActualElement(l?l[0]:a.target),L.getActualElement(a.currentTarget)]},X.getPageXY=is,X.getPointerId=function(a){return u.default.number(a.pointerId)?a.pointerId:a.identifier},X.getPointerType=function(a){return u.default.string(a.pointerType)?a.pointerType:u.default.number(a.pointerType)?[void 0,void 0,"touch","pen","mouse"][a.pointerType]:/touch/.test(a.type||"")||a instanceof I.default.Touch?"touch":"mouse"},X.getTouchPair=Gu,X.getXY=vn,X.isNativePointer=rs,X.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},X.pointerAverage=sw,Object.defineProperty(X,"pointerExtend",{enumerable:!0,get:function(){return Ir.default}}),X.setCoordDeltas=function(a,l,c){a.page.x=c.page.x-l.page.x,a.page.y=c.page.y-l.page.y,a.client.x=c.client.x-l.client.x,a.client.y=c.client.y-l.client.y,a.timeStamp=c.timeStamp-l.timeStamp},X.setCoordVelocity=function(a,l){var c=Math.max(l.timeStamp/1e3,.001);a.page.x=l.page.x/c,a.page.y=l.page.y/c,a.client.x=l.client.x/c,a.client.y=l.client.y/c,a.timeStamp=c},X.setCoords=function(a,l,c){var d=l.length>1?sw(l):l[0];is(d,a.page),iw(d,a.client),a.timeStamp=c},X.setZeroCoords=function(a){a.page.x=0,a.page.y=0,a.client.x=0,a.client.y=0},X.touchAngle=function(a,l){var c=l+"X",d=l+"Y",p=Gu(a),m=p[1][c]-p[0][c],w=p[1][d]-p[0][d];return 180*Math.atan2(w,m)/Math.PI},X.touchBBox=function(a){if(!a.length)return null;var l=Gu(a),c=Math.min(l[0].pageX,l[1].pageX),d=Math.min(l[0].pageY,l[1].pageY),p=Math.max(l[0].pageX,l[1].pageX),m=Math.max(l[0].pageY,l[1].pageY);return{x:c,y:d,left:c,top:d,right:p,bottom:m,width:p-c,height:m-d}},X.touchDistance=function(a,l){var c=l+"X",d=l+"Y",p=Gu(a),m=p[0][c]-p[1][c],w=p[0][d]-p[1][d];return(0,Le.default)(m,w)};var Zs={};function QC(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function ow(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.BaseEvent=void 0;var aw=function(){function a(d){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,a),ow(this,"immediatePropagationStopped",!1),ow(this,"propagationStopped",!1),this._interaction=d}var l,c;return l=a,(c=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&QC(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),a}();Zs.BaseEvent=aw,Object.defineProperty(aw.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.remove=Ue.merge=Ue.from=Ue.findIndex=Ue.find=Ue.contains=void 0,Ue.contains=function(a,l){return a.indexOf(l)!==-1},Ue.remove=function(a,l){return a.splice(a.indexOf(l),1)};var lw=function(a,l){for(var c=0;c<l.length;c++){var d=l[c];a.push(d)}return a};Ue.merge=lw,Ue.from=function(a){return lw([],a)};var uw=function(a,l){for(var c=0;c<a.length;c++)if(l(a[c],c,a))return c;return-1};Ue.findIndex=uw,Ue.find=function(a,l){return a[uw(a,l)]};var br={};function Gf(a){return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Gf(a)}function XC(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function qf(a,l){return qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,d){return c.__proto__=d,c},qf(a,l)}function JC(a,l){if(l&&(Gf(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ss(a)}function ss(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function qu(a){return qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},qu(a)}function eo(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}Object.defineProperty(br,"__esModule",{value:!0}),br.DropEvent=void 0;var ZC=function(a){(function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),v&&qf(g,v)})(w,a);var l,c,d,p,m=(d=w,p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var g,v=qu(d);if(p){var E=qu(this).constructor;g=Reflect.construct(v,arguments,E)}else g=v.apply(this,arguments);return JC(this,g)});function w(g,v,E){var k;(function(O,V){if(!(O instanceof V))throw new TypeError("Cannot call a class as a function")})(this,w),eo(ss(k=m.call(this,v._interaction)),"dropzone",void 0),eo(ss(k),"dragEvent",void 0),eo(ss(k),"relatedTarget",void 0),eo(ss(k),"draggable",void 0),eo(ss(k),"propagationStopped",!1),eo(ss(k),"immediatePropagationStopped",!1);var C=E==="dragleave"?g.prev:g.cur,P=C.element,M=C.dropzone;return k.type=E,k.target=P,k.currentTarget=P,k.dropzone=M,k.dragEvent=v,k.relatedTarget=v.target,k.draggable=v.interactable,k.timeStamp=v.timeStamp,k}return l=w,(c=[{key:"reject",value:function(){var g=this,v=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&v.cur.dropzone===this.dropzone&&v.cur.element===this.target)if(v.prev.dropzone=this.dropzone,v.prev.element=this.target,v.rejected=!0,v.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var E=v.activeDrops,k=Ue.findIndex(E,function(P){var M=P.dropzone,O=P.element;return M===g.dropzone&&O===g.target});v.activeDrops.splice(k,1);var C=new w(v,this.dragEvent,"dropdeactivate");C.dropzone=this.dropzone,C.target=this.target,this.dropzone.fire(C)}else this.dropzone.fire(new w(v,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&XC(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),w}(Zs.BaseEvent);br.DropEvent=ZC;var Ku={};function cw(a,l){for(var c=0;c<a.slice().length;c++){var d=a.slice()[c],p=d.dropzone,m=d.element;l.dropzone=p,l.target=m,p.fire(l),l.propagationStopped=l.immediatePropagationStopped=!1}}function Kf(a,l){for(var c=function(m,w){for(var g=m.interactables,v=[],E=0;E<g.list.length;E++){var k=g.list[E];if(k.options.drop.enabled){var C=k.options.drop.accept;if(!(u.default.element(C)&&C!==w||u.default.string(C)&&!L.matchesSelector(w,C)||u.default.func(C)&&!C({dropzone:k,draggableElement:w})))for(var P=u.default.string(k.target)?k._context.querySelectorAll(k.target):u.default.array(k.target)?k.target:[k.target],M=0;M<P.length;M++){var O=P[M];O!==w&&v.push({dropzone:k,element:O,rect:k.getRect(O)})}}}return v}(a,l),d=0;d<c.length;d++){var p=c[d];p.rect=p.dropzone.getRect(p.element)}return c}function dw(a,l,c){for(var d=a.dropState,p=a.interactable,m=a.element,w=[],g=0;g<d.activeDrops.length;g++){var v=d.activeDrops[g],E=v.dropzone,k=v.element,C=v.rect;w.push(E.dropCheck(l,c,p,m,k,C)?k:null)}var P=L.indexOfDeepestElement(w);return d.activeDrops[P]||null}function Qf(a,l,c){var d=a.dropState,p={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return c.type==="dragstart"&&(p.activate=new br.DropEvent(d,c,"dropactivate"),p.activate.target=null,p.activate.dropzone=null),c.type==="dragend"&&(p.deactivate=new br.DropEvent(d,c,"dropdeactivate"),p.deactivate.target=null,p.deactivate.dropzone=null),d.rejected||(d.cur.element!==d.prev.element&&(d.prev.dropzone&&(p.leave=new br.DropEvent(d,c,"dragleave"),c.dragLeave=p.leave.target=d.prev.element,c.prevDropzone=p.leave.dropzone=d.prev.dropzone),d.cur.dropzone&&(p.enter=new br.DropEvent(d,c,"dragenter"),c.dragEnter=d.cur.element,c.dropzone=d.cur.dropzone)),c.type==="dragend"&&d.cur.dropzone&&(p.drop=new br.DropEvent(d,c,"drop"),c.dropzone=d.cur.dropzone,c.relatedTarget=d.cur.element),c.type==="dragmove"&&d.cur.dropzone&&(p.move=new br.DropEvent(d,c,"dropmove"),p.move.dragmove=c,c.dropzone=d.cur.dropzone)),p}function Xf(a,l){var c=a.dropState,d=c.activeDrops,p=c.cur,m=c.prev;l.leave&&m.dropzone.fire(l.leave),l.enter&&p.dropzone.fire(l.enter),l.move&&p.dropzone.fire(l.move),l.drop&&p.dropzone.fire(l.drop),l.deactivate&&cw(d,l.deactivate),c.prev.dropzone=p.dropzone,c.prev.element=p.element}function hw(a,l){var c=a.interaction,d=a.iEvent,p=a.event;if(d.type==="dragmove"||d.type==="dragend"){var m=c.dropState;l.dynamicDrop&&(m.activeDrops=Kf(l,c.element));var w=d,g=dw(c,w,p);m.rejected=m.rejected&&!!g&&g.dropzone===m.cur.dropzone&&g.element===m.cur.element,m.cur.dropzone=g&&g.dropzone,m.cur.element=g&&g.element,m.events=Qf(c,0,w)}}Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.default=void 0;var fw={id:"actions/drop",install:function(a){var l=a.actions,c=a.interactStatic,d=a.Interactable,p=a.defaults;a.usePlugin(S.default),d.prototype.dropzone=function(m){return function(w,g){if(u.default.object(g)){if(w.options.drop.enabled=g.enabled!==!1,g.listeners){var v=(0,he.default)(g.listeners),E=Object.keys(v).reduce(function(k,C){return k[/^(enter|leave)/.test(C)?"drag".concat(C):/^(activate|deactivate|move)/.test(C)?"drop".concat(C):C]=v[C],k},{});w.off(w.options.drop.listeners),w.on(E),w.options.drop.listeners=E}return u.default.func(g.ondrop)&&w.on("drop",g.ondrop),u.default.func(g.ondropactivate)&&w.on("dropactivate",g.ondropactivate),u.default.func(g.ondropdeactivate)&&w.on("dropdeactivate",g.ondropdeactivate),u.default.func(g.ondragenter)&&w.on("dragenter",g.ondragenter),u.default.func(g.ondragleave)&&w.on("dragleave",g.ondragleave),u.default.func(g.ondropmove)&&w.on("dropmove",g.ondropmove),/^(pointer|center)$/.test(g.overlap)?w.options.drop.overlap=g.overlap:u.default.number(g.overlap)&&(w.options.drop.overlap=Math.max(Math.min(1,g.overlap),0)),"accept"in g&&(w.options.drop.accept=g.accept),"checker"in g&&(w.options.drop.checker=g.checker),w}return u.default.bool(g)?(w.options.drop.enabled=g,w):w.options.drop}(this,m)},d.prototype.dropCheck=function(m,w,g,v,E,k){return function(C,P,M,O,V,G,z){var te=!1;if(!(z=z||C.getRect(G)))return!!C.options.drop.checker&&C.options.drop.checker(P,M,te,C,G,O,V);var ae=C.options.drop.overlap;if(ae==="pointer"){var ye=(0,le.default)(O,V,"drag"),Ce=X.getPageXY(P);Ce.x+=ye.x,Ce.y+=ye.y;var je=Ce.x>z.left&&Ce.x<z.right,_e=Ce.y>z.top&&Ce.y<z.bottom;te=je&&_e}var Fe=O.getRect(V);if(Fe&&ae==="center"){var An=Fe.left+Fe.width/2,Pr=Fe.top+Fe.height/2;te=An>=z.left&&An<=z.right&&Pr>=z.top&&Pr<=z.bottom}return Fe&&u.default.number(ae)&&(te=Math.max(0,Math.min(z.right,Fe.right)-Math.max(z.left,Fe.left))*Math.max(0,Math.min(z.bottom,Fe.bottom)-Math.max(z.top,Fe.top))/(Fe.width*Fe.height)>=ae),C.options.drop.checker&&(te=C.options.drop.checker(P,M,te,C,G,O,V)),te}(this,m,w,g,v,E,k)},c.dynamicDrop=function(m){return u.default.bool(m)?(a.dynamicDrop=m,c):a.dynamicDrop},(0,ie.default)(l.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),l.methodDict.drop="dropzone",a.dynamicDrop=!1,p.actions.drop=fw.defaults},listeners:{"interactions:before-action-start":function(a){var l=a.interaction;l.prepared.name==="drag"&&(l.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(a,l){var c=a.interaction,d=(a.event,a.iEvent);if(c.prepared.name==="drag"){var p=c.dropState;p.activeDrops=null,p.events=null,p.activeDrops=Kf(l,c.element),p.events=Qf(c,0,d),p.events.activate&&(cw(p.activeDrops,p.events.activate),l.fire("actions/drop:start",{interaction:c,dragEvent:d}))}},"interactions:action-move":hw,"interactions:after-action-move":function(a,l){var c=a.interaction,d=a.iEvent;c.prepared.name==="drag"&&(Xf(c,c.dropState.events),l.fire("actions/drop:move",{interaction:c,dragEvent:d}),c.dropState.events={})},"interactions:action-end":function(a,l){if(a.interaction.prepared.name==="drag"){var c=a.interaction,d=a.iEvent;hw(a,l),Xf(c,c.dropState.events),l.fire("actions/drop:end",{interaction:c,dragEvent:d})}},"interactions:stop":function(a){var l=a.interaction;if(l.prepared.name==="drag"){var c=l.dropState;c&&(c.activeDrops=null,c.events=null,c.cur.dropzone=null,c.cur.element=null,c.prev.dropzone=null,c.prev.element=null,c.rejected=!1)}}},getActiveDrops:Kf,getDrop:dw,getDropEvents:Qf,fireDropEvents:Xf,defaults:{enabled:!1,accept:null,overlap:"pointer"}},eO=fw;Ku.default=eO;var Qu={};function Jf(a){var l=a.interaction,c=a.iEvent,d=a.phase;if(l.prepared.name==="gesture"){var p=l.pointers.map(function(E){return E.pointer}),m=d==="start",w=d==="end",g=l.interactable.options.deltaSource;if(c.touches=[p[0],p[1]],m)c.distance=X.touchDistance(p,g),c.box=X.touchBBox(p),c.scale=1,c.ds=0,c.angle=X.touchAngle(p,g),c.da=0,l.gesture.startDistance=c.distance,l.gesture.startAngle=c.angle;else if(w){var v=l.prevEvent;c.distance=v.distance,c.box=v.box,c.scale=v.scale,c.ds=0,c.angle=v.angle,c.da=0}else c.distance=X.touchDistance(p,g),c.box=X.touchBBox(p),c.scale=c.distance/l.gesture.startDistance,c.angle=X.touchAngle(p,g),c.ds=c.scale-l.gesture.scale,c.da=c.angle-l.gesture.angle;l.gesture.distance=c.distance,l.gesture.angle=c.angle,u.default.number(c.scale)&&c.scale!==1/0&&!isNaN(c.scale)&&(l.gesture.scale=c.scale)}}Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.default=void 0;var Zf={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(a){var l=a.actions,c=a.Interactable,d=a.defaults;c.prototype.gesturable=function(p){return u.default.object(p)?(this.options.gesture.enabled=p.enabled!==!1,this.setPerAction("gesture",p),this.setOnEvents("gesture",p),this):u.default.bool(p)?(this.options.gesture.enabled=p,this):this.options.gesture},l.map.gesture=Zf,l.methodDict.gesture="gesturable",d.actions.gesture=Zf.defaults},listeners:{"interactions:action-start":Jf,"interactions:action-move":Jf,"interactions:action-end":Jf,"interactions:new":function(a){a.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(a){if(!(a.interaction.pointers.length<2)){var l=a.interactable.options.gesture;if(l&&l.enabled)return a.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},tO=Zf;Qu.default=tO;var Xu={};function nO(a,l,c,d,p,m,w){if(!l)return!1;if(l===!0){var g=u.default.number(m.width)?m.width:m.right-m.left,v=u.default.number(m.height)?m.height:m.bottom-m.top;if(w=Math.min(w,Math.abs((a==="left"||a==="right"?g:v)/2)),g<0&&(a==="left"?a="right":a==="right"&&(a="left")),v<0&&(a==="top"?a="bottom":a==="bottom"&&(a="top")),a==="left"){var E=g>=0?m.left:m.right;return c.x<E+w}if(a==="top"){var k=v>=0?m.top:m.bottom;return c.y<k+w}if(a==="right")return c.x>(g>=0?m.right:m.left)-w;if(a==="bottom")return c.y>(v>=0?m.bottom:m.top)-w}return!!u.default.element(d)&&(u.default.element(l)?l===d:L.matchesUpTo(d,l,p))}function pw(a){var l=a.iEvent,c=a.interaction;if(c.prepared.name==="resize"&&c.resizeAxes){var d=l;c.interactable.options.resize.square?(c.resizeAxes==="y"?d.delta.x=d.delta.y:d.delta.y=d.delta.x,d.axes="xy"):(d.axes=c.resizeAxes,c.resizeAxes==="x"?d.delta.y=0:c.resizeAxes==="y"&&(d.delta.x=0))}}Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.default=void 0;var xr={id:"actions/resize",before:["actions/drag"],install:function(a){var l=a.actions,c=a.browser,d=a.Interactable,p=a.defaults;xr.cursors=function(m){return m.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(c),xr.defaultMargin=c.supportsTouch||c.supportsPointerEvent?20:10,d.prototype.resizable=function(m){return function(w,g,v){return u.default.object(g)?(w.options.resize.enabled=g.enabled!==!1,w.setPerAction("resize",g),w.setOnEvents("resize",g),u.default.string(g.axis)&&/^x$|^y$|^xy$/.test(g.axis)?w.options.resize.axis=g.axis:g.axis===null&&(w.options.resize.axis=v.defaults.actions.resize.axis),u.default.bool(g.preserveAspectRatio)?w.options.resize.preserveAspectRatio=g.preserveAspectRatio:u.default.bool(g.square)&&(w.options.resize.square=g.square),w):u.default.bool(g)?(w.options.resize.enabled=g,w):w.options.resize}(this,m,a)},l.map.resize=xr,l.methodDict.resize="resizable",p.actions.resize=xr.defaults},listeners:{"interactions:new":function(a){a.interaction.resizeAxes="xy"},"interactions:action-start":function(a){(function(l){var c=l.iEvent,d=l.interaction;if(d.prepared.name==="resize"&&d.prepared.edges){var p=c,m=d.rect;d._rects={start:(0,ie.default)({},m),corrected:(0,ie.default)({},m),previous:(0,ie.default)({},m),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},p.edges=d.prepared.edges,p.rect=d._rects.corrected,p.deltaRect=d._rects.delta}})(a),pw(a)},"interactions:action-move":function(a){(function(l){var c=l.iEvent,d=l.interaction;if(d.prepared.name==="resize"&&d.prepared.edges){var p=c,m=d.interactable.options.resize.invert,w=m==="reposition"||m==="negate",g=d.rect,v=d._rects,E=v.start,k=v.corrected,C=v.delta,P=v.previous;if((0,ie.default)(P,k),w){if((0,ie.default)(k,g),m==="reposition"){if(k.top>k.bottom){var M=k.top;k.top=k.bottom,k.bottom=M}if(k.left>k.right){var O=k.left;k.left=k.right,k.right=O}}}else k.top=Math.min(g.top,E.bottom),k.bottom=Math.max(g.bottom,E.top),k.left=Math.min(g.left,E.right),k.right=Math.max(g.right,E.left);for(var V in k.width=k.right-k.left,k.height=k.bottom-k.top,k)C[V]=k[V]-P[V];p.edges=d.prepared.edges,p.rect=k,p.deltaRect=C}})(a),pw(a)},"interactions:action-end":function(a){var l=a.iEvent,c=a.interaction;if(c.prepared.name==="resize"&&c.prepared.edges){var d=l;d.edges=c.prepared.edges,d.rect=c._rects.corrected,d.deltaRect=c._rects.delta}},"auto-start:check":function(a){var l=a.interaction,c=a.interactable,d=a.element,p=a.rect,m=a.buttons;if(p){var w=(0,ie.default)({},l.coords.cur.page),g=c.options.resize;if(g&&g.enabled&&(!l.pointerIsDown||!/mouse|pointer/.test(l.pointerType)||m&g.mouseButtons)){if(u.default.object(g.edges)){var v={left:!1,right:!1,top:!1,bottom:!1};for(var E in v)v[E]=nO(E,g.edges[E],w,l._latestPointer.eventTarget,d,p,g.margin||xr.defaultMargin);v.left=v.left&&!v.right,v.top=v.top&&!v.bottom,(v.left||v.right||v.top||v.bottom)&&(a.action={name:"resize",edges:v})}else{var k=g.axis!=="y"&&w.x>p.right-xr.defaultMargin,C=g.axis!=="x"&&w.y>p.bottom-xr.defaultMargin;(k||C)&&(a.action={name:"resize",axes:(k?"x":"")+(C?"y":"")})}return!a.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(a){var l=a.edges,c=a.axis,d=a.name,p=xr.cursors,m=null;if(c)m=p[d+c];else if(l){for(var w="",g=["top","bottom","left","right"],v=0;v<g.length;v++){var E=g[v];l[E]&&(w+=E)}m=p[w]}return m},defaultMargin:null},rO=xr;Xu.default=rO;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.default=void 0;var iO={id:"actions",install:function(a){a.usePlugin(Qu.default),a.usePlugin(Xu.default),a.usePlugin(S.default),a.usePlugin(Ku.default)}};Ia.default=iO;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.default=void 0;var Cr,os,mw=0,sO={request:function(a){return Cr(a)},cancel:function(a){return os(a)},init:function(a){if(Cr=a.requestAnimationFrame,os=a.cancelAnimationFrame,!Cr)for(var l=["ms","moz","webkit","o"],c=0;c<l.length;c++){var d=l[c];Cr=a["".concat(d,"RequestAnimationFrame")],os=a["".concat(d,"CancelAnimationFrame")]||a["".concat(d,"CancelRequestAnimationFrame")]}Cr=Cr&&Cr.bind(a),os=os&&os.bind(a),Cr||(Cr=function(p){var m=Date.now(),w=Math.max(0,16-(m-mw)),g=a.setTimeout(function(){p(m+w)},w);return mw=m+w,g},os=function(p){return clearTimeout(p)})}};Hn.default=sO;var Or={};Object.defineProperty(Or,"__esModule",{value:!0}),Or.default=void 0,Or.getContainer=Ju,Or.getScroll=ba,Or.getScrollSize=function(a){return u.default.window(a)&&(a=window.document.body),{x:a.scrollWidth,y:a.scrollHeight}},Or.getScrollSizeDelta=function(a,l){var c=a.interaction,d=a.element,p=c&&c.interactable.options[c.prepared.name].autoScroll;if(!p||!p.enabled)return l(),{x:0,y:0};var m=Ju(p.container,c.interactable,d),w=ba(m);l();var g=ba(m);return{x:g.x-w.x,y:g.y-w.y}};var ue={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(a){ue.isScrolling=!0,Hn.default.cancel(ue.i),a.autoScroll=ue,ue.interaction=a,ue.prevTime=ue.now(),ue.i=Hn.default.request(ue.scroll)},stop:function(){ue.isScrolling=!1,ue.interaction&&(ue.interaction.autoScroll=null),Hn.default.cancel(ue.i)},scroll:function(){var a=ue.interaction,l=a.interactable,c=a.element,d=a.prepared.name,p=l.options[d].autoScroll,m=Ju(p.container,l,c),w=ue.now(),g=(w-ue.prevTime)/1e3,v=p.speed*g;if(v>=1){var E={x:ue.x*v,y:ue.y*v};if(E.x||E.y){var k=ba(m);u.default.window(m)?m.scrollBy(E.x,E.y):m&&(m.scrollLeft+=E.x,m.scrollTop+=E.y);var C=ba(m),P={x:C.x-k.x,y:C.y-k.y};(P.x||P.y)&&l.fire({type:"autoscroll",target:c,interactable:l,delta:P,interaction:a,container:m})}ue.prevTime=w}ue.isScrolling&&(Hn.default.cancel(ue.i),ue.i=Hn.default.request(ue.scroll))},check:function(a,l){var c;return(c=a.options[l].autoScroll)==null?void 0:c.enabled},onInteractionMove:function(a){var l=a.interaction,c=a.pointer;if(l.interacting()&&ue.check(l.interactable,l.prepared.name))if(l.simulation)ue.x=ue.y=0;else{var d,p,m,w,g=l.interactable,v=l.element,E=l.prepared.name,k=g.options[E].autoScroll,C=Ju(k.container,g,v);if(u.default.window(C))w=c.clientX<ue.margin,d=c.clientY<ue.margin,p=c.clientX>C.innerWidth-ue.margin,m=c.clientY>C.innerHeight-ue.margin;else{var P=L.getElementClientRect(C);w=c.clientX<P.left+ue.margin,d=c.clientY<P.top+ue.margin,p=c.clientX>P.right-ue.margin,m=c.clientY>P.bottom-ue.margin}ue.x=p?1:w?-1:0,ue.y=m?1:d?-1:0,ue.isScrolling||(ue.margin=k.margin,ue.speed=k.speed,ue.start(l))}}};function Ju(a,l,c){return(u.default.string(a)?(0,Ne.getStringOptionResult)(a,l,c):a)||(0,r.getWindow)(c)}function ba(a){return u.default.window(a)&&(a=window.document.body),{x:a.scrollLeft,y:a.scrollTop}}var oO={id:"auto-scroll",install:function(a){var l=a.defaults,c=a.actions;a.autoScroll=ue,ue.now=function(){return a.now()},c.phaselessTypes.autoscroll=!0,l.perAction.autoScroll=ue.defaults},listeners:{"interactions:new":function(a){a.interaction.autoScroll=null},"interactions:destroy":function(a){a.interaction.autoScroll=null,ue.stop(),ue.interaction&&(ue.interaction=null)},"interactions:stop":ue.stop,"interactions:action-move":function(a){return ue.onInteractionMove(a)}}},aO=oO;Or.default=aO;var wn={};Object.defineProperty(wn,"__esModule",{value:!0}),wn.copyAction=function(a,l){return a.name=l.name,a.axis=l.axis,a.edges=l.edges,a},wn.sign=void 0,wn.warnOnce=function(a,l){var c=!1;return function(){return c||(r.window.console.warn(l),c=!0),a.apply(this,arguments)}},wn.sign=function(a){return a>=0?1:-1};var Zu={};function lO(a){return u.default.bool(a)?(this.options.styleCursor=a,this):a===null?(delete this.options.styleCursor,this):this.options.styleCursor}function uO(a){return u.default.func(a)?(this.options.actionChecker=a,this):a===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.default=void 0;var cO={id:"auto-start/interactableMethods",install:function(a){var l=a.Interactable;l.prototype.getAction=function(c,d,p,m){var w=function(g,v,E,k,C){var P=g.getRect(k),M={action:null,interactable:g,interaction:E,element:k,rect:P,buttons:v.buttons||{0:1,1:4,3:8,4:16}[v.button]};return C.fire("auto-start:check",M),M.action}(this,d,p,m,a);return this.options.actionChecker?this.options.actionChecker(c,d,w,this,m,p):w},l.prototype.ignoreFrom=(0,wn.warnOnce)(function(c){return this._backCompatOption("ignoreFrom",c)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),l.prototype.allowFrom=(0,wn.warnOnce)(function(c){return this._backCompatOption("allowFrom",c)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),l.prototype.actionChecker=uO,l.prototype.styleCursor=lO}};Zu.default=cO;var to={};function gw(a,l,c,d,p){return l.testIgnoreAllow(l.options[a.name],c,d)&&l.options[a.name].enabled&&ec(l,c,a,p)?a:null}function dO(a,l,c,d,p,m,w){for(var g=0,v=d.length;g<v;g++){var E=d[g],k=p[g],C=E.getAction(l,c,a,k);if(C){var P=gw(C,E,k,m,w);if(P)return{action:P,interactable:E,element:k}}}return{action:null,interactable:null,element:null}}function yw(a,l,c,d,p){var m=[],w=[],g=d;function v(k){m.push(k),w.push(g)}for(;u.default.element(g);){m=[],w=[],p.interactables.forEachMatch(g,v);var E=dO(a,l,c,m,w,d,p);if(E.action&&!E.interactable.options[E.action.name].manualStart)return E;g=L.parentNode(g)}return{action:null,interactable:null,element:null}}function vw(a,l,c){var d=l.action,p=l.interactable,m=l.element;d=d||{name:null},a.interactable=p,a.element=m,(0,wn.copyAction)(a.prepared,d),a.rect=p&&d.name?p.getRect(m):null,_w(a,c),c.fire("autoStart:prepared",{interaction:a})}function ec(a,l,c,d){var p=a.options,m=p[c.name].max,w=p[c.name].maxPerElement,g=d.autoStart.maxInteractions,v=0,E=0,k=0;if(!(m&&w&&g))return!1;for(var C=0;C<d.interactions.list.length;C++){var P=d.interactions.list[C],M=P.prepared.name;if(P.interacting()&&(++v>=g||P.interactable===a&&((E+=M===c.name?1:0)>=m||P.element===l&&(k++,M===c.name&&k>=w))))return!1}return g>0}function ww(a,l){return u.default.number(a)?(l.autoStart.maxInteractions=a,this):l.autoStart.maxInteractions}function ep(a,l,c){var d=c.autoStart.cursorElement;d&&d!==a&&(d.style.cursor=""),a.ownerDocument.documentElement.style.cursor=l,a.style.cursor=l,c.autoStart.cursorElement=l?a:null}function _w(a,l){var c=a.interactable,d=a.element,p=a.prepared;if(a.pointerType==="mouse"&&c&&c.options.styleCursor){var m="";if(p.name){var w=c.options[p.name].cursorChecker;m=u.default.func(w)?w(p,c,d,a._interacting):l.actions.map[p.name].getCursor(p)}ep(a.element,m||"",l)}else l.autoStart.cursorElement&&ep(l.autoStart.cursorElement,"",l)}Object.defineProperty(to,"__esModule",{value:!0}),to.default=void 0;var hO={id:"auto-start/base",before:["actions"],install:function(a){var l=a.interactStatic,c=a.defaults;a.usePlugin(Zu.default),c.base.actionChecker=null,c.base.styleCursor=!0,(0,ie.default)(c.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),l.maxInteractions=function(d){return ww(d,a)},a.autoStart={maxInteractions:1/0,withinInteractionLimit:ec,cursorElement:null}},listeners:{"interactions:down":function(a,l){var c=a.interaction,d=a.pointer,p=a.event,m=a.eventTarget;c.interacting()||vw(c,yw(c,d,p,m,l),l)},"interactions:move":function(a,l){(function(c,d){var p=c.interaction,m=c.pointer,w=c.event,g=c.eventTarget;p.pointerType!=="mouse"||p.pointerIsDown||p.interacting()||vw(p,yw(p,m,w,g,d),d)})(a,l),function(c,d){var p=c.interaction;if(p.pointerIsDown&&!p.interacting()&&p.pointerWasMoved&&p.prepared.name){d.fire("autoStart:before-start",c);var m=p.interactable,w=p.prepared.name;w&&m&&(m.options[w].manualStart||!ec(m,p.element,p.prepared,d)?p.stop():(p.start(p.prepared,m,p.element),_w(p,d)))}}(a,l)},"interactions:stop":function(a,l){var c=a.interaction,d=c.interactable;d&&d.options.styleCursor&&ep(c.element,"",l)}},maxInteractions:ww,withinInteractionLimit:ec,validateAction:gw},fO=hO;to.default=fO;var tc={};Object.defineProperty(tc,"__esModule",{value:!0}),tc.default=void 0;var pO={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(a,l){var c=a.interaction,d=a.eventTarget,p=a.dx,m=a.dy;if(c.prepared.name==="drag"){var w=Math.abs(p),g=Math.abs(m),v=c.interactable.options.drag,E=v.startAxis,k=w>g?"x":w<g?"y":"xy";if(c.prepared.axis=v.lockAxis==="start"?k[0]:v.lockAxis,k!=="xy"&&E!=="xy"&&E!==k){c.prepared.name=null;for(var C=d,P=function(O){if(O!==c.interactable){var V=c.interactable.options.drag;if(!V.manualStart&&O.testIgnoreAllow(V,C,d)){var G=O.getAction(c.downPointer,c.downEvent,c,C);if(G&&G.name==="drag"&&function(z,te){if(!te)return!1;var ae=te.options.drag.startAxis;return z==="xy"||ae==="xy"||ae===z}(k,O)&&to.default.validateAction(G,O,C,d,l))return O}}};u.default.element(C);){var M=l.interactables.forEachMatch(C,P);if(M){c.prepared.name="drag",c.interactable=M,c.element=C;break}C=(0,L.parentNode)(C)}}}}}};tc.default=pO;var nc={};function tp(a){var l=a.prepared&&a.prepared.name;if(!l)return null;var c=a.interactable.options;return c[l].hold||c[l].delay}Object.defineProperty(nc,"__esModule",{value:!0}),nc.default=void 0;var mO={id:"auto-start/hold",install:function(a){var l=a.defaults;a.usePlugin(to.default),l.perAction.hold=0,l.perAction.delay=0},listeners:{"interactions:new":function(a){a.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(a){var l=a.interaction,c=tp(l);c>0&&(l.autoStartHoldTimer=setTimeout(function(){l.start(l.prepared,l.interactable,l.element)},c))},"interactions:move":function(a){var l=a.interaction,c=a.duplicate;l.autoStartHoldTimer&&l.pointerWasMoved&&!c&&(clearTimeout(l.autoStartHoldTimer),l.autoStartHoldTimer=null)},"autoStart:before-start":function(a){var l=a.interaction;tp(l)>0&&(l.prepared.name=null)}},getHoldDuration:tp},gO=mO;nc.default=gO;var xa={};Object.defineProperty(xa,"__esModule",{value:!0}),xa.default=void 0;var yO={id:"auto-start",install:function(a){a.usePlugin(to.default),a.usePlugin(nc.default),a.usePlugin(tc.default)}};xa.default=yO;var as={};function vO(a){return/^(always|never|auto)$/.test(a)?(this.options.preventDefault=a,this):u.default.bool(a)?(this.options.preventDefault=a?"always":"never",this):this.options.preventDefault}function wO(a){var l=a.interaction,c=a.event;l.interactable&&l.interactable.checkAndPreventDefault(c)}function Sw(a){var l=a.Interactable;l.prototype.preventDefault=vO,l.prototype.checkAndPreventDefault=function(c){return function(d,p,m){var w=d.options.preventDefault;if(w!=="never")if(w!=="always"){if(p.events.supportsPassive&&/^touch(start|move)$/.test(m.type)){var g=(0,r.getWindow)(m.target).document,v=p.getDocOptions(g);if(!v||!v.events||v.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(m.type)||u.default.element(m.target)&&(0,L.matchesSelector)(m.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||m.preventDefault()}else m.preventDefault()}(this,a,c)},a.interactions.docEvents.push({type:"dragstart",listener:function(c){for(var d=0;d<a.interactions.list.length;d++){var p=a.interactions.list[d];if(p.element&&(p.element===c.target||(0,L.nodeContains)(p.element,c.target)))return void p.interactable.checkAndPreventDefault(c)}}})}Object.defineProperty(as,"__esModule",{value:!0}),as.default=void 0,as.install=Sw;var _O={id:"core/interactablePreventDefault",install:Sw,listeners:["down","move","up","cancel"].reduce(function(a,l){return a["interactions:".concat(l)]=wO,a},{})};as.default=_O;var np={};Object.defineProperty(np,"__esModule",{value:!0}),np.default=void 0,np.default={};var Ca,rc={};Object.defineProperty(rc,"__esModule",{value:!0}),rc.default=void 0,function(a){a.touchAction="touchAction",a.boxSizing="boxSizing",a.noListeners="noListeners"}(Ca||(Ca={})),Ca.touchAction,Ca.boxSizing,Ca.noListeners;var SO={id:"dev-tools",install:function(){}};rc.default=SO;var ls={};Object.defineProperty(ls,"__esModule",{value:!0}),ls.default=function a(l){var c={};for(var d in l){var p=l[d];u.default.plainObject(p)?c[d]=a(p):u.default.array(p)?c[d]=Ue.from(p):c[d]=p}return c};var us={};function Ew(a,l){return function(c){if(Array.isArray(c))return c}(a)||function(c,d){var p=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(p!=null){var m,w,g=[],v=!0,E=!1;try{for(p=p.call(c);!(v=(m=p.next()).done)&&(g.push(m.value),!d||g.length!==d);v=!0);}catch(k){E=!0,w=k}finally{try{v||p.return==null||p.return()}finally{if(E)throw w}}return g}}(a,l)||function(c,d){if(c){if(typeof c=="string")return Tw(c,d);var p=Object.prototype.toString.call(c).slice(8,-1);return p==="Object"&&c.constructor&&(p=c.constructor.name),p==="Map"||p==="Set"?Array.from(c):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?Tw(c,d):void 0}}(a,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tw(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=Array(l);c<l;c++)d[c]=a[c];return d}function EO(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function cs(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}Object.defineProperty(us,"__esModule",{value:!0}),us.default=void 0,us.getRectOffset=kw;var TO=function(){function a(d){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,a),cs(this,"states",[]),cs(this,"startOffset",{left:0,right:0,top:0,bottom:0}),cs(this,"startDelta",void 0),cs(this,"result",void 0),cs(this,"endResult",void 0),cs(this,"edges",void 0),cs(this,"interaction",void 0),this.interaction=d,this.result=ic()}var l,c;return l=a,(c=[{key:"start",value:function(d,p){var m=d.phase,w=this.interaction,g=function(E){var k=E.interactable.options[E.prepared.name],C=k.modifiers;return C&&C.length?C:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(P){var M=k[P];return M&&M.enabled&&{options:M,methods:M._methods}}).filter(function(P){return!!P})}(w);this.prepareStates(g),this.edges=(0,ie.default)({},w.edges),this.startOffset=kw(w.rect,p),this.startDelta={x:0,y:0};var v=this.fillArg({phase:m,pageCoords:p,preEnd:!1});return this.result=ic(),this.startAll(v),this.result=this.setAll(v)}},{key:"fillArg",value:function(d){var p=this.interaction;return d.interaction=p,d.interactable=p.interactable,d.element=p.element,d.rect=d.rect||p.rect,d.edges=this.edges,d.startOffset=this.startOffset,d}},{key:"startAll",value:function(d){for(var p=0;p<this.states.length;p++){var m=this.states[p];m.methods.start&&(d.state=m,m.methods.start(d))}}},{key:"setAll",value:function(d){var p=d.phase,m=d.preEnd,w=d.skipModifiers,g=d.rect;d.coords=(0,ie.default)({},d.pageCoords),d.rect=(0,ie.default)({},g);for(var v=w?this.states.slice(w):this.states,E=ic(d.coords,d.rect),k=0;k<v.length;k++){var C,P=v[k],M=P.options,O=(0,ie.default)({},d.coords),V=null;(C=P.methods)!=null&&C.set&&this.shouldDo(M,m,p)&&(d.state=P,V=P.methods.set(d),Ne.addEdges(this.interaction.edges,d.rect,{x:d.coords.x-O.x,y:d.coords.y-O.y})),E.eventProps.push(V)}E.delta.x=d.coords.x-d.pageCoords.x,E.delta.y=d.coords.y-d.pageCoords.y,E.rectDelta.left=d.rect.left-g.left,E.rectDelta.right=d.rect.right-g.right,E.rectDelta.top=d.rect.top-g.top,E.rectDelta.bottom=d.rect.bottom-g.bottom;var G=this.result.coords,z=this.result.rect;if(G&&z){var te=E.rect.left!==z.left||E.rect.right!==z.right||E.rect.top!==z.top||E.rect.bottom!==z.bottom;E.changed=te||G.x!==E.coords.x||G.y!==E.coords.y}return E}},{key:"applyToInteraction",value:function(d){var p=this.interaction,m=d.phase,w=p.coords.cur,g=p.coords.start,v=this.result,E=this.startDelta,k=v.delta;m==="start"&&(0,ie.default)(this.startDelta,v.delta);for(var C=0;C<[[g,E],[w,k]].length;C++){var P=Ew([[g,E],[w,k]][C],2),M=P[0],O=P[1];M.page.x+=O.x,M.page.y+=O.y,M.client.x+=O.x,M.client.y+=O.y}var V=this.result.rectDelta,G=d.rect||p.rect;G.left+=V.left,G.right+=V.right,G.top+=V.top,G.bottom+=V.bottom,G.width=G.right-G.left,G.height=G.bottom-G.top}},{key:"setAndApply",value:function(d){var p=this.interaction,m=d.phase,w=d.preEnd,g=d.skipModifiers,v=this.setAll(this.fillArg({preEnd:w,phase:m,pageCoords:d.modifiedCoords||p.coords.cur.page}));if(this.result=v,!v.changed&&(!g||g<this.states.length)&&p.interacting())return!1;if(d.modifiedCoords){var E=p.coords.cur.page,k={x:d.modifiedCoords.x-E.x,y:d.modifiedCoords.y-E.y};v.coords.x+=k.x,v.coords.y+=k.y,v.delta.x+=k.x,v.delta.y+=k.y}this.applyToInteraction(d)}},{key:"beforeEnd",value:function(d){var p=d.interaction,m=d.event,w=this.states;if(w&&w.length){for(var g=!1,v=0;v<w.length;v++){var E=w[v];d.state=E;var k=E.options,C=E.methods,P=C.beforeEnd&&C.beforeEnd(d);if(P)return this.endResult=P,!1;g=g||!g&&this.shouldDo(k,!0,d.phase,!0)}g&&p.move({event:m,preEnd:!0})}}},{key:"stop",value:function(d){var p=d.interaction;if(this.states&&this.states.length){var m=(0,ie.default)({states:this.states,interactable:p.interactable,element:p.element,rect:null},d);this.fillArg(m);for(var w=0;w<this.states.length;w++){var g=this.states[w];m.state=g,g.methods.stop&&g.methods.stop(m)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(d){this.states=[];for(var p=0;p<d.length;p++){var m=d[p],w=m.options,g=m.methods,v=m.name;this.states.push({options:w,methods:g,index:p,name:v})}return this.states}},{key:"restoreInteractionCoords",value:function(d){var p=d.interaction,m=p.coords,w=p.rect,g=p.modification;if(g.result){for(var v=g.startDelta,E=g.result,k=E.delta,C=E.rectDelta,P=[[m.start,v],[m.cur,k]],M=0;M<P.length;M++){var O=Ew(P[M],2),V=O[0],G=O[1];V.page.x-=G.x,V.page.y-=G.y,V.client.x-=G.x,V.client.y-=G.y}w.left-=C.left,w.right-=C.right,w.top-=C.top,w.bottom-=C.bottom}}},{key:"shouldDo",value:function(d,p,m,w){return!(!d||d.enabled===!1||w&&!d.endOnly||d.endOnly&&!p||m==="start"&&!d.setStart)}},{key:"copyFrom",value:function(d){this.startOffset=d.startOffset,this.startDelta=d.startDelta,this.edges=d.edges,this.states=d.states.map(function(p){return(0,ls.default)(p)}),this.result=ic((0,ie.default)({},d.result.coords),(0,ie.default)({},d.result.rect))}},{key:"destroy",value:function(){for(var d in this)this[d]=null}}])&&EO(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),a}();function ic(a,l){return{rect:l,coords:a,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function kw(a,l){return a?{left:l.x-a.left,top:l.y-a.top,right:a.right-l.x,bottom:a.bottom-l.y}:{left:0,top:0,right:0,bottom:0}}us.default=TO;var xt={};function sc(a){var l=a.iEvent,c=a.interaction.modification.result;c&&(l.modifiers=c.eventProps)}Object.defineProperty(xt,"__esModule",{value:!0}),xt.addEventModifiers=sc,xt.default=void 0,xt.makeModifier=function(a,l){var c=a.defaults,d={start:a.start,set:a.set,beforeEnd:a.beforeEnd,stop:a.stop},p=function(m){var w=m||{};for(var g in w.enabled=w.enabled!==!1,c)g in w||(w[g]=c[g]);var v={options:w,methods:d,name:l,enable:function(){return w.enabled=!0,v},disable:function(){return w.enabled=!1,v}};return v};return l&&typeof l=="string"&&(p._defaults=c,p._methods=d),p};var kO={id:"modifiers/base",before:["actions"],install:function(a){a.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(a){var l=a.interaction;l.modification=new us.default(l)},"interactions:before-action-start":function(a){var l=a.interaction.modification;l.start(a,a.interaction.coords.start.page),a.interaction.edges=l.edges,l.applyToInteraction(a)},"interactions:before-action-move":function(a){return a.interaction.modification.setAndApply(a)},"interactions:before-action-end":function(a){return a.interaction.modification.beforeEnd(a)},"interactions:action-start":sc,"interactions:action-move":sc,"interactions:action-end":sc,"interactions:after-action-start":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:after-action-move":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:stop":function(a){return a.interaction.modification.stop(a)}}},IO=kO;xt.default=IO;var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.defaults=void 0,Oa.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Da={};function rp(a){return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},rp(a)}function bO(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function ip(a,l){return ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,d){return c.__proto__=d,c},ip(a,l)}function xO(a,l){if(l&&(rp(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(a)}function $e(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function oc(a){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},oc(a)}function Be(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}Object.defineProperty(Da,"__esModule",{value:!0}),Da.InteractEvent=void 0;var Iw=function(a){(function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),v&&ip(g,v)})(w,a);var l,c,d,p,m=(d=w,p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var g,v=oc(d);if(p){var E=oc(this).constructor;g=Reflect.construct(v,arguments,E)}else g=v.apply(this,arguments);return xO(this,g)});function w(g,v,E,k,C,P,M){var O;(function(je,_e){if(!(je instanceof _e))throw new TypeError("Cannot call a class as a function")})(this,w),Be($e(O=m.call(this,g)),"relatedTarget",null),Be($e(O),"screenX",void 0),Be($e(O),"screenY",void 0),Be($e(O),"button",void 0),Be($e(O),"buttons",void 0),Be($e(O),"ctrlKey",void 0),Be($e(O),"shiftKey",void 0),Be($e(O),"altKey",void 0),Be($e(O),"metaKey",void 0),Be($e(O),"page",void 0),Be($e(O),"client",void 0),Be($e(O),"delta",void 0),Be($e(O),"rect",void 0),Be($e(O),"x0",void 0),Be($e(O),"y0",void 0),Be($e(O),"t0",void 0),Be($e(O),"dt",void 0),Be($e(O),"duration",void 0),Be($e(O),"clientX0",void 0),Be($e(O),"clientY0",void 0),Be($e(O),"velocity",void 0),Be($e(O),"speed",void 0),Be($e(O),"swipe",void 0),Be($e(O),"axes",void 0),Be($e(O),"preEnd",void 0),C=C||g.element;var V=g.interactable,G=(V&&V.options||Oa.defaults).deltaSource,z=(0,le.default)(V,C,E),te=k==="start",ae=k==="end",ye=te?$e(O):g.prevEvent,Ce=te?g.coords.start:ae?{page:ye.page,client:ye.client,timeStamp:g.coords.cur.timeStamp}:g.coords.cur;return O.page=(0,ie.default)({},Ce.page),O.client=(0,ie.default)({},Ce.client),O.rect=(0,ie.default)({},g.rect),O.timeStamp=Ce.timeStamp,ae||(O.page.x-=z.x,O.page.y-=z.y,O.client.x-=z.x,O.client.y-=z.y),O.ctrlKey=v.ctrlKey,O.altKey=v.altKey,O.shiftKey=v.shiftKey,O.metaKey=v.metaKey,O.button=v.button,O.buttons=v.buttons,O.target=C,O.currentTarget=C,O.preEnd=P,O.type=M||E+(k||""),O.interactable=V,O.t0=te?g.pointers[g.pointers.length-1].downTime:ye.t0,O.x0=g.coords.start.page.x-z.x,O.y0=g.coords.start.page.y-z.y,O.clientX0=g.coords.start.client.x-z.x,O.clientY0=g.coords.start.client.y-z.y,O.delta=te||ae?{x:0,y:0}:{x:O[G].x-ye[G].x,y:O[G].y-ye[G].y},O.dt=g.coords.delta.timeStamp,O.duration=O.timeStamp-O.t0,O.velocity=(0,ie.default)({},g.coords.velocity[G]),O.speed=(0,Le.default)(O.velocity.x,O.velocity.y),O.swipe=ae||k==="inertiastart"?O.getSwipe():null,O}return l=w,(c=[{key:"getSwipe",value:function(){var g=this._interaction;if(g.prevEvent.speed<600||this.timeStamp-g.prevEvent.timeStamp>150)return null;var v=180*Math.atan2(g.prevEvent.velocityY,g.prevEvent.velocityX)/Math.PI;v<0&&(v+=360);var E=112.5<=v&&v<247.5,k=202.5<=v&&v<337.5;return{up:k,down:!k&&22.5<=v&&v<157.5,left:E,right:!E&&(292.5<=v||v<67.5),angle:v,speed:g.prevEvent.speed,velocity:{x:g.prevEvent.velocityX,y:g.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&bO(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),w}(Zs.BaseEvent);Da.InteractEvent=Iw,Object.defineProperties(Iw.prototype,{pageX:{get:function(){return this.page.x},set:function(a){this.page.x=a}},pageY:{get:function(){return this.page.y},set:function(a){this.page.y=a}},clientX:{get:function(){return this.client.x},set:function(a){this.client.x=a}},clientY:{get:function(){return this.client.y},set:function(a){this.client.y=a}},dx:{get:function(){return this.delta.x},set:function(a){this.delta.x=a}},dy:{get:function(){return this.delta.y},set:function(a){this.delta.y=a}},velocityX:{get:function(){return this.velocity.x},set:function(a){this.velocity.x=a}},velocityY:{get:function(){return this.velocity.y},set:function(a){this.velocity.y=a}}});var Ra={};function bw(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function CO(a,l,c){return l&&bw(a.prototype,l),c&&bw(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function Pa(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.PointerInfo=void 0;var OO=CO(function a(l,c,d,p,m){(function(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")})(this,a),Pa(this,"id",void 0),Pa(this,"pointer",void 0),Pa(this,"event",void 0),Pa(this,"downTime",void 0),Pa(this,"downTarget",void 0),this.id=l,this.pointer=c,this.event=d,this.downTime=p,this.downTarget=m});Ra.PointerInfo=OO;var ac,lc,cn={};function DO(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function et(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}Object.defineProperty(cn,"__esModule",{value:!0}),cn.Interaction=void 0,Object.defineProperty(cn,"PointerInfo",{enumerable:!0,get:function(){return Ra.PointerInfo}}),cn.default=cn._ProxyValues=cn._ProxyMethods=void 0,cn._ProxyValues=ac,function(a){a.interactable="",a.element="",a.prepared="",a.pointerIsDown="",a.pointerWasMoved="",a._proxy=""}(ac||(cn._ProxyValues=ac={})),cn._ProxyMethods=lc,function(a){a.start="",a.move="",a.end="",a.stop="",a.interacting=""}(lc||(cn._ProxyMethods=lc={}));var RO=0,xw=function(){function a(d){var p=this,m=d.pointerType,w=d.scopeFire;(function(P,M){if(!(P instanceof M))throw new TypeError("Cannot call a class as a function")})(this,a),et(this,"interactable",null),et(this,"element",null),et(this,"rect",null),et(this,"_rects",void 0),et(this,"edges",null),et(this,"_scopeFire",void 0),et(this,"prepared",{name:null,axis:null,edges:null}),et(this,"pointerType",void 0),et(this,"pointers",[]),et(this,"downEvent",null),et(this,"downPointer",{}),et(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),et(this,"prevEvent",null),et(this,"pointerIsDown",!1),et(this,"pointerWasMoved",!1),et(this,"_interacting",!1),et(this,"_ending",!1),et(this,"_stopped",!0),et(this,"_proxy",null),et(this,"simulation",null),et(this,"doMove",(0,wn.warnOnce)(function(P){this.move(P)},"The interaction.doMove() method has been renamed to interaction.move()")),et(this,"coords",{start:X.newCoords(),prev:X.newCoords(),cur:X.newCoords(),delta:X.newCoords(),velocity:X.newCoords()}),et(this,"_id",RO++),this._scopeFire=w,this.pointerType=m;var g=this;this._proxy={};var v=function(P){Object.defineProperty(p._proxy,P,{get:function(){return g[P]}})};for(var E in ac)v(E);var k=function(P){Object.defineProperty(p._proxy,P,{value:function(){return g[P].apply(g,arguments)}})};for(var C in lc)k(C);this._scopeFire("interactions:new",{interaction:this})}var l,c;return l=a,c=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(d,p,m){var w=this.updatePointer(d,p,m,!0),g=this.pointers[w];this._scopeFire("interactions:down",{pointer:d,event:p,eventTarget:m,pointerIndex:w,pointerInfo:g,type:"down",interaction:this})}},{key:"start",value:function(d,p,m){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(d.name==="gesture"?2:1)||!p.options[d.name].enabled)&&((0,wn.copyAction)(this.prepared,d),this.interactable=p,this.element=m,this.rect=p.getRect(m),this.edges=this.prepared.edges?(0,ie.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(d,p,m){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(d,p,m,!1);var w,g,v=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(w=this.coords.cur.client.x-this.coords.start.client.x,g=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,Le.default)(w,g)>this.pointerMoveTolerance);var E=this.getPointerIndex(d),k={pointer:d,pointerIndex:E,pointerInfo:this.pointers[E],event:p,type:"move",eventTarget:m,dx:w,dy:g,duplicate:v,interaction:this};v||X.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",k),v||this.simulation||(this.interacting()&&(k.type=null,this.move(k)),this.pointerWasMoved&&X.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(d){d&&d.event||X.setZeroCoords(this.coords.delta),(d=(0,ie.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},d||{})).phase="move",this._doPhase(d)}},{key:"pointerUp",value:function(d,p,m,w){var g=this.getPointerIndex(d);g===-1&&(g=this.updatePointer(d,p,m,!1));var v=/cancel$/i.test(p.type)?"cancel":"up";this._scopeFire("interactions:".concat(v),{pointer:d,pointerIndex:g,pointerInfo:this.pointers[g],event:p,eventTarget:m,type:v,curEventTarget:w,interaction:this}),this.simulation||this.end(p),this.removePointer(d,p)}},{key:"documentBlur",value:function(d){this.end(d),this._scopeFire("interactions:blur",{event:d,type:"blur",interaction:this})}},{key:"end",value:function(d){var p;this._ending=!0,d=d||this._latestPointer.event,this.interacting()&&(p=this._doPhase({event:d,interaction:this,phase:"end"})),this._ending=!1,p===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(d){var p=X.getPointerId(d);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Ue.findIndex(this.pointers,function(m){return m.id===p})}},{key:"getPointerInfo",value:function(d){return this.pointers[this.getPointerIndex(d)]}},{key:"updatePointer",value:function(d,p,m,w){var g=X.getPointerId(d),v=this.getPointerIndex(d),E=this.pointers[v];return w=w!==!1&&(w||/(down|start)$/i.test(p.type)),E?E.pointer=d:(E=new Ra.PointerInfo(g,d,p,null,null),v=this.pointers.length,this.pointers.push(E)),X.setCoords(this.coords.cur,this.pointers.map(function(k){return k.pointer}),this._now()),X.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),w&&(this.pointerIsDown=!0,E.downTime=this.coords.cur.timeStamp,E.downTarget=m,X.pointerExtend(this.downPointer,d),this.interacting()||(X.copyCoords(this.coords.start,this.coords.cur),X.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=p,this.pointerWasMoved=!1)),this._updateLatestPointer(d,p,m),this._scopeFire("interactions:update-pointer",{pointer:d,event:p,eventTarget:m,down:w,pointerInfo:E,pointerIndex:v,interaction:this}),v}},{key:"removePointer",value:function(d,p){var m=this.getPointerIndex(d);if(m!==-1){var w=this.pointers[m];this._scopeFire("interactions:remove-pointer",{pointer:d,event:p,eventTarget:null,pointerIndex:m,pointerInfo:w,interaction:this}),this.pointers.splice(m,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(d,p,m){this._latestPointer.pointer=d,this._latestPointer.event=p,this._latestPointer.eventTarget=m}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(d,p,m,w){return new Da.InteractEvent(this,d,this.prepared.name,p,this.element,m,w)}},{key:"_fireEvent",value:function(d){var p;(p=this.interactable)==null||p.fire(d),(!this.prevEvent||d.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=d)}},{key:"_doPhase",value:function(d){var p=d.event,m=d.phase,w=d.preEnd,g=d.type,v=this.rect;if(v&&m==="move"&&(Ne.addEdges(this.edges,v,this.coords.delta[this.interactable.options.deltaSource]),v.width=v.right-v.left,v.height=v.bottom-v.top),this._scopeFire("interactions:before-action-".concat(m),d)===!1)return!1;var E=d.iEvent=this._createPreparedEvent(p,m,w,g);return this._scopeFire("interactions:action-".concat(m),d),m==="start"&&(this.prevEvent=E),this._fireEvent(E),this._scopeFire("interactions:after-action-".concat(m),d),!0}},{key:"_now",value:function(){return Date.now()}}],c&&DO(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),a}();cn.Interaction=xw;var PO=xw;cn.default=PO;var ui={};function Cw(a){a.pointerIsDown&&(op(a.coords.cur,a.offset.total),a.offset.pending.x=0,a.offset.pending.y=0)}function Ow(a){sp(a.interaction)}function sp(a){if(!function(c){return!(!c.offset.pending.x&&!c.offset.pending.y)}(a))return!1;var l=a.offset.pending;return op(a.coords.cur,l),op(a.coords.delta,l),Ne.addEdges(a.edges,a.rect,l),l.x=0,l.y=0,!0}function NO(a){var l=a.x,c=a.y;this.offset.pending.x+=l,this.offset.pending.y+=c,this.offset.total.x+=l,this.offset.total.y+=c}function op(a,l){var c=a.page,d=a.client,p=l.x,m=l.y;c.x+=p,c.y+=m,d.x+=p,d.y+=m}Object.defineProperty(ui,"__esModule",{value:!0}),ui.addTotal=Cw,ui.applyPending=sp,ui.default=void 0,cn._ProxyMethods.offsetBy="";var AO={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(a){a.Interaction.prototype.offsetBy=NO},listeners:{"interactions:new":function(a){a.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(a){return Cw(a.interaction)},"interactions:before-action-start":Ow,"interactions:before-action-move":Ow,"interactions:before-action-end":function(a){var l=a.interaction;if(sp(l))return l.move({offset:!0}),l.end(),!1},"interactions:stop":function(a){var l=a.interaction;l.offset.total.x=0,l.offset.total.y=0,l.offset.pending.x=0,l.offset.pending.y=0}}},MO=AO;ui.default=MO;var ds={};function LO(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function St(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}Object.defineProperty(ds,"__esModule",{value:!0}),ds.default=ds.InertiaState=void 0;var Dw=function(){function a(d){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,a),St(this,"active",!1),St(this,"isModified",!1),St(this,"smoothEnd",!1),St(this,"allowResume",!1),St(this,"modification",void 0),St(this,"modifierCount",0),St(this,"modifierArg",void 0),St(this,"startCoords",void 0),St(this,"t0",0),St(this,"v0",0),St(this,"te",0),St(this,"targetOffset",void 0),St(this,"modifiedOffset",void 0),St(this,"currentOffset",void 0),St(this,"lambda_v0",0),St(this,"one_ve_v0",0),St(this,"timeout",void 0),St(this,"interaction",void 0),this.interaction=d}var l,c;return l=a,(c=[{key:"start",value:function(d){var p=this.interaction,m=uc(p);if(!m||!m.enabled)return!1;var w=p.coords.velocity.client,g=(0,Le.default)(w.x,w.y),v=this.modification||(this.modification=new us.default(p));if(v.copyFrom(p.modification),this.t0=p._now(),this.allowResume=m.allowResume,this.v0=g,this.currentOffset={x:0,y:0},this.startCoords=p.coords.cur.page,this.modifierArg=v.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-p.coords.cur.timeStamp<50&&g>m.minSpeed&&g>m.endSpeed)this.startInertia();else{if(v.result=v.setAll(this.modifierArg),!v.result.changed)return!1;this.startSmoothEnd()}return p.modification.result.rect=null,p.offsetBy(this.targetOffset),p._doPhase({interaction:p,event:d,phase:"inertiastart"}),p.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),p.modification.result.rect=null,this.active=!0,p.simulation=this,!0}},{key:"startInertia",value:function(){var d=this,p=this.interaction.coords.velocity.client,m=uc(this.interaction),w=m.resistance,g=-Math.log(m.endSpeed/this.v0)/w;this.targetOffset={x:(p.x-g)/w,y:(p.y-g)/w},this.te=g,this.lambda_v0=w/this.v0,this.one_ve_v0=1-m.endSpeed/this.v0;var v=this.modification,E=this.modifierArg;E.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},v.result=v.setAll(E),v.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+v.result.delta.x,y:this.targetOffset.y+v.result.delta.y}),this.onNextFrame(function(){return d.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var d=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return d.smoothEndTick()})}},{key:"onNextFrame",value:function(d){var p=this;this.timeout=Hn.default.request(function(){p.active&&d()})}},{key:"inertiaTick",value:function(){var d,p,m,w,g,v=this,E=this.interaction,k=uc(E).resistance,C=(E._now()-this.t0)/1e3;if(C<this.te){var P,M=1-(Math.exp(-k*C)-this.lambda_v0)/this.one_ve_v0;this.isModified?(d=this.targetOffset.x,p=this.targetOffset.y,m=this.modifiedOffset.x,w=this.modifiedOffset.y,P={x:Rw(g=M,0,d,m),y:Rw(g,0,p,w)}):P={x:this.targetOffset.x*M,y:this.targetOffset.y*M};var O={x:P.x-this.currentOffset.x,y:P.y-this.currentOffset.y};this.currentOffset.x+=O.x,this.currentOffset.y+=O.y,E.offsetBy(O),E.move(),this.onNextFrame(function(){return v.inertiaTick()})}else E.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var d=this,p=this.interaction,m=p._now()-this.t0,w=uc(p).smoothEndDuration;if(m<w){var g={x:Pw(m,0,this.targetOffset.x,w),y:Pw(m,0,this.targetOffset.y,w)},v={x:g.x-this.currentOffset.x,y:g.y-this.currentOffset.y};this.currentOffset.x+=v.x,this.currentOffset.y+=v.y,p.offsetBy(v),p.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return d.smoothEndTick()})}else p.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(d){var p=d.pointer,m=d.event,w=d.eventTarget,g=this.interaction;g.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),g.updatePointer(p,m,w,!0),g._doPhase({interaction:g,event:m,phase:"resume"}),(0,X.copyCoords)(g.coords.prev,g.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Hn.default.cancel(this.timeout)}}])&&LO(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),a}();function uc(a){var l=a.interactable,c=a.prepared;return l&&l.options&&c.name&&l.options[c.name].inertia}ds.InertiaState=Dw;var UO={id:"inertia",before:["modifiers","actions"],install:function(a){var l=a.defaults;a.usePlugin(ui.default),a.usePlugin(xt.default),a.actions.phases.inertiastart=!0,a.actions.phases.resume=!0,l.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(a){var l=a.interaction;l.inertia=new Dw(l)},"interactions:before-action-end":function(a){var l=a.interaction,c=a.event;return(!l._interacting||l.simulation||!l.inertia.start(c))&&null},"interactions:down":function(a){var l=a.interaction,c=a.eventTarget,d=l.inertia;if(d.active)for(var p=c;u.default.element(p);){if(p===l.element){d.resume(a);break}p=L.parentNode(p)}},"interactions:stop":function(a){var l=a.interaction.inertia;l.active&&l.stop()},"interactions:before-action-resume":function(a){var l=a.interaction.modification;l.stop(a),l.start(a,a.interaction.coords.cur.page),l.applyToInteraction(a)},"interactions:before-action-inertiastart":function(a){return a.interaction.modification.setAndApply(a)},"interactions:action-resume":xt.addEventModifiers,"interactions:action-inertiastart":xt.addEventModifiers,"interactions:after-action-inertiastart":function(a){return a.interaction.modification.restoreInteractionCoords(a)},"interactions:after-action-resume":function(a){return a.interaction.modification.restoreInteractionCoords(a)}}};function Rw(a,l,c,d){var p=1-a;return p*p*l+2*p*a*c+a*a*d}function Pw(a,l,c,d){return-c*(a/=d)*(a-2)+l}var $O=UO;ds.default=$O;var Na={};function FO(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Aa(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}function Nw(a,l){for(var c=0;c<l.length;c++){var d=l[c];if(a.immediatePropagationStopped)break;d(a)}}Object.defineProperty(Na,"__esModule",{value:!0}),Na.Eventable=void 0;var jO=function(){function a(d){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,a),Aa(this,"options",void 0),Aa(this,"types",{}),Aa(this,"propagationStopped",!1),Aa(this,"immediatePropagationStopped",!1),Aa(this,"global",void 0),this.options=(0,ie.default)({},d||{})}var l,c;return l=a,(c=[{key:"fire",value:function(d){var p,m=this.global;(p=this.types[d.type])&&Nw(d,p),!d.propagationStopped&&m&&(p=m[d.type])&&Nw(d,p)}},{key:"on",value:function(d,p){var m=(0,he.default)(d,p);for(d in m)this.types[d]=Ue.merge(this.types[d]||[],m[d])}},{key:"off",value:function(d,p){var m=(0,he.default)(d,p);for(d in m){var w=this.types[d];if(w&&w.length)for(var g=0;g<m[d].length;g++){var v=m[d][g],E=w.indexOf(v);E!==-1&&w.splice(E,1)}}}},{key:"getRect",value:function(d){return null}}])&&FO(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),a}();Na.Eventable=jO;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.default=function(a,l){if(l.phaselessTypes[a])return!0;for(var c in l.map)if(a.indexOf(c)===0&&a.substr(c.length)in l.phases)return!0;return!1};var ap={};Object.defineProperty(ap,"__esModule",{value:!0}),ap.createInteractStatic=function(a){var l=function c(d,p){var m=a.interactables.get(d,p);return m||((m=a.interactables.new(d,p)).events.global=c.globalEvents),m};return l.getPointerAverage=X.pointerAverage,l.getTouchBBox=X.touchBBox,l.getTouchDistance=X.touchDistance,l.getTouchAngle=X.touchAngle,l.getElementRect=L.getElementRect,l.getElementClientRect=L.getElementClientRect,l.matchesSelector=L.matchesSelector,l.closest=L.closest,l.globalEvents={},l.version="1.10.17",l.scope=a,l.use=function(c,d){return this.scope.usePlugin(c,d),this},l.isSet=function(c,d){return!!this.scope.interactables.get(c,d&&d.context)},l.on=(0,wn.warnOnce)(function(c,d,p){if(u.default.string(c)&&c.search(" ")!==-1&&(c=c.trim().split(/ +/)),u.default.array(c)){for(var m=0;m<c.length;m++){var w=c[m];this.on(w,d,p)}return this}if(u.default.object(c)){for(var g in c)this.on(g,c[g],d);return this}return(0,Ma.default)(c,this.scope.actions)?this.globalEvents[c]?this.globalEvents[c].push(d):this.globalEvents[c]=[d]:this.scope.events.add(this.scope.document,c,d,{options:p}),this},"The interact.on() method is being deprecated"),l.off=(0,wn.warnOnce)(function(c,d,p){if(u.default.string(c)&&c.search(" ")!==-1&&(c=c.trim().split(/ +/)),u.default.array(c)){for(var m=0;m<c.length;m++){var w=c[m];this.off(w,d,p)}return this}if(u.default.object(c)){for(var g in c)this.off(g,c[g],d);return this}var v;return(0,Ma.default)(c,this.scope.actions)?c in this.globalEvents&&(v=this.globalEvents[c].indexOf(d))!==-1&&this.globalEvents[c].splice(v,1):this.scope.events.remove(this.scope.document,c,d,p),this},"The interact.off() method is being deprecated"),l.debug=function(){return this.scope},l.supportsTouch=function(){return j.default.supportsTouch},l.supportsPointerEvent=function(){return j.default.supportsPointerEvent},l.stop=function(){for(var c=0;c<this.scope.interactions.list.length;c++)this.scope.interactions.list[c].stop();return this},l.pointerMoveTolerance=function(c){return u.default.number(c)?(this.scope.interactions.pointerMoveTolerance=c,this):this.scope.interactions.pointerMoveTolerance},l.addDocument=function(c,d){this.scope.addDocument(c,d)},l.removeDocument=function(c){this.scope.removeDocument(c)},l};var cc={};function VO(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function Dr(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}Object.defineProperty(cc,"__esModule",{value:!0}),cc.Interactable=void 0;var zO=function(){function a(d,p,m,w){(function(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,a),Dr(this,"options",void 0),Dr(this,"_actions",void 0),Dr(this,"target",void 0),Dr(this,"events",new Na.Eventable),Dr(this,"_context",void 0),Dr(this,"_win",void 0),Dr(this,"_doc",void 0),Dr(this,"_scopeEvents",void 0),Dr(this,"_rectChecker",void 0),this._actions=p.actions,this.target=d,this._context=p.context||m,this._win=(0,r.getWindow)((0,L.trySelector)(d)?this._context:d),this._doc=this._win.document,this._scopeEvents=w,this.set(p)}var l,c;return l=a,(c=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(d,p){return u.default.func(p.onstart)&&this.on("".concat(d,"start"),p.onstart),u.default.func(p.onmove)&&this.on("".concat(d,"move"),p.onmove),u.default.func(p.onend)&&this.on("".concat(d,"end"),p.onend),u.default.func(p.oninertiastart)&&this.on("".concat(d,"inertiastart"),p.oninertiastart),this}},{key:"updatePerActionListeners",value:function(d,p,m){(u.default.array(p)||u.default.object(p))&&this.off(d,p),(u.default.array(m)||u.default.object(m))&&this.on(d,m)}},{key:"setPerAction",value:function(d,p){var m=this._defaults;for(var w in p){var g=w,v=this.options[d],E=p[g];g==="listeners"&&this.updatePerActionListeners(d,v.listeners,E),u.default.array(E)?v[g]=Ue.from(E):u.default.plainObject(E)?(v[g]=(0,ie.default)(v[g]||{},(0,ls.default)(E)),u.default.object(m.perAction[g])&&"enabled"in m.perAction[g]&&(v[g].enabled=E.enabled!==!1)):u.default.bool(E)&&u.default.object(m.perAction[g])?v[g].enabled=E:v[g]=E}}},{key:"getRect",value:function(d){return d=d||(u.default.element(this.target)?this.target:null),u.default.string(this.target)&&(d=d||this._context.querySelector(this.target)),(0,L.getElementRect)(d)}},{key:"rectChecker",value:function(d){var p=this;return u.default.func(d)?(this._rectChecker=d,this.getRect=function(m){var w=(0,ie.default)({},p._rectChecker(m));return"width"in w||(w.width=w.right-w.left,w.height=w.bottom-w.top),w},this):d===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(d,p){if((0,L.trySelector)(p)||u.default.object(p)){for(var m in this.options[d]=p,this._actions.map)this.options[m][d]=p;return this}return this.options[d]}},{key:"origin",value:function(d){return this._backCompatOption("origin",d)}},{key:"deltaSource",value:function(d){return d==="page"||d==="client"?(this.options.deltaSource=d,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(d){return this._context===d.ownerDocument||(0,L.nodeContains)(this._context,d)}},{key:"testIgnoreAllow",value:function(d,p,m){return!this.testIgnore(d.ignoreFrom,p,m)&&this.testAllow(d.allowFrom,p,m)}},{key:"testAllow",value:function(d,p,m){return!d||!!u.default.element(m)&&(u.default.string(d)?(0,L.matchesUpTo)(m,d,p):!!u.default.element(d)&&(0,L.nodeContains)(d,m))}},{key:"testIgnore",value:function(d,p,m){return!(!d||!u.default.element(m))&&(u.default.string(d)?(0,L.matchesUpTo)(m,d,p):!!u.default.element(d)&&(0,L.nodeContains)(d,m))}},{key:"fire",value:function(d){return this.events.fire(d),this}},{key:"_onOff",value:function(d,p,m,w){u.default.object(p)&&!u.default.array(p)&&(w=m,m=null);var g=d==="on"?"add":"remove",v=(0,he.default)(p,m);for(var E in v){E==="wheel"&&(E=j.default.wheelEvent);for(var k=0;k<v[E].length;k++){var C=v[E][k];(0,Ma.default)(E,this._actions)?this.events[d](E,C):u.default.string(this.target)?this._scopeEvents["".concat(g,"Delegate")](this.target,this._context,E,C,w):this._scopeEvents[g](this.target,E,C,w)}}return this}},{key:"on",value:function(d,p,m){return this._onOff("on",d,p,m)}},{key:"off",value:function(d,p,m){return this._onOff("off",d,p,m)}},{key:"set",value:function(d){var p=this._defaults;for(var m in u.default.object(d)||(d={}),this.options=(0,ls.default)(p.base),this._actions.methodDict){var w=m,g=this._actions.methodDict[w];this.options[w]={},this.setPerAction(w,(0,ie.default)((0,ie.default)({},p.perAction),p.actions[w])),this[g](d[w])}for(var v in d)u.default.func(this[v])&&this[v](d[v]);return this}},{key:"unset",value:function(){if(u.default.string(this.target))for(var d in this._scopeEvents.delegatedEvents)for(var p=this._scopeEvents.delegatedEvents[d],m=p.length-1;m>=0;m--){var w=p[m],g=w.selector,v=w.context,E=w.listeners;g===this.target&&v===this._context&&p.splice(m,1);for(var k=E.length-1;k>=0;k--)this._scopeEvents.removeDelegate(this.target,this._context,d,E[k][0],E[k][1])}else this._scopeEvents.remove(this.target,"all")}}])&&VO(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),a}();cc.Interactable=zO;var dc={};function BO(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function lp(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}Object.defineProperty(dc,"__esModule",{value:!0}),dc.InteractableSet=void 0;var WO=function(){function a(d){var p=this;(function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")})(this,a),lp(this,"list",[]),lp(this,"selectorMap",{}),lp(this,"scope",void 0),this.scope=d,d.addListeners({"interactable:unset":function(m){var w=m.interactable,g=w.target,v=w._context,E=u.default.string(g)?p.selectorMap[g]:g[p.scope.id],k=Ue.findIndex(E,function(C){return C.context===v});E[k]&&(E[k].context=null,E[k].interactable=null),E.splice(k,1)}})}var l,c;return l=a,(c=[{key:"new",value:function(d,p){p=(0,ie.default)(p||{},{actions:this.scope.actions});var m=new this.scope.Interactable(d,p,this.scope.document,this.scope.events),w={context:m._context,interactable:m};return this.scope.addDocument(m._doc),this.list.push(m),u.default.string(d)?(this.selectorMap[d]||(this.selectorMap[d]=[]),this.selectorMap[d].push(w)):(m.target[this.scope.id]||Object.defineProperty(d,this.scope.id,{value:[],configurable:!0}),d[this.scope.id].push(w)),this.scope.fire("interactable:new",{target:d,options:p,interactable:m,win:this.scope._win}),m}},{key:"get",value:function(d,p){var m=p&&p.context||this.scope.document,w=u.default.string(d),g=w?this.selectorMap[d]:d[this.scope.id];if(!g)return null;var v=Ue.find(g,function(E){return E.context===m&&(w||E.interactable.inContext(d))});return v&&v.interactable}},{key:"forEachMatch",value:function(d,p){for(var m=0;m<this.list.length;m++){var w=this.list[m],g=void 0;if((u.default.string(w.target)?u.default.element(d)&&L.matchesSelector(d,w.target):d===w.target)&&w.inContext(d)&&(g=p(w)),g!==void 0)return g}}}])&&BO(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),a}();dc.InteractableSet=WO;var hc={};function HO(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function up(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}function cp(a,l){return function(c){if(Array.isArray(c))return c}(a)||function(c,d){var p=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(p!=null){var m,w,g=[],v=!0,E=!1;try{for(p=p.call(c);!(v=(m=p.next()).done)&&(g.push(m.value),!d||g.length!==d);v=!0);}catch(k){E=!0,w=k}finally{try{v||p.return==null||p.return()}finally{if(E)throw w}}return g}}(a,l)||function(c,d){if(c){if(typeof c=="string")return Aw(c,d);var p=Object.prototype.toString.call(c).slice(8,-1);return p==="Object"&&c.constructor&&(p=c.constructor.name),p==="Map"||p==="Set"?Array.from(c):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?Aw(c,d):void 0}}(a,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Aw(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=Array(l);c<l;c++)d[c]=a[c];return d}Object.defineProperty(hc,"__esModule",{value:!0}),hc.default=void 0;var YO=function(){function a(d){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,a),up(this,"currentTarget",void 0),up(this,"originalEvent",void 0),up(this,"type",void 0),this.originalEvent=d,(0,Ir.default)(this,d)}var l,c;return l=a,(c=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&HO(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),a}();function La(a){if(!u.default.object(a))return{capture:!!a,passive:!1};var l=(0,ie.default)({},a);return l.capture=!!a.capture,l.passive=!!a.passive,l}var GO={id:"events",install:function(a){var l,c=[],d={},p=[],m={add:w,remove:g,addDelegate:function(k,C,P,M,O){var V=La(O);if(!d[P]){d[P]=[];for(var G=0;G<p.length;G++){var z=p[G];w(z,P,v),w(z,P,E,!0)}}var te=d[P],ae=Ue.find(te,function(ye){return ye.selector===k&&ye.context===C});ae||(ae={selector:k,context:C,listeners:[]},te.push(ae)),ae.listeners.push([M,V])},removeDelegate:function(k,C,P,M,O){var V,G=La(O),z=d[P],te=!1;if(z)for(V=z.length-1;V>=0;V--){var ae=z[V];if(ae.selector===k&&ae.context===C){for(var ye=ae.listeners,Ce=ye.length-1;Ce>=0;Ce--){var je=cp(ye[Ce],2),_e=je[0],Fe=je[1],An=Fe.capture,Pr=Fe.passive;if(_e===M&&An===G.capture&&Pr===G.passive){ye.splice(Ce,1),ye.length||(z.splice(V,1),g(C,P,v),g(C,P,E,!0)),te=!0;break}}if(te)break}}},delegateListener:v,delegateUseCapture:E,delegatedEvents:d,documents:p,targets:c,supportsOptions:!1,supportsPassive:!1};function w(k,C,P,M){var O=La(M),V=Ue.find(c,function(G){return G.eventTarget===k});V||(V={eventTarget:k,events:{}},c.push(V)),V.events[C]||(V.events[C]=[]),k.addEventListener&&!Ue.contains(V.events[C],P)&&(k.addEventListener(C,P,m.supportsOptions?O:O.capture),V.events[C].push(P))}function g(k,C,P,M){var O=La(M),V=Ue.findIndex(c,function(Ce){return Ce.eventTarget===k}),G=c[V];if(G&&G.events)if(C!=="all"){var z=!1,te=G.events[C];if(te){if(P==="all"){for(var ae=te.length-1;ae>=0;ae--)g(k,C,te[ae],O);return}for(var ye=0;ye<te.length;ye++)if(te[ye]===P){k.removeEventListener(C,P,m.supportsOptions?O:O.capture),te.splice(ye,1),te.length===0&&(delete G.events[C],z=!0);break}}z&&!Object.keys(G.events).length&&c.splice(V,1)}else for(C in G.events)G.events.hasOwnProperty(C)&&g(k,C,"all")}function v(k,C){for(var P=La(C),M=new YO(k),O=d[k.type],V=cp(X.getEventTargets(k),1)[0],G=V;u.default.element(G);){for(var z=0;z<O.length;z++){var te=O[z],ae=te.selector,ye=te.context;if(L.matchesSelector(G,ae)&&L.nodeContains(ye,V)&&L.nodeContains(ye,G)){var Ce=te.listeners;M.currentTarget=G;for(var je=0;je<Ce.length;je++){var _e=cp(Ce[je],2),Fe=_e[0],An=_e[1],Pr=An.capture,Op=An.passive;Pr===P.capture&&Op===P.passive&&Fe(M)}}}G=L.parentNode(G)}}function E(k){return v(k,!0)}return(l=a.document)==null||l.createElement("div").addEventListener("test",null,{get capture(){return m.supportsOptions=!0},get passive(){return m.supportsPassive=!0}}),a.events=m,m}};hc.default=GO;var fc={};Object.defineProperty(fc,"__esModule",{value:!0}),fc.default=void 0;var pc={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(a){for(var l=0;l<pc.methodOrder.length;l++){var c;c=pc.methodOrder[l];var d=pc[c](a);if(d)return d}return null},simulationResume:function(a){var l=a.pointerType,c=a.eventType,d=a.eventTarget,p=a.scope;if(!/down|start/i.test(c))return null;for(var m=0;m<p.interactions.list.length;m++){var w=p.interactions.list[m],g=d;if(w.simulation&&w.simulation.allowResume&&w.pointerType===l)for(;g;){if(g===w.element)return w;g=L.parentNode(g)}}return null},mouseOrPen:function(a){var l,c=a.pointerId,d=a.pointerType,p=a.eventType,m=a.scope;if(d!=="mouse"&&d!=="pen")return null;for(var w=0;w<m.interactions.list.length;w++){var g=m.interactions.list[w];if(g.pointerType===d){if(g.simulation&&!Mw(g,c))continue;if(g.interacting())return g;l||(l=g)}}if(l)return l;for(var v=0;v<m.interactions.list.length;v++){var E=m.interactions.list[v];if(!(E.pointerType!==d||/down/i.test(p)&&E.simulation))return E}return null},hasPointer:function(a){for(var l=a.pointerId,c=a.scope,d=0;d<c.interactions.list.length;d++){var p=c.interactions.list[d];if(Mw(p,l))return p}return null},idle:function(a){for(var l=a.pointerType,c=a.scope,d=0;d<c.interactions.list.length;d++){var p=c.interactions.list[d];if(p.pointers.length===1){var m=p.interactable;if(m&&(!m.options.gesture||!m.options.gesture.enabled))continue}else if(p.pointers.length>=2)continue;if(!p.interacting()&&l===p.pointerType)return p}return null}};function Mw(a,l){return a.pointers.some(function(c){return c.id===l})}var qO=pc;fc.default=qO;var mc={};function dp(a){return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},dp(a)}function Lw(a,l){return function(c){if(Array.isArray(c))return c}(a)||function(c,d){var p=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(p!=null){var m,w,g=[],v=!0,E=!1;try{for(p=p.call(c);!(v=(m=p.next()).done)&&(g.push(m.value),!d||g.length!==d);v=!0);}catch(k){E=!0,w=k}finally{try{v||p.return==null||p.return()}finally{if(E)throw w}}return g}}(a,l)||function(c,d){if(c){if(typeof c=="string")return Uw(c,d);var p=Object.prototype.toString.call(c).slice(8,-1);return p==="Object"&&c.constructor&&(p=c.constructor.name),p==="Map"||p==="Set"?Array.from(c):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?Uw(c,d):void 0}}(a,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uw(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=Array(l);c<l;c++)d[c]=a[c];return d}function KO(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function QO(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function hp(a,l){return hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,d){return c.__proto__=d,c},hp(a,l)}function XO(a,l){if(l&&(dp(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(a)}function gc(a){return gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},gc(a)}Object.defineProperty(mc,"__esModule",{value:!0}),mc.default=void 0;var fp=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function $w(a,l){return function(c){var d=l.interactions.list,p=X.getPointerType(c),m=Lw(X.getEventTargets(c),2),w=m[0],g=m[1],v=[];if(/^touch/.test(c.type)){l.prevTouchTime=l.now();for(var E=0;E<c.changedTouches.length;E++){var k=c.changedTouches[E],C={pointer:k,pointerId:X.getPointerId(k),pointerType:p,eventType:c.type,eventTarget:w,curEventTarget:g,scope:l},P=Fw(C);v.push([C.pointer,C.eventTarget,C.curEventTarget,P])}}else{var M=!1;if(!j.default.supportsPointerEvent&&/mouse/.test(c.type)){for(var O=0;O<d.length&&!M;O++)M=d[O].pointerType!=="mouse"&&d[O].pointerIsDown;M=M||l.now()-l.prevTouchTime<500||c.timeStamp===0}if(!M){var V={pointer:c,pointerId:X.getPointerId(c),pointerType:p,eventType:c.type,curEventTarget:g,eventTarget:w,scope:l},G=Fw(V);v.push([V.pointer,V.eventTarget,V.curEventTarget,G])}}for(var z=0;z<v.length;z++){var te=Lw(v[z],4),ae=te[0],ye=te[1],Ce=te[2];te[3][a](ae,c,ye,Ce)}}}function Fw(a){var l=a.pointerType,c=a.scope,d={interaction:fc.default.search(a),searchDetails:a};return c.fire("interactions:find",d),d.interaction||c.interactions.new({pointerType:l})}function pp(a,l){var c=a.doc,d=a.scope,p=a.options,m=d.interactions.docEvents,w=d.events,g=w[l];for(var v in d.browser.isIOS&&!p.events&&(p.events={passive:!1}),w.delegatedEvents)g(c,v,w.delegateListener),g(c,v,w.delegateUseCapture,!0);for(var E=p&&p.events,k=0;k<m.length;k++){var C=m[k];g(c,C.type,C.listener,E)}}var JO={id:"core/interactions",install:function(a){for(var l={},c=0;c<fp.length;c++){var d=fp[c];l[d]=$w(d,a)}var p,m=j.default.pEventTypes;function w(){for(var g=0;g<a.interactions.list.length;g++){var v=a.interactions.list[g];if(v.pointerIsDown&&v.pointerType==="touch"&&!v._interacting)for(var E=function(){var C=v.pointers[k];a.documents.some(function(P){var M=P.doc;return(0,L.nodeContains)(M,C.downTarget)})||v.removePointer(C.pointer,C.event)},k=0;k<v.pointers.length;k++)E()}}(p=I.default.PointerEvent?[{type:m.down,listener:w},{type:m.down,listener:l.pointerDown},{type:m.move,listener:l.pointerMove},{type:m.up,listener:l.pointerUp},{type:m.cancel,listener:l.pointerUp}]:[{type:"mousedown",listener:l.pointerDown},{type:"mousemove",listener:l.pointerMove},{type:"mouseup",listener:l.pointerUp},{type:"touchstart",listener:w},{type:"touchstart",listener:l.pointerDown},{type:"touchmove",listener:l.pointerMove},{type:"touchend",listener:l.pointerUp},{type:"touchcancel",listener:l.pointerUp}]).push({type:"blur",listener:function(g){for(var v=0;v<a.interactions.list.length;v++)a.interactions.list[v].documentBlur(g)}}),a.prevTouchTime=0,a.Interaction=function(g){(function(O,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(V&&V.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),V&&hp(O,V)})(M,g);var v,E,k,C,P=(k=M,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,V=gc(k);if(C){var G=gc(this).constructor;O=Reflect.construct(V,arguments,G)}else O=V.apply(this,arguments);return XO(this,O)});function M(){return KO(this,M),P.apply(this,arguments)}return v=M,(E=[{key:"pointerMoveTolerance",get:function(){return a.interactions.pointerMoveTolerance},set:function(O){a.interactions.pointerMoveTolerance=O}},{key:"_now",value:function(){return a.now()}}])&&QO(v.prototype,E),Object.defineProperty(v,"prototype",{writable:!1}),M}(cn.default),a.interactions={list:[],new:function(g){g.scopeFire=function(E,k){return a.fire(E,k)};var v=new a.Interaction(g);return a.interactions.list.push(v),v},listeners:l,docEvents:p,pointerMoveTolerance:1},a.usePlugin(as.default)},listeners:{"scope:add-document":function(a){return pp(a,"add")},"scope:remove-document":function(a){return pp(a,"remove")},"interactable:unset":function(a,l){for(var c=a.interactable,d=l.interactions.list.length-1;d>=0;d--){var p=l.interactions.list[d];p.interactable===c&&(p.stop(),l.fire("interactions:destroy",{interaction:p}),p.destroy(),l.interactions.list.length>2&&l.interactions.list.splice(d,1))}}},onDocSignal:pp,doOnInteractions:$w,methodNames:fp},ZO=JO;mc.default=ZO;var Ua={};function mp(a){return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},mp(a)}function $a(){return $a=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,l,c){var d=eD(a,l);if(d){var p=Object.getOwnPropertyDescriptor(d,l);return p.get?p.get.call(arguments.length<3?a:c):p.value}},$a.apply(this,arguments)}function eD(a,l){for(;!Object.prototype.hasOwnProperty.call(a,l)&&(a=ci(a))!==null;);return a}function gp(a,l){return gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,d){return c.__proto__=d,c},gp(a,l)}function tD(a,l){if(l&&(mp(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(a)}function ci(a){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},ci(a)}function jw(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function Vw(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function zw(a,l,c){return l&&Vw(a.prototype,l),c&&Vw(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function Ct(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.Scope=void 0,Ua.initScope=Bw;var nD=function(){function a(){var l=this;jw(this,a),Ct(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),Ct(this,"isInitialized",!1),Ct(this,"listenerMaps",[]),Ct(this,"browser",j.default),Ct(this,"defaults",(0,ls.default)(Oa.defaults)),Ct(this,"Eventable",Na.Eventable),Ct(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),Ct(this,"interactStatic",(0,ap.createInteractStatic)(this)),Ct(this,"InteractEvent",Da.InteractEvent),Ct(this,"Interactable",void 0),Ct(this,"interactables",new dc.InteractableSet(this)),Ct(this,"_win",void 0),Ct(this,"document",void 0),Ct(this,"window",void 0),Ct(this,"documents",[]),Ct(this,"_plugins",{list:[],map:{}}),Ct(this,"onWindowUnload",function(d){return l.removeDocument(d.target)});var c=this;this.Interactable=function(d){(function(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),E&&gp(v,E)})(g,d);var p,m,w=(p=g,m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var v,E=ci(p);if(m){var k=ci(this).constructor;v=Reflect.construct(E,arguments,k)}else v=E.apply(this,arguments);return tD(this,v)});function g(){return jw(this,g),w.apply(this,arguments)}return zw(g,[{key:"_defaults",get:function(){return c.defaults}},{key:"set",value:function(v){return $a(ci(g.prototype),"set",this).call(this,v),c.fire("interactable:set",{options:v,interactable:this}),this}},{key:"unset",value:function(){$a(ci(g.prototype),"unset",this).call(this);var v=c.interactables.list.indexOf(this);v<0||($a(ci(g.prototype),"unset",this).call(this),c.interactables.list.splice(v,1),c.fire("interactable:unset",{interactable:this}))}}]),g}(cc.Interactable)}return zw(a,[{key:"addListeners",value:function(l,c){this.listenerMaps.push({id:c,map:l})}},{key:"fire",value:function(l,c){for(var d=0;d<this.listenerMaps.length;d++){var p=this.listenerMaps[d].map[l];if(p&&p(c,this,l)===!1)return!1}}},{key:"init",value:function(l){return this.isInitialized?this:Bw(this,l)}},{key:"pluginIsInstalled",value:function(l){return this._plugins.map[l.id]||this._plugins.list.indexOf(l)!==-1}},{key:"usePlugin",value:function(l,c){if(!this.isInitialized)return this;if(this.pluginIsInstalled(l))return this;if(l.id&&(this._plugins.map[l.id]=l),this._plugins.list.push(l),l.install&&l.install(this,c),l.listeners&&l.before){for(var d=0,p=this.listenerMaps.length,m=l.before.reduce(function(g,v){return g[v]=!0,g[Ww(v)]=!0,g},{});d<p;d++){var w=this.listenerMaps[d].id;if(m[w]||m[Ww(w)])break}this.listenerMaps.splice(d,0,{id:l.id,map:l.listeners})}else l.listeners&&this.listenerMaps.push({id:l.id,map:l.listeners});return this}},{key:"addDocument",value:function(l,c){if(this.getDocIndex(l)!==-1)return!1;var d=r.getWindow(l);c=c?(0,ie.default)({},c):{},this.documents.push({doc:l,options:c}),this.events.documents.push(l),l!==this.document&&this.events.add(d,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:l,window:d,scope:this,options:c})}},{key:"removeDocument",value:function(l){var c=this.getDocIndex(l),d=r.getWindow(l),p=this.documents[c].options;this.events.remove(d,"unload",this.onWindowUnload),this.documents.splice(c,1),this.events.documents.splice(c,1),this.fire("scope:remove-document",{doc:l,window:d,scope:this,options:p})}},{key:"getDocIndex",value:function(l){for(var c=0;c<this.documents.length;c++)if(this.documents[c].doc===l)return c;return-1}},{key:"getDocOptions",value:function(l){var c=this.getDocIndex(l);return c===-1?null:this.documents[c].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),a}();function Bw(a,l){return a.isInitialized=!0,u.default.window(l)&&r.init(l),I.default.init(l),j.default.init(l),Hn.default.init(l),a.window=l,a.document=l.document,a.usePlugin(mc.default),a.usePlugin(hc.default),a}function Ww(a){return a&&a.replace(/\/.*$/,"")}Ua.Scope=nD;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.default=void 0;var Hw=new Ua.Scope,rD=Hw.interactStatic;Ot.default=rD;var iD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;Hw.init(iD);var yc={};Object.defineProperty(yc,"__esModule",{value:!0}),yc.default=void 0,yc.default=function(){};var vc={};Object.defineProperty(vc,"__esModule",{value:!0}),vc.default=void 0,vc.default=function(){};var wc={};function Yw(a,l){return function(c){if(Array.isArray(c))return c}(a)||function(c,d){var p=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(p!=null){var m,w,g=[],v=!0,E=!1;try{for(p=p.call(c);!(v=(m=p.next()).done)&&(g.push(m.value),!d||g.length!==d);v=!0);}catch(k){E=!0,w=k}finally{try{v||p.return==null||p.return()}finally{if(E)throw w}}return g}}(a,l)||function(c,d){if(c){if(typeof c=="string")return Gw(c,d);var p=Object.prototype.toString.call(c).slice(8,-1);return p==="Object"&&c.constructor&&(p=c.constructor.name),p==="Map"||p==="Set"?Array.from(c):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?Gw(c,d):void 0}}(a,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gw(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=Array(l);c<l;c++)d[c]=a[c];return d}Object.defineProperty(wc,"__esModule",{value:!0}),wc.default=void 0,wc.default=function(a){var l=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(d){var p=Yw(d,2),m=p[0],w=p[1];return m in a||w in a}),c=function(d,p){for(var m=a.range,w=a.limits,g=w===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:w,v=a.offset,E=v===void 0?{x:0,y:0}:v,k={range:m,grid:a,x:null,y:null},C=0;C<l.length;C++){var P=Yw(l[C],2),M=P[0],O=P[1],V=Math.round((d-E.x)/a[M]),G=Math.round((p-E.y)/a[O]);k[M]=Math.max(g.left,Math.min(g.right,V*a[M]+E.x)),k[O]=Math.max(g.top,Math.min(g.bottom,G*a[O]+E.y))}return k};return c.grid=a,c.coordFields=l,c};var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0}),Object.defineProperty(Fa,"edgeTarget",{enumerable:!0,get:function(){return yc.default}}),Object.defineProperty(Fa,"elements",{enumerable:!0,get:function(){return vc.default}}),Object.defineProperty(Fa,"grid",{enumerable:!0,get:function(){return wc.default}});var _c={};Object.defineProperty(_c,"__esModule",{value:!0}),_c.default=void 0;var sD={id:"snappers",install:function(a){var l=a.interactStatic;l.snappers=(0,ie.default)(l.snappers||{},Fa),l.createSnapGrid=l.snappers.grid}},oD=sD;_c.default=oD;var no={};function qw(a,l){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);l&&(d=d.filter(function(p){return Object.getOwnPropertyDescriptor(a,p).enumerable})),c.push.apply(c,d)}return c}function yp(a){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?qw(Object(c),!0).forEach(function(d){aD(a,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):qw(Object(c)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(c,d))})}return a}function aD(a,l,c){return l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}Object.defineProperty(no,"__esModule",{value:!0}),no.default=no.aspectRatio=void 0;var Kw={start:function(a){var l=a.state,c=a.rect,d=a.edges,p=a.pageCoords,m=l.options.ratio,w=l.options,g=w.equalDelta,v=w.modifiers;m==="preserve"&&(m=c.width/c.height),l.startCoords=(0,ie.default)({},p),l.startRect=(0,ie.default)({},c),l.ratio=m,l.equalDelta=g;var E=l.linkedEdges={top:d.top||d.left&&!d.bottom,left:d.left||d.top&&!d.right,bottom:d.bottom||d.right&&!d.top,right:d.right||d.bottom&&!d.left};if(l.xIsPrimaryAxis=!(!d.left&&!d.right),l.equalDelta){var k=(E.left?1:-1)*(E.top?1:-1);l.edgeSign={x:k,y:k}}else l.edgeSign={x:E.left?-1:1,y:E.top?-1:1};if((0,ie.default)(a.edges,E),v&&v.length){var C=new us.default(a.interaction);C.copyFrom(a.interaction.modification),C.prepareStates(v),l.subModification=C,C.startAll(yp({},a))}},set:function(a){var l=a.state,c=a.rect,d=a.coords,p=(0,ie.default)({},d),m=l.equalDelta?lD:uD;if(m(l,l.xIsPrimaryAxis,d,c),!l.subModification)return null;var w=(0,ie.default)({},c);(0,Ne.addEdges)(l.linkedEdges,w,{x:d.x-p.x,y:d.y-p.y});var g=l.subModification.setAll(yp(yp({},a),{},{rect:w,edges:l.linkedEdges,pageCoords:d,prevCoords:d,prevRect:w})),v=g.delta;return g.changed&&(m(l,Math.abs(v.x)>Math.abs(v.y),g.coords,g.rect),(0,ie.default)(d,g.coords)),g.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function lD(a,l,c){var d=a.startCoords,p=a.edgeSign;l?c.y=d.y+(c.x-d.x)*p.y:c.x=d.x+(c.y-d.y)*p.x}function uD(a,l,c,d){var p=a.startRect,m=a.startCoords,w=a.ratio,g=a.edgeSign;if(l){var v=d.width/w;c.y=m.y+(v-p.height)*g.y}else{var E=d.height*w;c.x=m.x+(E-p.width)*g.x}}no.aspectRatio=Kw;var cD=(0,xt.makeModifier)(Kw,"aspectRatio");no.default=cD;var hs={};Object.defineProperty(hs,"__esModule",{value:!0}),hs.default=void 0;var Qw=function(){};Qw._defaults={};var dD=Qw;hs.default=dD;var vp={};Object.defineProperty(vp,"__esModule",{value:!0}),Object.defineProperty(vp,"default",{enumerable:!0,get:function(){return hs.default}});var tn={};function wp(a,l,c){return u.default.func(a)?Ne.resolveRectLike(a,l.interactable,l.element,[c.x,c.y,l]):Ne.resolveRectLike(a,l.interactable,l.element)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0,tn.getRestrictionRect=wp,tn.restrict=void 0;var Xw={start:function(a){var l=a.rect,c=a.startOffset,d=a.state,p=a.interaction,m=a.pageCoords,w=d.options,g=w.elementRect,v=(0,ie.default)({left:0,top:0,right:0,bottom:0},w.offset||{});if(l&&g){var E=wp(w.restriction,p,m);if(E){var k=E.right-E.left-l.width,C=E.bottom-E.top-l.height;k<0&&(v.left+=k,v.right+=k),C<0&&(v.top+=C,v.bottom+=C)}v.left+=c.left-l.width*g.left,v.top+=c.top-l.height*g.top,v.right+=c.right-l.width*(1-g.right),v.bottom+=c.bottom-l.height*(1-g.bottom)}d.offset=v},set:function(a){var l=a.coords,c=a.interaction,d=a.state,p=d.options,m=d.offset,w=wp(p.restriction,c,l);if(w){var g=Ne.xywhToTlbr(w);l.x=Math.max(Math.min(g.right-m.right,l.x),g.left+m.left),l.y=Math.max(Math.min(g.bottom-m.bottom,l.y),g.top+m.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};tn.restrict=Xw;var hD=(0,xt.makeModifier)(Xw,"restrict");tn.default=hD;var or={};Object.defineProperty(or,"__esModule",{value:!0}),or.restrictEdges=or.default=void 0;var Jw={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Zw={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function e_(a,l){for(var c=["top","left","bottom","right"],d=0;d<c.length;d++){var p=c[d];p in a||(a[p]=l[p])}return a}var t_={noInner:Jw,noOuter:Zw,start:function(a){var l,c=a.interaction,d=a.startOffset,p=a.state,m=p.options;if(m){var w=(0,tn.getRestrictionRect)(m.offset,c,c.coords.start.page);l=Ne.rectToXY(w)}l=l||{x:0,y:0},p.offset={top:l.y+d.top,left:l.x+d.left,bottom:l.y-d.bottom,right:l.x-d.right}},set:function(a){var l=a.coords,c=a.edges,d=a.interaction,p=a.state,m=p.offset,w=p.options;if(c){var g=(0,ie.default)({},l),v=(0,tn.getRestrictionRect)(w.inner,d,g)||{},E=(0,tn.getRestrictionRect)(w.outer,d,g)||{};e_(v,Jw),e_(E,Zw),c.top?l.y=Math.min(Math.max(E.top+m.top,g.y),v.top+m.top):c.bottom&&(l.y=Math.max(Math.min(E.bottom+m.bottom,g.y),v.bottom+m.bottom)),c.left?l.x=Math.min(Math.max(E.left+m.left,g.x),v.left+m.left):c.right&&(l.x=Math.max(Math.min(E.right+m.right,g.x),v.right+m.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};or.restrictEdges=t_;var fD=(0,xt.makeModifier)(t_,"restrictEdges");or.default=fD;var ro={};Object.defineProperty(ro,"__esModule",{value:!0}),ro.restrictRect=ro.default=void 0;var pD=(0,ie.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(a){}},tn.restrict.defaults),n_={start:tn.restrict.start,set:tn.restrict.set,defaults:pD};ro.restrictRect=n_;var mD=(0,xt.makeModifier)(n_,"restrictRect");ro.default=mD;var io={};Object.defineProperty(io,"__esModule",{value:!0}),io.restrictSize=io.default=void 0;var gD={width:-1/0,height:-1/0},yD={width:1/0,height:1/0},r_={start:function(a){return or.restrictEdges.start(a)},set:function(a){var l=a.interaction,c=a.state,d=a.rect,p=a.edges,m=c.options;if(p){var w=Ne.tlbrToXywh((0,tn.getRestrictionRect)(m.min,l,a.coords))||gD,g=Ne.tlbrToXywh((0,tn.getRestrictionRect)(m.max,l,a.coords))||yD;c.options={endOnly:m.endOnly,inner:(0,ie.default)({},or.restrictEdges.noInner),outer:(0,ie.default)({},or.restrictEdges.noOuter)},p.top?(c.options.inner.top=d.bottom-w.height,c.options.outer.top=d.bottom-g.height):p.bottom&&(c.options.inner.bottom=d.top+w.height,c.options.outer.bottom=d.top+g.height),p.left?(c.options.inner.left=d.right-w.width,c.options.outer.left=d.right-g.width):p.right&&(c.options.inner.right=d.left+w.width,c.options.outer.right=d.left+g.width),or.restrictEdges.set(a),c.options=m}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};io.restrictSize=r_;var vD=(0,xt.makeModifier)(r_,"restrictSize");io.default=vD;var _p={};Object.defineProperty(_p,"__esModule",{value:!0}),Object.defineProperty(_p,"default",{enumerable:!0,get:function(){return hs.default}});var di={};Object.defineProperty(di,"__esModule",{value:!0}),di.snap=di.default=void 0;var i_={start:function(a){var l,c=a.interaction,d=a.interactable,p=a.element,m=a.rect,w=a.state,g=a.startOffset,v=w.options,E=v.offsetWithOrigin?function(P){var M=P.interaction.element;return(0,Ne.rectToXY)((0,Ne.resolveRectLike)(P.state.options.origin,null,null,[M]))||(0,le.default)(P.interactable,M,P.interaction.prepared.name)}(a):{x:0,y:0};if(v.offset==="startCoords")l={x:c.coords.start.page.x,y:c.coords.start.page.y};else{var k=(0,Ne.resolveRectLike)(v.offset,d,p,[c]);(l=(0,Ne.rectToXY)(k)||{x:0,y:0}).x+=E.x,l.y+=E.y}var C=v.relativePoints;w.offsets=m&&C&&C.length?C.map(function(P,M){return{index:M,relativePoint:P,x:g.left-m.width*P.x+l.x,y:g.top-m.height*P.y+l.y}}):[{index:0,relativePoint:null,x:l.x,y:l.y}]},set:function(a){var l=a.interaction,c=a.coords,d=a.state,p=d.options,m=d.offsets,w=(0,le.default)(l.interactable,l.element,l.prepared.name),g=(0,ie.default)({},c),v=[];p.offsetWithOrigin||(g.x-=w.x,g.y-=w.y);for(var E=0;E<m.length;E++)for(var k=m[E],C=g.x-k.x,P=g.y-k.y,M=0,O=p.targets.length;M<O;M++){var V,G=p.targets[M];(V=u.default.func(G)?G(C,P,l._proxy,k,M):G)&&v.push({x:(u.default.number(V.x)?V.x:C)+k.x,y:(u.default.number(V.y)?V.y:P)+k.y,range:u.default.number(V.range)?V.range:p.range,source:G,index:M,offset:k})}for(var z={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},te=0;te<v.length;te++){var ae=v[te],ye=ae.range,Ce=ae.x-g.x,je=ae.y-g.y,_e=(0,Le.default)(Ce,je),Fe=_e<=ye;ye===1/0&&z.inRange&&z.range!==1/0&&(Fe=!1),z.target&&!(Fe?z.inRange&&ye!==1/0?_e/ye<z.distance/z.range:ye===1/0&&z.range!==1/0||_e<z.distance:!z.inRange&&_e<z.distance)||(z.target=ae,z.distance=_e,z.range=ye,z.inRange=Fe,z.delta.x=Ce,z.delta.y=je)}return z.inRange&&(c.x=z.target.x,c.y=z.target.y),d.closest=z,z},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};di.snap=i_;var wD=(0,xt.makeModifier)(i_,"snap");di.default=wD;var Rr={};function s_(a,l){(l==null||l>a.length)&&(l=a.length);for(var c=0,d=Array(l);c<l;c++)d[c]=a[c];return d}Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.snapSize=Rr.default=void 0;var o_={start:function(a){var l=a.state,c=a.edges,d=l.options;if(!c)return null;a.state={options:{targets:null,relativePoints:[{x:c.left?0:1,y:c.top?0:1}],offset:d.offset||"self",origin:{x:0,y:0},range:d.range}},l.targetFields=l.targetFields||[["width","height"],["x","y"]],di.snap.start(a),l.offsets=a.state.offsets,a.state=l},set:function(a){var l,c,d=a.interaction,p=a.state,m=a.coords,w=p.options,g=p.offsets,v={x:m.x-g[0].x,y:m.y-g[0].y};p.options=(0,ie.default)({},w),p.options.targets=[];for(var E=0;E<(w.targets||[]).length;E++){var k=(w.targets||[])[E],C=void 0;if(C=u.default.func(k)?k(v.x,v.y,d):k){for(var P=0;P<p.targetFields.length;P++){var M=(l=p.targetFields[P],c=2,function(z){if(Array.isArray(z))return z}(l)||function(z,te){var ae=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(ae!=null){var ye,Ce,je=[],_e=!0,Fe=!1;try{for(ae=ae.call(z);!(_e=(ye=ae.next()).done)&&(je.push(ye.value),!te||je.length!==te);_e=!0);}catch(An){Fe=!0,Ce=An}finally{try{_e||ae.return==null||ae.return()}finally{if(Fe)throw Ce}}return je}}(l,c)||function(z,te){if(z){if(typeof z=="string")return s_(z,te);var ae=Object.prototype.toString.call(z).slice(8,-1);return ae==="Object"&&z.constructor&&(ae=z.constructor.name),ae==="Map"||ae==="Set"?Array.from(z):ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae)?s_(z,te):void 0}}(l,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),O=M[0],V=M[1];if(O in C||V in C){C.x=C[O],C.y=C[V];break}}p.options.targets.push(C)}}var G=di.snap.set(a);return p.options=w,G},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Rr.snapSize=o_;var _D=(0,xt.makeModifier)(o_,"snapSize");Rr.default=_D;var so={};Object.defineProperty(so,"__esModule",{value:!0}),so.snapEdges=so.default=void 0;var a_={start:function(a){var l=a.edges;return l?(a.state.targetFields=a.state.targetFields||[[l.left?"left":"right",l.top?"top":"bottom"]],Rr.snapSize.start(a)):null},set:Rr.snapSize.set,defaults:(0,ie.default)((0,ls.default)(Rr.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};so.snapEdges=a_;var SD=(0,xt.makeModifier)(a_,"snapEdges");so.default=SD;var Sp={};Object.defineProperty(Sp,"__esModule",{value:!0}),Object.defineProperty(Sp,"default",{enumerable:!0,get:function(){return hs.default}});var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0}),Object.defineProperty(Ep,"default",{enumerable:!0,get:function(){return hs.default}});var oo={};Object.defineProperty(oo,"__esModule",{value:!0}),oo.default=void 0;var ED={aspectRatio:no.default,restrictEdges:or.default,restrict:tn.default,restrictRect:ro.default,restrictSize:io.default,snapEdges:so.default,snap:di.default,snapSize:Rr.default,spring:Sp.default,avoid:vp.default,transform:Ep.default,rubberband:_p.default};oo.default=ED;var ja={};Object.defineProperty(ja,"__esModule",{value:!0}),ja.default=void 0;var TD={id:"modifiers",install:function(a){var l=a.interactStatic;for(var c in a.usePlugin(xt.default),a.usePlugin(_c.default),l.modifiers=oo.default,oo.default){var d=oo.default[c],p=d._defaults,m=d._methods;p._methods=m,a.defaults.perAction[c]=p}}},kD=TD;ja.default=kD;var fs={};function Tp(a){return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Tp(a)}function ID(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function kp(a,l){return kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,d){return c.__proto__=d,c},kp(a,l)}function bD(a,l){if(l&&(Tp(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ip(a)}function Ip(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Sc(a){return Sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},Sc(a)}Object.defineProperty(fs,"__esModule",{value:!0}),fs.default=fs.PointerEvent=void 0;var xD=function(a){(function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),v&&kp(g,v)})(w,a);var l,c,d,p,m=(d=w,p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var g,v=Sc(d);if(p){var E=Sc(this).constructor;g=Reflect.construct(v,arguments,E)}else g=v.apply(this,arguments);return bD(this,g)});function w(g,v,E,k,C,P){var M;if(function(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}(this,w),M=m.call(this,C),X.pointerExtend(Ip(M),E),E!==v&&X.pointerExtend(Ip(M),v),M.timeStamp=P,M.originalEvent=E,M.type=g,M.pointerId=X.getPointerId(v),M.pointerType=X.getPointerType(v),M.target=k,M.currentTarget=null,g==="tap"){var O=C.getPointerIndex(v);M.dt=M.timeStamp-C.pointers[O].downTime;var V=M.timeStamp-C.tapTime;M.double=!!C.prevTap&&C.prevTap.type!=="doubletap"&&C.prevTap.target===M.target&&V<500}else g==="doubletap"&&(M.dt=v.timeStamp-C.tapTime,M.double=!0);return M}return l=w,(c=[{key:"_subtractOrigin",value:function(g){var v=g.x,E=g.y;return this.pageX-=v,this.pageY-=E,this.clientX-=v,this.clientY-=E,this}},{key:"_addOrigin",value:function(g){var v=g.x,E=g.y;return this.pageX+=v,this.pageY+=E,this.clientX+=v,this.clientY+=E,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&ID(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),w}(Zs.BaseEvent);fs.PointerEvent=fs.default=xD;var Va={};Object.defineProperty(Va,"__esModule",{value:!0}),Va.default=void 0;var Ec={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(a){a.pointerEvents=Ec,a.defaults.actions.pointerEvents=Ec.defaults,(0,ie.default)(a.actions.phaselessTypes,Ec.types)},listeners:{"interactions:new":function(a){var l=a.interaction;l.prevTap=null,l.tapTime=0},"interactions:update-pointer":function(a){var l=a.down,c=a.pointerInfo;!l&&c.hold||(c.hold={duration:1/0,timeout:null})},"interactions:move":function(a,l){var c=a.interaction,d=a.pointer,p=a.event,m=a.eventTarget;a.duplicate||c.pointerIsDown&&!c.pointerWasMoved||(c.pointerIsDown&&bp(a),hi({interaction:c,pointer:d,event:p,eventTarget:m,type:"move"},l))},"interactions:down":function(a,l){(function(c,d){for(var p=c.interaction,m=c.pointer,w=c.event,g=c.eventTarget,v=c.pointerIndex,E=p.pointers[v].hold,k=L.getPath(g),C={interaction:p,pointer:m,event:w,eventTarget:g,type:"hold",targets:[],path:k,node:null},P=0;P<k.length;P++){var M=k[P];C.node=M,d.fire("pointerEvents:collect-targets",C)}if(C.targets.length){for(var O=1/0,V=0;V<C.targets.length;V++){var G=C.targets[V].eventable.options.holdDuration;G<O&&(O=G)}E.duration=O,E.timeout=setTimeout(function(){hi({interaction:p,eventTarget:g,pointer:m,event:w,type:"hold"},d)},O)}})(a,l),hi(a,l)},"interactions:up":function(a,l){bp(a),hi(a,l),function(c,d){var p=c.interaction,m=c.pointer,w=c.event,g=c.eventTarget;p.pointerWasMoved||hi({interaction:p,eventTarget:g,pointer:m,event:w,type:"tap"},d)}(a,l)},"interactions:cancel":function(a,l){bp(a),hi(a,l)}},PointerEvent:fs.PointerEvent,fire:hi,collectEventTargets:l_,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function hi(a,l){var c=a.interaction,d=a.pointer,p=a.event,m=a.eventTarget,w=a.type,g=a.targets,v=g===void 0?l_(a,l):g,E=new fs.PointerEvent(w,d,p,m,c,l.now());l.fire("pointerEvents:new",{pointerEvent:E});for(var k={interaction:c,pointer:d,event:p,eventTarget:m,targets:v,type:w,pointerEvent:E},C=0;C<v.length;C++){var P=v[C];for(var M in P.props||{})E[M]=P.props[M];var O=(0,le.default)(P.eventable,P.node);if(E._subtractOrigin(O),E.eventable=P.eventable,E.currentTarget=P.node,P.eventable.fire(E),E._addOrigin(O),E.immediatePropagationStopped||E.propagationStopped&&C+1<v.length&&v[C+1].node!==E.currentTarget)break}if(l.fire("pointerEvents:fired",k),w==="tap"){var V=E.double?hi({interaction:c,pointer:d,event:p,eventTarget:m,type:"doubletap"},l):E;c.prevTap=V,c.tapTime=V.timeStamp}return E}function l_(a,l){var c=a.interaction,d=a.pointer,p=a.event,m=a.eventTarget,w=a.type,g=c.getPointerIndex(d),v=c.pointers[g];if(w==="tap"&&(c.pointerWasMoved||!v||v.downTarget!==m))return[];for(var E=L.getPath(m),k={interaction:c,pointer:d,event:p,eventTarget:m,type:w,path:E,targets:[],node:null},C=0;C<E.length;C++){var P=E[C];k.node=P,l.fire("pointerEvents:collect-targets",k)}return w==="hold"&&(k.targets=k.targets.filter(function(M){var O;return M.eventable.options.holdDuration===((O=c.pointers[g])==null?void 0:O.hold.duration)})),k.targets}function bp(a){var l=a.interaction,c=a.pointerIndex,d=l.pointers[c].hold;d&&d.timeout&&(clearTimeout(d.timeout),d.timeout=null)}var CD=Ec;Va.default=CD;var Tc={};function OD(a){var l=a.interaction;l.holdIntervalHandle&&(clearInterval(l.holdIntervalHandle),l.holdIntervalHandle=null)}Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.default=void 0;var DD={id:"pointer-events/holdRepeat",install:function(a){a.usePlugin(Va.default);var l=a.pointerEvents;l.defaults.holdRepeatInterval=0,l.types.holdrepeat=a.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(a,l){return a["pointerEvents:".concat(l)]=OD,a},{"pointerEvents:new":function(a){var l=a.pointerEvent;l.type==="hold"&&(l.count=(l.count||0)+1)},"pointerEvents:fired":function(a,l){var c=a.interaction,d=a.pointerEvent,p=a.eventTarget,m=a.targets;if(d.type==="hold"&&m.length){var w=m[0].eventable.options.holdRepeatInterval;w<=0||(c.holdIntervalHandle=setTimeout(function(){l.pointerEvents.fire({interaction:c,eventTarget:p,type:"hold",pointer:d,event:d},l)},w))}}})},RD=DD;Tc.default=RD;var kc={};function PD(a){return(0,ie.default)(this.events.options,a),this}Object.defineProperty(kc,"__esModule",{value:!0}),kc.default=void 0;var ND={id:"pointer-events/interactableTargets",install:function(a){var l=a.Interactable;l.prototype.pointerEvents=PD;var c=l.prototype._backCompatOption;l.prototype._backCompatOption=function(d,p){var m=c.call(this,d,p);return m===this&&(this.events.options[d]=p),m}},listeners:{"pointerEvents:collect-targets":function(a,l){var c=a.targets,d=a.node,p=a.type,m=a.eventTarget;l.interactables.forEachMatch(d,function(w){var g=w.events,v=g.options;g.types[p]&&g.types[p].length&&w.testIgnoreAllow(v,d,m)&&c.push({node:d,eventable:g,props:{interactable:w}})})},"interactable:new":function(a){var l=a.interactable;l.events.getRect=function(c){return l.getRect(c)}},"interactable:set":function(a,l){var c=a.interactable,d=a.options;(0,ie.default)(c.events.options,l.pointerEvents.defaults),(0,ie.default)(c.events.options,d.pointerEvents||{})}}},AD=ND;kc.default=AD;var za={};Object.defineProperty(za,"__esModule",{value:!0}),za.default=void 0;var MD={id:"pointer-events",install:function(a){a.usePlugin(Va),a.usePlugin(Tc.default),a.usePlugin(kc.default)}},LD=MD;za.default=LD;var ao={};function u_(a){var l=a.Interactable;a.actions.phases.reflow=!0,l.prototype.reflow=function(c){return function(d,p,m){for(var w=u.default.string(d.target)?Ue.from(d._context.querySelectorAll(d.target)):[d.target],g=m.window.Promise,v=g?[]:null,E=function(){var C=w[k],P=d.getRect(C);if(!P)return"break";var M=Ue.find(m.interactions.list,function(te){return te.interacting()&&te.interactable===d&&te.element===C&&te.prepared.name===p.name}),O=void 0;if(M)M.move(),v&&(O=M._reflowPromise||new g(function(te){M._reflowResolve=te}));else{var V=(0,Ne.tlbrToXywh)(P),G={page:{x:V.x,y:V.y},client:{x:V.x,y:V.y},timeStamp:m.now()},z=X.coordsToEvent(G);O=function(te,ae,ye,Ce,je){var _e=te.interactions.new({pointerType:"reflow"}),Fe={interaction:_e,event:je,pointer:je,eventTarget:ye,phase:"reflow"};_e.interactable=ae,_e.element=ye,_e.prevEvent=je,_e.updatePointer(je,je,ye,!0),X.setZeroCoords(_e.coords.delta),(0,wn.copyAction)(_e.prepared,Ce),_e._doPhase(Fe);var An=te.window.Promise,Pr=An?new An(function(Op){_e._reflowResolve=Op}):void 0;return _e._reflowPromise=Pr,_e.start(Ce,ae,ye),_e._interacting?(_e.move(Fe),_e.end(je)):(_e.stop(),_e._reflowResolve()),_e.removePointer(je,je),Pr}(m,d,C,p,z)}v&&v.push(O)},k=0;k<w.length&&E()!=="break";k++);return v&&g.all(v).then(function(){return d})}(this,c,a)}}Object.defineProperty(ao,"__esModule",{value:!0}),ao.default=void 0,ao.install=u_;var UD={id:"reflow",install:u_,listeners:{"interactions:stop":function(a,l){var c=a.interaction;c.pointerType==="reflow"&&(c._reflowResolve&&c._reflowResolve(),Ue.remove(l.interactions.list,c))}}},$D=UD;ao.default=$D;var Nn={exports:{}};function xp(a){return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},xp(a)}Object.defineProperty(Nn.exports,"__esModule",{value:!0}),Nn.exports.default=void 0,Ot.default.use(as.default),Ot.default.use(ui.default),Ot.default.use(za.default),Ot.default.use(ds.default),Ot.default.use(ja.default),Ot.default.use(xa.default),Ot.default.use(Ia.default),Ot.default.use(Or.default),Ot.default.use(ao.default);var FD=Ot.default;if(Nn.exports.default=FD,xp(Nn)==="object"&&Nn)try{Nn.exports=Ot.default}catch{}Ot.default.default=Ot.default,Ia.default,Or.default,xa.default,as.default,rc.default,ds.default,Ot.default,ja.default,ui.default,za.default,ao.default,Nn=Nn.exports;var ps={exports:{}};function Cp(a){return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Cp(a)}Object.defineProperty(ps.exports,"__esModule",{value:!0}),ps.exports.default=void 0;var jD=Nn.default;if(ps.exports.default=jD,Cp(ps)==="object"&&ps)try{ps.exports=Nn.default}catch{}return Nn.default.default=Nn.default,ps.exports})})(oH);const tl=iE(vy),aH=()=>{const[t,e]=N.useState("closed"),[n,r]=N.useState("closed"),i=N.useRef(null),s=N.useRef(null),o=N.useRef(null),u=N.useRef(null),h=hE.forwardRef((y,_)=>{const[S,b]=N.useState(!0);return U("div",{ref:_,onClick:()=>{b(!S),y.handleSidebarState("settings")},className:"Overlay",style:{display:"none"},onAnimationEnd:()=>{s.current&&t==="closed"&&(s.current.style.display="none")}})});N.useEffect(()=>{u.current&&tl(u.current).resizable({margin:5,edges:{top:!0,right:!0,bottom:!0,left:!0},restrictEdges:{outer:".Home",endOnly:!0},listeners:{move:function(y){let{x:_,y:S}=y.target.dataset;_=(parseFloat(_)||0)+y.deltaRect.left,S=(parseFloat(S)||0)+y.deltaRect.top,Object.assign(y.target.style,{width:`${y.rect.width}px`,height:`${y.rect.height}px`,transform:`translate(${_}px, ${S}px)`}),Object.assign(y.target.dataset,{x:_,y:S})}},modifiers:[tl.modifiers.restrictSize({min:{width:400,height:505}}),tl.modifiers.restrict({restriction:".Home",endOnly:!0})]}).draggable({allowFrom:".TopPanel",restrict:{restriction:".Home"},listeners:{move(y){const _=y.target,S=(parseFloat(_.getAttribute("data-x"))||0)+y.dx,b=(parseFloat(_.getAttribute("data-y"))||0)+y.dy;_.style.webkitTransform=_.style.transform="translate("+S+"px, "+b+"px)",_.setAttribute("data-x",S),_.setAttribute("data-y",b)}},inertia:!0,modifiers:[tl.modifiers.restrictRect({restriction:".Home",endOnly:!0})]})},[u]),N.useEffect(()=>{o.current&&tl(o.current).resizable({margin:5,edges:{top:!1,left:!1,bottom:!1,right:!0},listeners:{move:function(y){let{x:_}=y.target.dataset;_=(parseFloat(_)||0)+y.deltaRect.left,Object.assign(y.target.style,{width:`${y.rect.width}px`,transform:`translate(${_}px)`}),Object.assign(y.target.dataset,{x:_})}}})},[o]),N.useEffect(()=>{s.current&&(t==="opened"?(s.current.style.display="block",s.current.style.animation="reveal .2s ease-in-out forwards"):(s.current.style.animation="hide .2s ease-in-out forwards",setTimeout(()=>{s.current.style.display="none"},200)))},[t]);const f=y=>{y==="chat"?n==="closed"&&r("opened"):e(t==="closed"?"opened":"closed")};return U("div",{className:"Home h-100 mx-0 my-0",children:Pe("div",{className:"ChatContainer d-flex flex-column px-0",ref:u,children:[U("div",{className:"TopPanel",ref:i}),Pe("div",{className:"d-flex h-100",children:[Pe("div",{className:"Sidebar d-flex flex-column",ref:o,children:[U(Gz,{handleSidebarState:f}),U(KW,{handleSidebarState:f}),U(QW,{state:t})]}),Pe("div",{className:"Chat d-flex flex-column",children:[n==="closed"&&U(nE,{sidebarChatState:n}),n==="opened"&&Pe(N.Fragment,{children:[U(XW,{}),U(nE,{sidebarChatState:n}),U(sH,{})]})]}),U(h,{handleSidebarState:f,ref:s})]})]})})};function lH(){const{currentUser:t}=N.useContext(ts);return U(mA,{children:Pe(cA,{children:[U(fd,{path:"/React-Chat",element:U(Hz,{})}),U(fd,{path:"/React-Chat/SignUp",element:U(Wz,{})}),U(fd,{path:"/React-Chat/Home",element:U(({children:n})=>t?n:U(lA,{to:"/React-Chat"}),{children:U(aH,{})})})]})})}Dm.createRoot(document.getElementById("root")).render(U(Yz,{children:U(qz,{children:U(lH,{})})}))});export default uH();
